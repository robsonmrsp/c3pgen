/*
 RequireJS 2.1.13 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */

/**
 * bootbox.js [v4.1.0]
 *
 * http://bootboxjs.com/license.txt
 */

/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*
 *
 * Copyright (c) 2006-2011 Sam Collett (http://www.texotela.co.uk)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 1.3.1
 * Demo: http://www.texotela.co.uk/code/jquery/numeric/
 *
 */

/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
 */

/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Easy element scrolling using jQuery.
 * @author Ariel Flesler
 * @version 1.4.11
 */

/*
 * Inline Form Validation Engine 2.6.2, jQuery plugin
 *
 * Copyright(c) 2010, Cedric Dugas
 * http://www.position-absolute.com
 *
 * 2.0 Rewrite by Olivier Refalo
 * http://www.crionics.com
 *
 * Form validation engine allowing custom regex rules to be added.
 * Licensed under the MIT License
 */

// ┌────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.1.2 - JavaScript Vector Library                          │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license.│ \\
// └────────────────────────────────────────────────────────────────────┘ \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ┌────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.4.2 - JavaScript Events Library                      │ \\
// ├────────────────────────────────────────────────────────────┤ \\
// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\
// └────────────────────────────────────────────────────────────┘ \\

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ "Raphaël 2.1.2" - JavaScript Vector Library │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com) │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com) │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\

// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com) │ \\

// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com) │ \\

// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\

//! moment.js
//! version : 2.7.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*
Version 3.0.0
=========================================================
bootstrap-datetimepicker.js
https://github.com/Eonasdan/bootstrap-datetimepicker
=========================================================
The MIT License (MIT)

Copyright (c) 2014 Jonathan Peterson

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*! jQuery UI - v1.10.4 - 2014-04-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.1
 *
 */

/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 0.6.5
 *
 */

/*
 * Gritter for jQuery
 * http://www.boedesign.com/
 *
 * Copyright (c) 2012 Jordan Boesch
 * Dual licensed under the MIT and GPL licenses.
 *
 * Date: February 24, 2012
 * Version: 1.7.4
 */

/*! X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */

/**
* Combodate - 1.0.5
* Dropdown date and time picker.
* Converts text input into dropdowns to pick day, month, year, hour, minute and second.
* Uses momentjs as datetime library http://momentjs.com.
* For i18n include corresponding file from https://github.com/timrwood/moment/tree/master/lang 
*
* Confusion at noon and midnight - see http://en.wikipedia.org/wiki/12-hour_clock#Confusion_at_noon_and_midnight
* In combodate: 
* 12:00 pm --> 12:00 (24-h format, midday)
* 12:00 am --> 00:00 (24-h format, midnight, start of day)
* 
* Differs from momentjs parse rules:
* 00:00 pm, 12:00 pm --> 12:00 (24-h format, day not change)
* 00:00 am, 12:00 am --> 00:00 (24-h format, day not change)
* 
* 
* Author: Vitaliy Potapov
* Project page: http://github.com/vitalets/combodate
* Copyright (c) 2012 Vitaliy Potapov. Released under MIT License.
**/

/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

//     Underscore.js 1.5.1
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Backbone may be freely distributed under the MIT license.

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

// Geometry library.
// (c) 2011-2015 client IO

// Copyright © 2012 - 2015 client IO (http://client.io)

// JointJS library.
// (c) 2011-2015 client IO

// JointJS, the JavaScript diagramming library.
// (c) 2011-2015 client IO

// JointJS.
// (c) 2011-2015 client IO

// JointJS diagramming library.
// (c) 2011-2015 client IO

// JointJS library.
// (c) 2011-2013 client IO

/*
  backbone-pageable 1.4.8
  http://github.com/backbone-paginator/backbone-pageable

  Copyright (c) 2013 Jimmy Yuen Ho Wong
  Licensed under the MIT @license.
 */

/**
 * Copyright (c) 2011-2014 Felix Gnass Licensed under the MIT license
 */

/*
 * List: a sequential, non-exclusive data structure
 * $Id: list.js 1606 2003-10-24 21:06:35Z scott $
 * Copyright (C) 2001-2003 Scott Martin (http://www.coffeeblack.org/contact/)
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * as published by the Free Software Foundation; either version 2.1
 * of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library; if not, it is available from the Free Software
 * Foundation, Inc. at http://www.gnu.org/copyleft/lesser.html or in writing at
 * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
 */

/*

 * Map: a dictionary data structure based on a hash table
 * $Id: map.js 1932 2004-04-20 05:04:18Z scott $
 * Copyright (C) 2001-2003 Scott Martin (http://www.coffeeblack.org/contact/)
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * as published by the Free Software Foundation; either version 2.1
 * of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library; if not, it is available from the Free Software
 * Foundation, Inc. at http://www.gnu.org/copyleft/lesser.html or in writing at
 * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
 */

/*
 * Set: an exclusive, non-sequential data structure
 * $Id: set.js 1553 2003-04-05 05:23:21Z scott $
 * Copyright (C) 2001-2003 Scott Martin (http://www.coffeeblack.org/contact/)
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * as published by the Free Software Foundation; either version 2.1
 * of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library; if not, it is available from the Free Software
 * Foundation, Inc. at http://www.gnu.org/copyleft/lesser.html or in writing at
 * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
 */

/*!
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2014 Jimmy Yuen Ho Wong and contributors <wyuenho@gmail.com>
  Licensed under the MIT license.
 */

/*
	 * backgrid http://github.com/wyuenho/backgrid
	 * 
	 * Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors Licensed under the
	 * MIT license.
	 */

// Copyright 2009, 2010 Kristopher Michael Kowal

/*
  backgrid-select-all
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
 */

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v2.2.0
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/*
  backgrid-paginator
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
 */

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
		 * HOMER - Responsive Admin Theme Copyright 2015 Webapplayers.com
		 * 
		 */

var requirejs,require,define;!function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function T(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function t(e,t){return fa.call(e,t)}function m(e,i){return t(e,i)&&e[i]}function B(e,i){for(var n in e)if(t(e,n)&&i(e[n],n))break}function U(e,i,n,r){return i&&B(i,function(i,a){(n||!t(e,a))&&(!r||"object"!=typeof i||!i||H(i)||G(i)||i instanceof RegExp?e[a]=i:(e[a]||(e[a]={}),U(e[a],i,n,r)))}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,i,n){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=n,i&&(t.originalError=i),t}function ga(e){function i(e,t,i){var n,r,a,o,s,l,c,d,t=t&&t.split("/"),u=S.map,p=u&&u["*"];if(e){for(e=e.split("/"),r=e.length-1,S.nodeIdCompat&&Q.test(e[r])&&(e[r]=e[r].replace(Q,"")),"."===e[0].charAt(0)&&t&&(r=t.slice(0,t.length-1),e=r.concat(e)),r=e,a=0;a<r.length;a++)o=r[a],"."===o?(r.splice(a,1),a-=1):".."===o&&0!==a&&(1!=a||".."!==r[2])&&".."!==r[a-1]&&a>0&&(r.splice(a-1,2),a-=2);e=e.join("/")}if(i&&u&&(t||p)){r=e.split("/"),a=r.length;e:for(;a>0;a-=1){if(s=r.slice(0,a).join("/"),t)for(o=t.length;o>0;o-=1)if((i=m(u,t.slice(0,o).join("/")))&&(i=m(i,s))){n=i,l=a;break e}!c&&p&&m(p,s)&&(c=m(p,s),d=a)}!n&&c&&(n=c,l=d),n&&(r.splice(0,l,n),e=r.join("/"))}return(n=m(S.pkgs,e))?n:e}function n(e){z&&v(document.getElementsByTagName("script"),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===A.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=m(S.paths,e);return t&&H(t)&&1<t.length?(t.shift(),A.require.undef(e),A.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function o(e,t,n,r){var o,s,l=null,c=t?t.name:null,d=e,u=!0,p="";return e||(u=!1,e="_@r"+(V+=1)),e=a(e),l=e[0],e=e[1],l&&(l=i(l,c,r),s=m(F,l)),e&&(l?p=s&&s.normalize?s.normalize(e,function(e){return i(e,c,r)}):i(e,c,r):(p=i(e,c,r),e=a(p),l=e[0],p=e[1],n=!0,o=A.nameToUrl(p))),n=!l||s||n?"":"_unnormalized"+(W+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!n,url:o,originalName:d,isDefine:u,id:(l?l+"!"+p:p)+n}}function s(e){var t=e.id,i=m(D,t);return i||(i=D[t]=new A.Module(e)),i}function l(e,i,n){var r=e.id,a=m(D,r);!t(F,r)||a&&!a.defineEmitComplete?(a=s(e),a.error&&"error"===i?n(a.error):a.on(i,n)):"defined"===i&&n(F[r])}function c(e,t){var i=e.requireModules,n=!1;t?t(e):(v(i,function(t){(t=m(D,t))&&(t.error=e,t.events.error&&(n=!0,t.emit("error",e)))}),n||g.onError(e))}function d(){R.length&&(ha.apply(j,[j.length,0].concat(R)),R=[])}function p(e){delete D[e],delete E[e]}function h(e,t,i){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,v(e.depMaps,function(n,r){var a=n.id,o=m(D,a);o&&!e.depMatched[r]&&!i[a]&&(m(t,a)?(e.defineDep(r,F[a]),e.check()):h(o,t,i))}),i[n]=!0)}function f(){var e,t,i=(e=1e3*S.waitSeconds)&&A.startTime+e<(new Date).getTime(),a=[],o=[],s=!1,l=!0;if(!x){if(x=!0,B(E,function(e){var c=e.map,d=c.id;if(e.enabled&&(c.isDefine||o.push(e),!e.error))if(!e.inited&&i)r(d)?s=t=!0:(a.push(d),n(d));else if(!e.inited&&e.fetched&&c.isDefine&&(s=!0,!c.prefix))return l=!1}),i&&a.length)return e=C("timeout","Load timeout for modules: "+a,null,a),e.contextName=A.contextName,c(e);l&&v(o,function(e){h(e,{},{})}),i&&!t||!s||!z&&!ea||_||(_=setTimeout(function(){_=0,f()},50)),x=!1}}function b(e){t(F,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function y(e){var e=e.currentTarget||e.srcElement,t=A.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=A.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(d();j.length;){if(e=j.shift(),null===e[0])return c(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));b(e)}}var x,I,A,k,_,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},D={},E={},P={},j=[],F={},L={},O={},V=1,W=1;return k={require:function(e){return e.require?e.require:e.require=A.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?F[e.map.id]=e.exports:e.exports=F[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},I=function(e){this.events=m(P,e.id)||{},this.map=e,this.shim=m(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},I.prototype={init:function(e,t,i,n){n=n||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,A.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();A.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;L[e]||(L[e]=!0,A.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id;t=this.depExports;var n=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(r)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{n=A.execCb(i,r,t,n)}catch(a){e=a}else n=A.execCb(i,r,t,n);if(this.map.isDefine&&void 0===n&&((t=this.module)?n=t.exports:this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else n=r;this.exports=n,this.map.isDefine&&!this.ignore&&(F[i]=n,g.onResourceLoad)&&g.onResourceLoad(A,this.map,this.depMaps),p(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,n=e.id,r=o(e.prefix);this.depMaps.push(r),l(r,"defined",u(this,function(r){var a,d;d=m(O,this.map.id);var h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,v=A.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return i(e,f,!0)})||""),r=o(e.prefix+"!"+h,this.map.parentMap),l(r,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(d=m(D,r.id))&&(this.depMaps.push(r),this.events.error&&d.on("error",u(this,function(e){this.emit("error",e)})),d.enable())):d?(this.map.url=A.nameToUrl(d),this.load()):(a=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),a.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[n],B(D,function(e){0===e.map.id.indexOf(n+"_unnormalized")&&p(e.map.id)}),c(e)}),a.fromText=u(this,function(i,r){var l=e.name,d=o(l),u=M;r&&(i=r),u&&(M=!1),s(d),t(S.config,n)&&(S.config[l]=S.config[n]);try{g.exec(i)}catch(p){return c(C("fromtexteval","fromText eval for "+n+" failed: "+p,p,[n]))}u&&(M=!0),this.depMaps.push(d),A.completeLoad(l),v([l],a)}),r.load(e.name,v,a,S))})),A.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,i){var n,r;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[i]=e,n=m(k,e.id))return void(this.depExports[i]=n(this));this.depCount+=1,l(e,"defined",u(this,function(e){this.defineDep(i,e),this.check()})),this.errback&&l(e,"error",u(this,this.errback))}n=e.id,r=D[n],!t(k,n)&&r&&!r.enabled&&A.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(D,e.id);t&&!t.enabled&&A.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},A={config:S,contextName:e,registry:D,defined:F,urlFetched:L,defQueue:j,Module:I,makeModuleMap:o,nextTick:g.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=S.shim,i={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){i[t]?(S[t]||(S[t]={}),U(S[t],e,!0,!0)):S[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(O[e]=t)})}),e.shim&&(B(e.shim,function(e,i){H(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=A.makeShimExports(e)),t[i]=e}),S.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(S.paths[t]=e.location),S.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(D,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=o(t))}),(e.deps||e.callback)&&A.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(r,a){function l(i,n,d){var u,p;return a.enableBuildCallback&&n&&G(n)&&(n.__requireJsBuild=!0),"string"==typeof i?G(n)?c(C("requireargs","Invalid require call"),d):r&&t(k,i)?k[i](D[r.id]):g.get?g.get(A,i,r,l):(u=o(i,r,!1,!0),u=u.id,t(F,u)?F[u]:c(C("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(r?"":". Use require([])")))):(w(),A.nextTick(function(){w(),p=s(o(null,r)),p.skipMap=a.skipMap,p.init(i,n,d,{enabled:!0}),f()}),l)}return a=a||{},U(l,{isBrowser:z,toUrl:function(e){var t,n=e.lastIndexOf("."),a=e.split("/")[0];return-1!==n&&("."!==a&&".."!==a||n>1)&&(t=e.substring(n,e.length),e=e.substring(0,n)),A.nameToUrl(i(e,r&&r.id,!0),t,!0)},defined:function(e){return t(F,o(e,r,!1,!0).id)},specified:function(e){return e=o(e,r,!1,!0).id,t(F,e)||t(D,e)}}),r||(l.undef=function(e){d();var t=o(e,r,!0),i=m(D,e);n(e),delete F[e],delete L[t.url],delete P[e],T(j,function(t,i){t[0]===e&&j.splice(i,1)}),i&&(i.events.defined&&(P[e]=i.events),p(e))}),l},enable:function(e){m(D,e.id)&&s(e).enable()},completeLoad:function(e){var i,n,a=m(S.shim,e)||{},o=a.exports;for(d();j.length;){if(n=j.shift(),null===n[0]){if(n[0]=e,i)break;i=!0}else n[0]===e&&(i=!0);b(n)}if(n=m(D,e),!i&&!t(F,e)&&n&&!n.inited){if(S.enforceDefine&&(!o||!da(o)))return r(e)?void 0:c(C("nodefine","No define call for "+e,null,[e]));b([e,a.deps||[],a.exportsFn])}f()},nameToUrl:function(e,t,i){var n,r,a;if((n=m(S.pkgs,e))&&(e=n),n=m(O,e))return A.nameToUrl(n,t,i);if(g.jsExtRegExp.test(e))n=e+(t||"");else{for(n=S.paths,e=e.split("/"),r=e.length;r>0;r-=1)if(a=e.slice(0,r).join("/"),a=m(n,a)){H(a)&&(a=a[0]),e.splice(0,r,a);break}n=e.join("/"),n+=t||(/^data\:|\?/.test(n)||i?"":".js"),n=("/"===n.charAt(0)||n.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+n}return S.urlArgs?n+((-1===n.indexOf("?")?"?":"&")+S.urlArgs):n},load:function(e,t){g.load(A,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))&&(N=null,e=y(e),A.completeLoad(e.id))},onScriptError:function(e){var t=y(e);return r(t.id)?void 0:c(C("scripterror","Script error for: "+t.id,e,[t.id]))}},A.require=A.makeRequire(),A}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,i,n){var r,a="_";return!H(e)&&"string"!=typeof e&&(r=e,H(t)?(e=t,t=i,i=n):e=[]),r&&r.context&&(a=r.context),(n=m(F,a))||(n=F[a]=g.s.newContext(a)),r&&n.configure(r),n.require(e,t,i)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.13",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,i){var n=e&&e.config||{};if(z)return n=g.createNode(n,t,i),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&0>n.attachEvent.toString().indexOf("[native code")||Y?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(M=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=i,J=n,D?y.insertBefore(n,D):y.appendChild(n),J=null,n;if(ea)try{importScripts(i),e.completeLoad(t)}catch(r){e.onError(C("importscripts","importScripts failed for "+t+" at "+i,r,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){return y||(y=e.parentNode),(I=e.getAttribute("data-main"))?(s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0):void 0}),define=function(e,t,i){var n,r;"string"!=typeof e&&(i=t,t=e,e=null),H(t)||(i=t,t=null),!t&&G(i)&&(t=[],i.length&&(i.toString().replace(ka,"").replace(la,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),M&&((n=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){return"interactive"===e.readyState?N=e:void 0}),n=N),n&&(e||(e=n.getAttribute("data-requiremodule")),r=F[n.getAttribute("data-requirecontext")])),(r?r.defQueue:R).push([e,t,i])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}}(this),define("../../webapp/vendor/require/require",function(){}),function(e,t){function i(e){var t=e.length,i=dt.type(e);return dt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=At[e]={};return dt.each(e.match(pt)||[],function(e,i){t[i]=!0}),t}function r(e,i,n,r){if(dt.acceptData(e)){var a,o,s=dt.expando,l=e.nodeType,c=l?dt.cache:e,d=l?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||n!==t||"string"!=typeof i)return d||(d=l?e[s]=tt.pop()||dt.guid++:s),c[d]||(c[d]=l?{}:{toJSON:dt.noop}),("object"==typeof i||"function"==typeof i)&&(r?c[d]=dt.extend(c[d],i):c[d].data=dt.extend(c[d].data,i)),o=c[d],r||(o.data||(o.data={}),o=o.data),n!==t&&(o[dt.camelCase(i)]=n),"string"==typeof i?(a=o[i],null==a&&(a=o[dt.camelCase(i)])):a=o,a}}function a(e,t,i){if(dt.acceptData(e)){var n,r,a=e.nodeType,o=a?dt.cache:e,l=a?e[dt.expando]:dt.expando;if(o[l]){if(t&&(n=i?o[l]:o[l].data)){dt.isArray(t)?t=t.concat(dt.map(t,dt.camelCase)):t in n?t=[t]:(t=dt.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!s(n):!dt.isEmptyObject(n))return}(i||(delete o[l].data,s(o[l])))&&(a?dt.cleanData([e],!0):dt.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(Nt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?dt.parseJSON(n):n}catch(a){}dt.data(e,i,n)}else n=t}return n}function s(e){var t;for(t in e)if(("data"!==t||!dt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(){try{return $.activeElement}catch(e){}}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,i){if(dt.isFunction(t))return dt.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return dt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Vt.test(t))return dt.filter(t,e,i);t=dt.filter(t,e)}return dt.grep(e,function(e){return dt.inArray(e,t)>=0!==i})}function h(e){var t=Ut.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return dt.nodeName(e,"table")&&dt.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==dt.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=ri.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)dt._data(i,"globalEval",!t||dt._data(t[n],"globalEval"))}function b(e,t){if(1===t.nodeType&&dt.hasData(e)){var i,n,r,a=dt._data(e),o=dt._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(i in s)for(n=0,r=s[i].length;r>n;n++)dt.event.add(t,i,s[i][n])}o.data&&(o.data=dt.extend({},o.data))}}function y(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!dt.support.noCloneEvent&&t[dt.expando]){r=dt._data(t);for(n in r.events)dt.removeEvent(t,n,r.handle);t.removeAttribute(dt.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),dt.support.html5Clone&&e.innerHTML&&!dt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ti.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function w(e,i){var n,r,a=0,o=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(i||"*"):t;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[a]);a++)!i||dt.nodeName(r,i)?o.push(r):dt.merge(o,w(r,i));return i===t||i&&dt.nodeName(e,i)?dt.merge([e],o):o}function C(e){ti.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=Mi.length;r--;)if(t=Mi[r]+i,t in e)return t;return n}function I(e,t){return e=t||e,"none"===dt.css(e,"display")||!dt.contains(e.ownerDocument,e)}function M(e,t){for(var i,n,r,a=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(a[o]=dt._data(n,"olddisplay"),i=n.style.display,t?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&I(n)&&(a[o]=dt._data(n,"olddisplay",T(n.nodeName)))):a[o]||(r=I(n),(i&&"none"!==i||!r)&&dt._data(n,"olddisplay",r?i:dt.css(n,"display"))));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?a[o]||"":"none"));return e}function A(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function k(e,t,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===i&&(o+=dt.css(e,i+Ii[a],!0,r)),n?("content"===i&&(o-=dt.css(e,"padding"+Ii[a],!0,r)),"margin"!==i&&(o-=dt.css(e,"border"+Ii[a]+"Width",!0,r))):(o+=dt.css(e,"padding"+Ii[a],!0,r),"padding"!==i&&(o+=dt.css(e,"border"+Ii[a]+"Width",!0,r)));return o}function N(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=di(e),o=dt.support.boxSizing&&"border-box"===dt.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=ui(e,t,a),(0>r||null==r)&&(r=e.style[t]),bi.test(r))return r;n=o&&(dt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+k(e,t,i||(o?"border":"content"),n,a)+"px"}function T(e){var t=$,i=wi[e];return i||(i=_(e,t),"none"!==i&&i||(ci=(ci||dt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ci[0].contentWindow||ci[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=_(e,t),ci.detach()),wi[e]=i),i}function _(e,t){var i=dt(t.createElement(e)).appendTo(t.body),n=dt.css(i[0],"display");return i.remove(),n}function S(e,t,i,n){var r;if(dt.isArray(t))dt.each(t,function(t,r){i||ki.test(e)?n(e,r):S(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==dt.type(t))n(e,t);else for(r in t)S(e+"["+r+"]",t[r],i,n)}function D(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(pt)||[];if(dt.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function E(e,t,i,n){function r(s){var l;return a[s]=!0,dt.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var a={},o=e===Hi;return r(t.dataTypes[0])||!a["*"]&&r("*")}function P(e,i){var n,r,a=dt.ajaxSettings.flatOptions||{};for(r in i)i[r]!==t&&((a[r]?e:n||(n={}))[r]=i[r]);return n&&dt.extend(!0,e,n),e}function R(e,i,n){for(var r,a,o,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||i.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in n)o=c[0];else{for(s in n){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function j(e,t,i,n){var r,a,o,s,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=c[l+" "+a]||c["* "+a],!o)for(r in c)if(s=r.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[r]:c[r]!==!0&&(a=s[0],d.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function z(){try{return new e.XMLHttpRequest}catch(t){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Ki=t}),Ki=dt.now()}function B(e,t,i){for(var n,r=(an[t]||[]).concat(an["*"]),a=0,o=r.length;o>a;a++)if(n=r[a].call(i,t,e))return n}function O(e,t,i){var n,r,a=0,o=rn.length,s=dt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ki||L(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,a=1-n,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,i]),1>a&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:dt.extend({},t),opts:dt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Ki||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=dt.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(G(d,c.opts.specialEasing);o>a;a++)if(n=rn[a].call(c,e,d,c.opts))return n;return dt.map(d,B,c),dt.isFunction(c.opts.start)&&c.opts.start.call(e,c),dt.fx.timer(dt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function G(e,t){var i,n,r,a,o;for(i in e)if(n=dt.camelCase(i),r=t[n],a=e[i],dt.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),o=dt.cssHooks[n],o&&"expand"in o){a=o.expand(a),delete e[n];for(i in a)i in e||(e[i]=a[i],t[i]=r)}else t[n]=r}function V(e,t,i){var n,r,a,o,s,l,c=this,d={},u=e.style,p=e.nodeType&&I(e),h=dt._data(e,"fxshow");i.queue||(s=dt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,dt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===dt.css(e,"display")&&"none"===dt.css(e,"float")&&(dt.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",dt.support.shrinkWrapBlocks||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],en.exec(r)){if(delete t[n],a=a||"toggle"===r,r===(p?"hide":"show"))continue;d[n]=h&&h[n]||dt.style(e,n)}if(!dt.isEmptyObject(d)){h?"hidden"in h&&(p=h.hidden):h=dt._data(e,"fxshow",{}),a&&(h.hidden=!p),p?dt(e).show():c.done(function(){dt(e).hide()}),c.done(function(){var t;dt._removeData(e,"fxshow");for(t in d)dt.style(e,t,d[t])});for(n in d)o=B(p?h[n]:0,n,c),n in h||(h[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function H(e,t,i,n,r){return new H.prototype.init(e,t,i,n,r)}function W(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Ii[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function q(e){return dt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,Z,Y=typeof t,X=e.location,$=e.document,J=$.documentElement,K=e.jQuery,Q=e.$,et={},tt=[],it="1.10.2",nt=tt.concat,rt=tt.push,at=tt.slice,ot=tt.indexOf,st=et.toString,lt=et.hasOwnProperty,ct=it.trim,dt=function(e,t){return new dt.fn.init(e,t,Z)},ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,bt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,Ct=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},It=function(e){($.addEventListener||"load"===e.type||"complete"===$.readyState)&&(Mt(),dt.ready())},Mt=function(){$.addEventListener?($.removeEventListener("DOMContentLoaded",It,!1),e.removeEventListener("load",It,!1)):($.detachEvent("onreadystatechange",It),e.detachEvent("onload",It))};dt.fn=dt.prototype={jquery:it,constructor:dt,init:function(e,i,n){var r,a;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(r[1]){if(i=i instanceof dt?i[0]:i,dt.merge(this,dt.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:$,!0)),mt.test(r[1])&&dt.isPlainObject(i))for(r in i)dt.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}if(a=$.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return n.find(e);this.length=1,this[0]=a}return this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):dt.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),dt.makeArray(e,this))},selector:"",length:0,toArray:function(){return at.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=dt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return dt.each(this,e,t)},ready:function(e){return dt.ready.promise().done(e),this},slice:function(){return this.pushStack(at.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(dt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},dt.fn.init.prototype=dt.fn,dt.extend=dt.fn.extend=function(){var e,i,n,r,a,o,s=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==typeof s||dt.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(r in a)e=s[r],n=a[r],s!==n&&(d&&n&&(dt.isPlainObject(n)||(i=dt.isArray(n)))?(i?(i=!1,o=e&&dt.isArray(e)?e:[]):o=e&&dt.isPlainObject(e)?e:{},s[r]=dt.extend(d,o,n)):n!==t&&(s[r]=n));return s},dt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===dt&&(e.$=Q),t&&e.jQuery===dt&&(e.jQuery=K),dt},isReady:!1,readyWait:1,holdReady:function(e){e?dt.readyWait++:dt.ready(!0)},ready:function(e){if(e===!0?!--dt.readyWait:!dt.isReady){if(!$.body)return setTimeout(dt.ready);dt.isReady=!0,e!==!0&&--dt.readyWait>0||(U.resolveWith($,[dt]),dt.fn.trigger&&dt($).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===dt.type(e)},isArray:Array.isArray||function(e){return"array"===dt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[st.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==dt.type(e)||e.nodeType||dt.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(dt.support.ownLast)for(i in e)return lt.call(e,i);for(i in e);return i===t||lt.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||$;var n=mt.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=dt.buildFragment([e],t,r),r&&dt(r).remove(),dt.merge([],n.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=dt.trim(t),t&&gt.test(t.replace(bt,"@").replace(yt,"]").replace(vt,"")))?new Function("return "+t)():void dt.error("Invalid JSON: "+t)},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&dt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(Ct,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,a=0,o=e.length,s=i(e);if(n){if(s)for(;o>a&&(r=t.apply(e[a],n),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],n),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(ht,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?dt.merge(n,"string"==typeof e?[e]:e):rt.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(ot)return ot.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,a=0;if("number"==typeof n)for(;n>a;a++)e[r++]=i[a];else for(;i[a]!==t;)e[r++]=i[a++];return e.length=r,e},grep:function(e,t,i){var n,r=[],a=0,o=e.length;for(i=!!i;o>a;a++)n=!!t(e[a],a),i!==n&&r.push(e[a]);return r},map:function(e,t,n){var r,a=0,o=e.length,s=i(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,n),null!=r&&(l[l.length]=r);else for(a in e)r=t(e[a],a,n),null!=r&&(l[l.length]=r);return nt.apply([],l)},guid:1,proxy:function(e,i){var n,r,a;
return"string"==typeof i&&(a=e[i],i=e,e=a),dt.isFunction(e)?(n=at.call(arguments,2),r=function(){return e.apply(i||this,n.concat(at.call(arguments)))},r.guid=e.guid=e.guid||dt.guid++,r):t},access:function(e,i,n,r,a,o,s){var l=0,c=e.length,d=null==n;if("object"===dt.type(n)){a=!0;for(l in n)dt.access(e,i,l,n[l],!0,o,s)}else if(r!==t&&(a=!0,dt.isFunction(r)||(s=!0),d&&(s?(i.call(e,r),i=null):(d=i,i=function(e,t,i){return d.call(dt(e),i)})),i))for(;c>l;l++)i(e[l],n,s?r:r.call(e[l],l,i(e[l],n)));return a?e:d?i.call(e):c?i(e[0],n):o},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=i.apply(e,n||[]);for(a in t)e.style[a]=o[a];return r}}),dt.ready.promise=function(t){if(!U)if(U=dt.Deferred(),"complete"===$.readyState)setTimeout(dt.ready);else if($.addEventListener)$.addEventListener("DOMContentLoaded",It,!1),e.addEventListener("load",It,!1);else{$.attachEvent("onreadystatechange",It),e.attachEvent("onload",It);var i=!1;try{i=null==e.frameElement&&$.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!dt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}Mt(),dt.ready()}}()}return U.promise(t)},dt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),Z=dt($),function(e,t){function i(e,t,i,n){var r,a,o,s,l,c,d,u,f,m;if((t?t.ownerDocument||t:O)!==E&&D(t),t=t||E,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if(R&&!n){if(r=yt.exec(e))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return i;if(a.id===o)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&L(t,a)&&a.id===o)return i.push(a),i}else{if(r[2])return et.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&I.getElementsByClassName&&t.getElementsByClassName)return et.apply(i,t.getElementsByClassName(o)),i}if(I.qsa&&(!j||!j.test(e))){if(u=d=B,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(d=t.getAttribute("id"))?u=d.replace(xt,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+h(c[l]);f=ht.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{d||t.removeAttribute("id")}}}return C(e.replace(ct,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>A.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function r(e){return e[B]=!0,e}function a(e){var t=E.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)A.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(i,n){for(var r,a=e([],i.length,t),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function u(){}function p(e,t){var n,r,a,o,s,l,c,d=W[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=A.preFilter;s;){(!n||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=pt.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(ct," ")}),s=s.slice(n.length));for(o in A.filter)!(r=vt[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?i.error(e):W(e,l).slice(0)}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=i&&"parentNode"===n,a=V++;return t.first?function(t,i,a){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,a)}:function(t,i,o){var s,l,c,d=G+" "+a;if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r)if(c=t[B]||(t[B]={}),(l=c[n])&&l[0]===d){if((s=l[1])===!0||s===M)return s===!0}else if(l=c[n]=[d],l[1]=e(t,i,o)||M,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!i||i(a,n,r))&&(o.push(a),c&&t.push(s));return o}function v(e,t,i,n,a,o){return n&&!n[B]&&(n=v(n)),a&&!a[B]&&(a=v(a,o)),r(function(r,o,s,l){var c,d,u,p=[],h=[],f=o.length,m=r||w(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,p,e,s,l),b=i?a||(r?e:f||n)?[]:o:v;if(i&&i(v,b,s,l),n)for(c=g(b,h),n(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[h[d]]=!(v[h[d]]=u));if(r){if(a||e){if(a){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(v[d]=u);a(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=a?it.call(r,u):p[d])>-1&&(r[c]=!(o[c]=u))}}else b=g(b===o?b.splice(f,b.length):b),a?a(null,o,b,l):et.apply(o,b)})}function b(e){for(var t,i,n,r=e.length,a=A.relative[e[0].type],o=a||A.relative[" "],s=a?1:0,l=f(function(e){return e===t},o,!0),c=f(function(e){return it.call(t,e)>-1},o,!0),d=[function(e,i,n){return!a&&(n||i!==_)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];r>s;s++)if(i=A.relative[e[s].type])d=[f(m(d),i)];else{if(i=A.filter[e[s].type].apply(null,e[s].matches),i[B]){for(n=++s;r>n&&!A.relative[e[n].type];n++);return v(s>1&&m(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),i,n>s&&b(e.slice(s,n)),r>n&&b(e=e.slice(n)),r>n&&h(e))}d.push(i)}return m(d)}function y(e,t){var n=0,a=t.length>0,o=e.length>0,s=function(r,s,l,c,d){var u,p,h,f=[],m=0,v="0",b=r&&[],y=null!=d,w=_,C=r||o&&A.find.TAG("*",d&&s.parentNode||s),x=G+=null==w?1:Math.random()||.1;for(y&&(_=s!==E&&s,M=n);null!=(u=C[v]);v++){if(o&&u){for(p=0;h=e[p++];)if(h(u,s,l)){c.push(u);break}y&&(G=x,M=++n)}a&&((u=!h&&u)&&m--,r&&b.push(u))}if(m+=v,a&&v!==m){for(p=0;h=t[p++];)h(b,f,s,l);if(r){if(m>0)for(;v--;)b[v]||f[v]||(f[v]=K.call(c));f=g(f)}et.apply(c,f),y&&!r&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return y&&(G=x,_=w),b};return a?r(s):s}function w(e,t,n){for(var r=0,a=t.length;a>r;r++)i(e,t[r],n);return n}function C(e,t,i,n){var r,a,o,s,l,c=p(e);if(!n&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&I.getById&&9===t.nodeType&&R&&A.relative[a[1].type]){if(t=(A.find.ID(o.matches[0].replace(It,Mt),t)||[])[0],!t)return i;e=e.slice(a.shift().value.length)}for(r=vt.needsContext.test(e)?0:a.length;r--&&(o=a[r],!A.relative[s=o.type]);)if((l=A.find[s])&&(n=l(o.matches[0].replace(It,Mt),ht.test(a[0].type)&&t.parentNode||t))){if(a.splice(r,1),e=n.length&&h(a),!e)return et.apply(i,n),i;break}}return T(e,c)(n,t,!R,i,ht.test(e)),i}var x,I,M,A,k,N,T,_,S,D,E,P,R,j,z,F,L,B="sizzle"+-new Date,O=e.document,G=0,V=0,H=n(),W=n(),q=n(),U=!1,Z=function(e,t){return e===t?(U=!0,0):0},Y=typeof t,X=1<<31,$={}.hasOwnProperty,J=[],K=J.pop,Q=J.push,et=J.push,tt=J.slice,it=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=at.replace("w","w#"),st="\\["+rt+"*("+at+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",lt=":("+at+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=new RegExp("^"+rt+"*,"+rt+"*"),pt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ht=new RegExp(rt+"*[+~]"),ft=new RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),mt=new RegExp(lt),gt=new RegExp("^"+ot+"$"),vt={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},bt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,Ct=/^h\d$/i,xt=/'|\\/g,It=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Mt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{et.apply(J=tt.call(O.childNodes),O.childNodes),J[O.childNodes.length].nodeType}catch(At){et={apply:J.length?function(e,t){Q.apply(e,tt.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}N=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=i.support={},D=i.setDocument=function(e){var t=e?e.ownerDocument||e:O,i=t.defaultView;return t!==E&&9===t.nodeType&&t.documentElement?(E=t,P=t.documentElement,R=!N(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){D()}),I.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),I.getElementsByTagName=a(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),I.getElementsByClassName=a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),I.getById=a(function(e){return P.appendChild(e).id=B,!t.getElementsByName||!t.getElementsByName(B).length}),I.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==Y&&R){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},A.filter.ID=function(e){var t=e.replace(It,Mt);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(It,Mt);return function(e){var i=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return i&&i.value===t}}),A.find.TAG=I.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},A.find.CLASS=I.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&R?t.getElementsByClassName(e):void 0},z=[],j=[],(I.qsa=bt.test(t.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||j.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||j.push(":checked")}),a(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&j.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(I.matchesSelector=bt.test(F=P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&a(function(e){I.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),z.push("!=",lt)}),j=j.length&&new RegExp(j.join("|")),z=z.length&&new RegExp(z.join("|")),L=bt.test(P.contains)||P.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Z=P.compareDocumentPosition?function(e,i){if(e===i)return U=!0,0;var n=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return n?1&n||!I.sortDetached&&i.compareDocumentPosition(e)===n?e===t||L(O,e)?-1:i===t||L(O,i)?1:S?it.call(S,e)-it.call(S,i):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,r=0,a=e.parentNode,o=i.parentNode,l=[e],c=[i];if(e===i)return U=!0,0;if(!a||!o)return e===t?-1:i===t?1:a?-1:o?1:S?it.call(S,e)-it.call(S,i):0;if(a===o)return s(e,i);for(n=e;n=n.parentNode;)l.unshift(n);for(n=i;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===O?-1:c[r]===O?1:0},t):E},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E&&D(e),t=t.replace(ft,"='$1']"),!(!I.matchesSelector||!R||z&&z.test(t)||j&&j.test(t)))try{var n=F.call(e,t);if(n||I.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return i(t,E,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==E&&D(e),L(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==E&&D(e);var n=A.attrHandle[i.toLowerCase()],r=n&&$.call(A.attrHandle,i.toLowerCase())?n(e,i,!R):t;return r===t?I.attributes||!R?e.getAttribute(i):(r=e.getAttributeNode(i))&&r.specified?r.value:null:r},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,r=0;if(U=!I.detectDuplicates,S=!I.sortStable&&e.slice(0),e.sort(Z),U){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return e},k=i.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=k(t);return i},A=i.selectors={cacheLength:50,createPseudo:r,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(It,Mt),e[3]=(e[4]||e[5]||"").replace(It,Mt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&mt.test(n)&&(i=p(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(It,Mt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=i.attr(r,e);return null==a?"!="===t:t?(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a+" ").indexOf(n)>-1:"|="===t?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,p,h,f,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(a){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&b){for(d=g[B]||(g[B]={}),c=d[e]||[],h=c[0]===G&&c[1],p=c[0]===G&&c[2],u=h&&g.childNodes[h];u=++h&&u&&u[m]||(p=h=0)||f.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[G,h,p];break}}else if(b&&(c=(t[B]||(t[B]={}))[e])&&c[0]===G)p=c[1];else for(;(u=++h&&u&&u[m]||(p=h=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(b&&((u[B]||(u[B]={}))[e]=[G,p]),u!==t)););return p-=r,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,t){var n,a=A.pseudos[e]||A.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return a[B]?a(t):a.length>1?(n=[e,e,"",t],A.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,i){for(var n,r=a(e,t),o=r.length;o--;)n=it.call(e,r[o]),e[n]=!(i[n]=r[o])}):function(e){return a(e,0,n)}):a}},pseudos:{not:r(function(e){var t=[],i=[],n=T(e.replace(ct,"$1"));return n[B]?r(function(e,t,i,r){for(var a,o=n(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,n(t,null,a,i),!i.pop()}}),has:r(function(e){return function(t){return i(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return gt.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(It,Mt).toLowerCase(),function(t){var i;do if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return Ct.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},A.pseudos.nth=A.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})A.pseudos[x]=c(x);u.prototype=A.filters=A.pseudos,A.setFilters=new u,T=i.compile=function(e,t){var i,n=[],r=[],a=q[e+" "];if(!a){for(t||(t=p(e)),i=t.length;i--;)a=b(t[i]),a[B]?n.push(a):r.push(a);a=q(e,y(r,n))}return a},I.sortStable=B.split("").sort(Z).join("")===B,I.detectDuplicates=U,D(),I.sortDetached=a(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),I.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}),dt.find=i,dt.expr=i.selectors,dt.expr[":"]=dt.expr.pseudos,dt.unique=i.uniqueSort,dt.text=i.getText,dt.isXMLDoc=i.isXML,dt.contains=i.contains}(e);var At={};dt.Callbacks=function(e){e="string"==typeof e?At[e]||n(e):dt.extend({},e);var i,r,a,o,s,l,c=[],d=!e.once&&[],u=function(t){for(r=e.memory&&t,a=!0,s=l||0,l=0,o=c.length,i=!0;c&&o>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}i=!1,c&&(d?d.length&&u(d.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function n(t){dt.each(t,function(t,i){var r=dt.type(i);"function"===r?e.unique&&p.has(i)||c.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),i?o=c.length:r&&(l=t,u(r))}return this},remove:function(){return c&&dt.each(arguments,function(e,t){for(var n;(n=dt.inArray(t,c,n))>-1;)c.splice(n,1),i&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?dt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=d=r=t,this},disabled:function(){return!c},lock:function(){return d=t,r||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!c||a&&!d||(t=t||[],t=[e,t.slice?t.slice():t],i?d.push(t):u(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},dt.extend({Deferred:function(e){var t=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return dt.Deferred(function(i){dt.each(t,function(t,a){var o=a[0],s=dt.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&dt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?dt.extend(e,n):n}},r={};return n.pipe=n.then,dt.each(t,function(e,a){var o=a[2],s=a[3];n[a[1]]=o.add,s&&o.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,a=at.call(arguments),o=a.length,s=1!==o||e&&dt.isFunction(e.promise)?o:0,l=1===s?e:dt.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?at.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)a[r]&&dt.isFunction(a[r].promise)?a[r].promise().done(c(r,n,a)).fail(l.reject).progress(c(r,i,t)):--s;return s||l.resolveWith(n,a),l.promise()}}),dt.support=function(t){var i,n,r,a,o,s,l,c,d,u=$.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;a=$.createElement("select"),s=a.appendChild($.createElement("option")),r=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==u.className,t.leadingWhitespace=3===u.firstChild.nodeType,t.tbody=!u.getElementsByTagName("tbody").length,t.htmlSerialize=!!u.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!r.value,t.optSelected=s.selected,t.enctype=!!$.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==$.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete u.test}catch(p){t.deleteExpando=!1}r=$.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=$.createDocumentFragment(),o.appendChild(r),t.appendChecked=r.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip;for(d in dt(t))break;return t.ownLast="0"!==d,dt(function(){var i,n,r,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=$.getElementsByTagName("body")[0];o&&(i=$.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",dt.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===u.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild($.createElement("div")),n.style.cssText=u.style.cssText=a,n.style.marginRight=n.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==Y&&(u.innerHTML="",u.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(i),i=u=r=n=null)}),i=a=o=s=n=r=null,t}({});var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Nt=/([A-Z])/g;dt.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?dt.cache[e[dt.expando]]:e[dt.expando],!!e&&!s(e)},data:function(e,t,i){return r(e,t,i)},removeData:function(e,t){return a(e,t)},_data:function(e,t,i){return r(e,t,i,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&dt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),dt.fn.extend({data:function(e,i){var n,r,a=null,s=0,l=this[0];if(e===t){if(this.length&&(a=dt.data(l),1===l.nodeType&&!dt._data(l,"parsedAttrs"))){for(n=l.attributes;s<n.length;s++)r=n[s].name,0===r.indexOf("data-")&&(r=dt.camelCase(r.slice(5)),o(l,r,a[r]));dt._data(l,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){dt.data(this,e)}):arguments.length>1?this.each(function(){dt.data(this,e,i)}):l?o(l,e,dt.data(l,e)):null},removeData:function(e){return this.each(function(){dt.removeData(this,e)})}}),dt.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=dt._data(e,t),i&&(!n||dt.isArray(i)?n=dt._data(e,t,dt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=dt.queue(e,t),n=i.length,r=i.shift(),a=dt._queueHooks(e,t),o=function(){dt.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return dt._data(e,i)||dt._data(e,i,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(e,t+"queue"),dt._removeData(e,i)})})}}),dt.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?dt.queue(this[0],e):i===t?this:this.each(function(){var t=dt.queue(this,e,i);dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&dt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){dt.dequeue(this,e)})},delay:function(e,t){return e=dt.fx?dt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,a=dt.Deferred(),o=this,s=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";s--;)n=dt._data(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),a.promise(i)}});var Tt,_t,St=/[\t\r\n\f]/g,Dt=/\r/g,Et=/^(?:input|select|textarea|button|object)$/i,Pt=/^(?:a|area)$/i,Rt=/^(?:checked|selected)$/i,jt=dt.support.getSetAttribute,zt=dt.support.input;dt.fn.extend({attr:function(e,t){return dt.access(this,dt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){dt.removeAttr(this,e)})},prop:function(e,t){return dt.access(this,dt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=dt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,r,a,o=0,s=this.length,l="string"==typeof e&&e;if(dt.isFunction(e))return this.each(function(t){dt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];s>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(St," "):" ")){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i.className=dt.trim(n)}return this},removeClass:function(e){var t,i,n,r,a,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(dt.isFunction(e))return this.each(function(t){dt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];s>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(St," "):"")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=e?dt.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(dt.isFunction(e)?function(i){dt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,r=dt(this),a=e.match(pt)||[];t=a[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===Y||"boolean"===i)&&(this.className&&dt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":dt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,a=this[0];{if(arguments.length)return r=dt.isFunction(e),this.each(function(i){var a;1===this.nodeType&&(a=r?e.call(this,i,dt(this).val()):e,null==a?a="":"number"==typeof a?a+="":dt.isArray(a)&&(a=dt.map(a,function(e){return null==e?"":e+""})),n=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=dt.valHooks[a.type]||dt.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==t?i:(i=a.value,"string"==typeof i?i.replace(Dt,""):null==i?"":i)}}}),dt.extend({valHooks:{option:{get:function(e){var t=dt.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:n.length,l=0>r?s:a?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(dt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&dt.nodeName(i.parentNode,"optgroup"))){if(t=dt(i).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,a=dt.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=dt.inArray(dt(n).val(),a)>=0)&&(i=!0);return i||(e.selectedIndex=-1),a}}},attr:function(e,i,n){var r,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Y?dt.prop(e,i,n):(1===o&&dt.isXMLDoc(e)||(i=i.toLowerCase(),r=dt.attrHooks[i]||(dt.expr.match.bool.test(i)?_t:Tt)),n===t?r&&"get"in r&&null!==(a=r.get(e,i))?a:(a=dt.find.attr(e,i),null==a?t:a):null!==n?r&&"set"in r&&(a=r.set(e,n,i))!==t?a:(e.setAttribute(i,n+""),n):void dt.removeAttr(e,i))},removeAttr:function(e,t){var i,n,r=0,a=t&&t.match(pt);if(a&&1===e.nodeType)for(;i=a[r++];)n=dt.propFix[i]||i,dt.expr.match.bool.test(i)?zt&&jt||!Rt.test(i)?e[n]=!1:e[dt.camelCase("default-"+i)]=e[n]=!1:dt.attr(e,i,""),e.removeAttribute(jt?i:n)},attrHooks:{type:{set:function(e,t){if(!dt.support.radioValue&&"radio"===t&&dt.nodeName(e,"input")){var i=e.value;
return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var r,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!dt.isXMLDoc(e),o&&(i=dt.propFix[i]||i,a=dt.propHooks[i]),n!==t?a&&"set"in a&&(r=a.set(e,n,i))!==t?r:e[i]=n:a&&"get"in a&&null!==(r=a.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var t=dt.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:-1}}}}),_t={set:function(e,t,i){return t===!1?dt.removeAttr(e,i):zt&&jt||!Rt.test(i)?e.setAttribute(!jt&&dt.propFix[i]||i,i):e[dt.camelCase("default-"+i)]=e[i]=!0,i}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(e,i){var n=dt.expr.attrHandle[i]||dt.find.attr;dt.expr.attrHandle[i]=zt&&jt||!Rt.test(i)?function(e,i,r){var a=dt.expr.attrHandle[i],o=r?t:(dt.expr.attrHandle[i]=t)!=n(e,i,r)?i.toLowerCase():null;return dt.expr.attrHandle[i]=a,o}:function(e,i,n){return n?t:e[dt.camelCase("default-"+i)]?i.toLowerCase():null}}),zt&&jt||(dt.attrHooks.value={set:function(e,t,i){return dt.nodeName(e,"input")?void(e.defaultValue=t):Tt&&Tt.set(e,t,i)}}),jt||(Tt={set:function(e,i,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},dt.expr.attrHandle.id=dt.expr.attrHandle.name=dt.expr.attrHandle.coords=function(e,i,n){var r;return n?t:(r=e.getAttributeNode(i))&&""!==r.value?r.value:null},dt.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:Tt.set},dt.attrHooks.contenteditable={set:function(e,t,i){Tt.set(e,""===t?!1:t,i)}},dt.each(["width","height"],function(e,t){dt.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),dt.support.hrefNormalized||dt.each(["href","src"],function(e,t){dt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),dt.support.style||(dt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),dt.support.optSelected||(dt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.support.enctype||(dt.propFix.enctype="encoding"),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(e,t){return dt.isArray(t)?e.checked=dt.inArray(dt(e).val(),t)>=0:void 0}},dt.support.checkOn||(dt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ft=/^(?:input|select|textarea)$/i,Lt=/^key/,Bt=/^(?:mouse|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Gt=/^([^.]*)(?:\.(.+)|)$/;dt.event={global:{},add:function(e,i,n,r,a){var o,s,l,c,d,u,p,h,f,m,g,v=dt._data(e);if(v){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=dt.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof dt===Y||e&&dt.event.triggered===e.type?t:dt.event.dispatch.apply(u.elem,arguments)},u.elem=e),i=(i||"").match(pt)||[""],l=i.length;l--;)o=Gt.exec(i[l])||[],f=g=o[1],m=(o[2]||"").split(".").sort(),f&&(d=dt.event.special[f]||{},f=(a?d.delegateType:d.bindType)||f,d=dt.event.special[f]||{},p=dt.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&dt.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=s[f])||(h=s[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,r,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,p):h.push(p),dt.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var a,o,s,l,c,d,u,p,h,f,m,g=dt.hasData(e)&&dt._data(e);if(g&&(d=g.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(s=Gt.exec(t[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(u=dt.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,p=d[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)o=p[a],!r&&m!==o.origType||i&&i.guid!==o.guid||s&&!s.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,u.remove&&u.remove.call(e,o));l&&!p.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||dt.removeEvent(e,h,g.handle),delete d[h])}else for(h in d)dt.event.remove(e,h+t[c],i,n,!0);dt.isEmptyObject(d)&&(delete g.handle,dt._removeData(e,"events"))}},trigger:function(i,n,r,a){var o,s,l,c,d,u,p,h=[r||$],f=lt.call(i,"type")?i.type:i,m=lt.call(i,"namespace")?i.namespace.split("."):[];if(l=u=r=r||$,3!==r.nodeType&&8!==r.nodeType&&!Ot.test(f+dt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),s=f.indexOf(":")<0&&"on"+f,i=i[dt.expando]?i:new dt.Event(f,"object"==typeof i&&i),i.isTrigger=a?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=r),n=null==n?[i]:dt.makeArray(n,[i]),d=dt.event.special[f]||{},a||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!a&&!d.noBubble&&!dt.isWindow(r)){for(c=d.delegateType||f,Ot.test(c+f)||(l=l.parentNode);l;l=l.parentNode)h.push(l),u=l;u===(r.ownerDocument||$)&&h.push(u.defaultView||u.parentWindow||e)}for(p=0;(l=h[p++])&&!i.isPropagationStopped();)i.type=p>1?c:d.bindType||f,o=(dt._data(l,"events")||{})[i.type]&&dt._data(l,"handle"),o&&o.apply(l,n),o=s&&l[s],o&&dt.acceptData(l)&&o.apply&&o.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!a&&!i.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),n)===!1)&&dt.acceptData(r)&&s&&r[f]&&!dt.isWindow(r)){u=r[s],u&&(r[s]=null),dt.event.triggered=f;try{r[f]()}catch(g){}dt.event.triggered=t,u&&(r[s]=u)}return i.result}},dispatch:function(e){e=dt.event.fix(e);var i,n,r,a,o,s=[],l=at.call(arguments),c=(dt._data(this,"events")||{})[e.type]||[],d=dt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(s=dt.event.handlers.call(this,e,c),i=0;(a=s[i++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(r=a.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((dt.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,r,a,o,s=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(a=[],o=0;l>o;o++)r=i[o],n=r.selector+" ",a[n]===t&&(a[n]=r.needsContext?dt(n,this).index(c)>=0:dt.find(n,this,null,[c]).length),a[n]&&a.push(r);a.length&&s.push({elem:c,handlers:a})}return l<i.length&&s.push({elem:this,handlers:i.slice(l)}),s},fix:function(e){if(e[dt.expando])return e;var t,i,n,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Bt.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new dt.Event(a),t=n.length;t--;)i=n[t],e[i]=a[i];return e.target||(e.target=a.srcElement||$),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,a,o=i.button,s=i.fromElement;return null==e.pageX&&null!=i.clientX&&(r=e.target.ownerDocument||$,a=r.documentElement,n=r.body,e.pageX=i.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?i.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return dt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=dt.extend(new dt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?dt.event.trigger(r,null,t):dt.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},dt.removeEvent=$.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Y&&(e[n]=null),e.detachEvent(n,i))},dt.Event=function(e,t){return this instanceof dt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&dt.extend(this,t),this.timeStamp=e&&e.timeStamp||dt.now(),void(this[dt.expando]=!0)):new dt.Event(e,t)},dt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){dt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==n&&!dt.contains(n,r))&&(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),dt.support.submitBubbles||(dt.event.special.submit={setup:function(){return dt.nodeName(this,"form")?!1:void dt.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=dt.nodeName(i,"input")||dt.nodeName(i,"button")?i.form:t;n&&!dt._data(n,"submitBubbles")&&(dt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),dt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&dt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return dt.nodeName(this,"form")?!1:void dt.event.remove(this,"._submit")}}),dt.support.changeBubbles||(dt.event.special.change={setup:function(){return Ft.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(dt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),dt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),dt.event.simulate("change",this,e,!0)})),!1):void dt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ft.test(t.nodeName)&&!dt._data(t,"changeBubbles")&&(dt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||dt.event.simulate("change",this.parentNode,e,!0)}),dt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return dt.event.remove(this,"._change"),!Ft.test(this.nodeName)}}),dt.support.focusinBubbles||dt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){dt.event.simulate(t,e.target,dt.event.fix(e),!0)};dt.event.special[t]={setup:function(){0===i++&&$.addEventListener(e,n,!0)},teardown:function(){0===--i&&$.removeEventListener(e,n,!0)}}}),dt.fn.extend({on:function(e,i,n,r,a){var o,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(o in e)this.on(o,i,n,e[o],a);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),r===!1)r=c;else if(!r)return this;return 1===a&&(s=r,r=function(e){return dt().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=dt.guid++)),this.each(function(){dt.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,dt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,i,e[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){dt.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){dt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?dt.event.trigger(e,t,i,!0):void 0}});var Vt=/^.[^:#\[\.,]*$/,Ht=/^(?:parents|prev(?:Until|All))/,Wt=dt.expr.match.needsContext,qt={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(dt(e).filter(function(){for(t=0;r>t;t++)if(dt.contains(n[t],this))return!0}));for(t=0;r>t;t++)dt.find(e,n[t],i);return i=this.pushStack(r>1?dt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=dt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(dt.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&Wt.test(e)?dt(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,r=this.length,a=[],o=Wt.test(e)||"string"!=typeof e?dt(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&dt.find.matchesSelector(i,e))){i=a.push(i);break}return this.pushStack(a.length>1?dt.unique(a):a)},index:function(e){return e?"string"==typeof e?dt.inArray(this[0],dt(e)):dt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?dt(e,t):dt.makeArray(e&&e.nodeType?[e]:e),n=dt.merge(this.get(),i);return this.pushStack(dt.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),dt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return dt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return dt.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return dt.dir(e,"nextSibling")},prevAll:function(e){return dt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return dt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return dt.dir(e,"previousSibling",i)},siblings:function(e){return dt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return dt.sibling(e.firstChild)},contents:function(e){return dt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:dt.merge([],e.childNodes)}},function(e,t){dt.fn[e]=function(i,n){var r=dt.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=dt.filter(n,r)),this.length>1&&(qt[e]||(r=dt.unique(r)),Ht.test(e)&&(r=r.reverse())),this.pushStack(r)}}),dt.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?dt.find.matchesSelector(n,e)?[n]:[]:dt.find.matches(e,dt.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var r=[],a=e[i];a&&9!==a.nodeType&&(n===t||1!==a.nodeType||!dt(a).is(n));)1===a.nodeType&&r.push(a),a=a[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Zt=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Xt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Kt=/<tbody/i,Qt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,ri=/^true\/(.*)/,ai=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oi={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=h($),li=si.appendChild($.createElement("div"));oi.optgroup=oi.option,oi.tbody=oi.tfoot=oi.colgroup=oi.caption=oi.thead,oi.th=oi.td,dt.fn.extend({text:function(e){return dt.access(this,function(e){return e===t?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?dt.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||dt.cleanData(w(i)),i.parentNode&&(t&&dt.contains(i.ownerDocument,i)&&v(w(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&dt.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&dt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return dt.clone(this,e,t)})},html:function(e){return dt.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Zt,""):t;if(!("string"!=typeof e||ei.test(e)||!dt.support.htmlSerialize&&Yt.test(e)||!dt.support.leadingWhitespace&&Xt.test(e)||oi[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(dt.cleanData(w(i,!1)),i.innerHTML=e);i=0}catch(a){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=dt.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],r=e[t++];r&&(n&&n.parentNode!==r&&(n=this.nextSibling),dt(this).remove(),r.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=nt.apply([],e);var n,r,a,o,s,l,c=0,d=this.length,u=this,p=d-1,h=e[0],f=dt.isFunction(h);if(f||!(1>=d||"string"!=typeof h||dt.support.checkClone)&&ii.test(h))return this.each(function(n){var r=u.eq(n);f&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t,i)});if(d&&(l=dt.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(o=dt.map(w(l,"script"),m),a=o.length;d>c;c++)r=l,c!==p&&(r=dt.clone(r,!0,!0),a&&dt.merge(o,w(r,"script"))),t.call(this[c],r,c);if(a)for(s=o[o.length-1].ownerDocument,dt.map(o,g),c=0;a>c;c++)r=o[c],ni.test(r.type||"")&&!dt._data(r,"globalEval")&&dt.contains(s,r)&&(r.src?dt._evalUrl(r.src):dt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(ai,"")));l=n=null}return this}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){dt.fn[e]=function(e){for(var i,n=0,r=[],a=dt(e),o=a.length-1;o>=n;n++)i=n===o?this:this.clone(!0),dt(a[n])[t](i),rt.apply(r,i.get());return this.pushStack(r)}}),dt.extend({clone:function(e,t,i){var n,r,a,o,s,l=dt.contains(e.ownerDocument,e);if(dt.support.html5Clone||dt.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(li.innerHTML=e.outerHTML,li.removeChild(a=li.firstChild)),!(dt.support.noCloneEvent&&dt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||dt.isXMLDoc(e)))for(n=w(a),s=w(e),o=0;null!=(r=s[o]);++o)n[o]&&y(r,n[o]);if(t)if(i)for(s=s||w(e),n=n||w(a),o=0;null!=(r=s[o]);o++)b(r,n[o]);else b(e,a);return n=w(a,"script"),n.length>0&&v(n,!l&&w(e,"script")),n=s=r=null,a},buildFragment:function(e,t,i,n){for(var r,a,o,s,l,c,d,u=e.length,p=h(t),f=[],m=0;u>m;m++)if(a=e[m],a||0===a)if("object"===dt.type(a))dt.merge(f,a.nodeType?[a]:a);else if(Qt.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(Jt.exec(a)||["",""])[1].toLowerCase(),d=oi[l]||oi._default,s.innerHTML=d[1]+a.replace($t,"<$1></$2>")+d[2],r=d[0];r--;)s=s.lastChild;if(!dt.support.leadingWhitespace&&Xt.test(a)&&f.push(t.createTextNode(Xt.exec(a)[0])),!dt.support.tbody)for(a="table"!==l||Kt.test(a)?"<table>"!==d[1]||Kt.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)dt.nodeName(c=a.childNodes[r],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(dt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(a));for(s&&p.removeChild(s),dt.support.appendChecked||dt.grep(w(f,"input"),C),m=0;a=f[m++];)if((!n||-1===dt.inArray(a,n))&&(o=dt.contains(a.ownerDocument,a),s=w(p.appendChild(a),"script"),o&&v(s),i))for(r=0;a=s[r++];)ni.test(a.type||"")&&i.push(a);return s=null,p},cleanData:function(e,t){for(var i,n,r,a,o=0,s=dt.expando,l=dt.cache,c=dt.support.deleteExpando,d=dt.event.special;null!=(i=e[o]);o++)if((t||dt.acceptData(i))&&(r=i[s],a=r&&l[r])){if(a.events)for(n in a.events)d[n]?dt.event.remove(i,n):dt.removeEvent(i,n,a.handle);l[r]&&(delete l[r],c?delete i[s]:typeof i.removeAttribute!==Y?i.removeAttribute(s):i[s]=null,tt.push(r))}},_evalUrl:function(e){return dt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),dt.fn.extend({wrapAll:function(e){if(dt.isFunction(e))return this.each(function(t){dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(dt.isFunction(e)?function(t){dt(this).wrapInner(e.call(this,t))}:function(){var t=dt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=dt.isFunction(e);return this.each(function(i){dt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}});var ci,di,ui,pi=/alpha\([^)]*\)/i,hi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+ut+")(.*)$","i"),bi=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),yi=new RegExp("^([+-])=("+ut+")","i"),wi={BODY:"block"},Ci={position:"absolute",visibility:"hidden",display:"block"},xi={letterSpacing:0,fontWeight:400},Ii=["Top","Right","Bottom","Left"],Mi=["Webkit","O","Moz","ms"];dt.fn.extend({css:function(e,i){return dt.access(this,function(e,i,n){var r,a,o={},s=0;if(dt.isArray(i)){for(a=di(e),r=i.length;r>s;s++)o[i[s]]=dt.css(e,i[s],!1,a);return o}return n!==t?dt.style(e,i,n):dt.css(e,i)},e,i,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){I(this)?dt(this).show():dt(this).hide()})}}),dt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ui(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=dt.camelCase(i),c=e.style;if(i=dt.cssProps[l]||(dt.cssProps[l]=x(c,l)),s=dt.cssHooks[i]||dt.cssHooks[l],n===t)return s&&"get"in s&&(a=s.get(e,!1,r))!==t?a:c[i];if(o=typeof n,"string"===o&&(a=yi.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(dt.css(e,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||dt.cssNumber[l]||(n+="px"),dt.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===t)))try{c[i]=n}catch(d){}}},css:function(e,i,n,r){var a,o,s,l=dt.camelCase(i);return i=dt.cssProps[l]||(dt.cssProps[l]=x(e.style,l)),s=dt.cssHooks[i]||dt.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,n)),o===t&&(o=ui(e,i,r)),"normal"===o&&i in xi&&(o=xi[i]),""===n||n?(a=parseFloat(o),n===!0||dt.isNumeric(a)?a||0:o):o}}),e.getComputedStyle?(di=function(t){return e.getComputedStyle(t,null)},ui=function(e,i,n){var r,a,o,s=n||di(e),l=s?s.getPropertyValue(i)||s[i]:t,c=e.style;return s&&(""!==l||dt.contains(e.ownerDocument,e)||(l=dt.style(e,i)),bi.test(l)&&gi.test(i)&&(r=c.width,a=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=a,c.maxWidth=o)),l}):$.documentElement.currentStyle&&(di=function(e){return e.currentStyle},ui=function(e,i,n){var r,a,o,s=n||di(e),l=s?s[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),bi.test(l)&&!fi.test(i)&&(r=c.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=r,o&&(a.left=o)),""===l?"auto":l}),dt.each(["height","width"],function(e,t){dt.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&mi.test(dt.css(e,"display"))?dt.swap(e,Ci,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,i,n){var r=n&&di(e);return A(e,i,n?k(e,t,n,dt.support.boxSizing&&"border-box"===dt.css(e,"boxSizing",!1,r),r):0)}}}),dt.support.opacity||(dt.cssHooks.opacity={get:function(e,t){return hi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=dt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===dt.trim(a.replace(pi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=pi.test(a)?a.replace(pi,r):a+" "+r)}}),dt(function(){dt.support.reliableMarginRight||(dt.cssHooks.marginRight={get:function(e,t){return t?dt.swap(e,{display:"inline-block"},ui,[e,"marginRight"]):void 0}}),!dt.support.pixelPosition&&dt.fn.position&&dt.each(["top","left"],function(e,t){dt.cssHooks[t]={get:function(e,i){return i?(i=ui(e,t),bi.test(i)?dt(e).position()[t]+"px":i):void 0}}})}),dt.expr&&dt.expr.filters&&(dt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!dt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||dt.css(e,"display"))},dt.expr.filters.visible=function(e){return!dt.expr.filters.hidden(e)}),dt.each({margin:"",padding:"",border:"Width"},function(e,t){dt.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Ii[n]+t]=a[n]||a[n-2]||a[0];return r}},gi.test(e)||(dt.cssHooks[e+t].set=A)});var Ai=/%20/g,ki=/\[\]$/,Ni=/\r?\n/g,Ti=/^(?:submit|button|image|reset|file)$/i,_i=/^(?:input|select|textarea|keygen)/i;dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=dt.prop(this,"elements");return e?dt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!dt(this).is(":disabled")&&_i.test(this.nodeName)&&!Ti.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=dt(this).val();return null==i?null:dt.isArray(i)?dt.map(i,function(e){return{name:t.name,value:e.replace(Ni,"\r\n")}}):{name:t.name,value:i.replace(Ni,"\r\n")}}).get()}}),dt.param=function(e,i){var n,r=[],a=function(e,t){t=dt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(e)||e.jquery&&!dt.isPlainObject(e))dt.each(e,function(){a(this.name,this.value)});else for(n in e)S(n,e[n],i,a);return r.join("&").replace(Ai,"+")},dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){dt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),dt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Si,Di,Ei=dt.now(),Pi=/\?/,Ri=/#.*$/,ji=/([?&])_=[^&]*/,zi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Li=/^(?:GET|HEAD)$/,Bi=/^\/\//,Oi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Gi=dt.fn.load,Vi={},Hi={},Wi="*/".concat("*");try{Di=X.href}catch(qi){Di=$.createElement("a"),Di.href="",Di=Di.href}Si=Oi.exec(Di.toLowerCase())||[],dt.fn.load=function(e,i,n){if("string"!=typeof e&&Gi)return Gi.apply(this,arguments);var r,a,o,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),dt.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(o="POST"),s.length>0&&dt.ajax({url:e,type:o,dataType:"html",data:i}).done(function(e){a=arguments,s.html(r?dt("<div>").append(dt.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,a||[e.responseText,t,e])}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){dt.fn[t]=function(e){return this.on(t,e)}}),dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Di,type:"GET",isLocal:Fi.test(Si[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,dt.ajaxSettings),t):P(dt.ajaxSettings,e)},ajaxPrefilter:D(Vi),ajaxTransport:D(Hi),ajax:function(e,i){function n(e,i,n,r){var a,u,b,y,C,I=i;2!==w&&(w=2,l&&clearTimeout(l),d=t,s=r||"",x.readyState=e>0?4:0,a=e>=200&&300>e||304===e,n&&(y=R(p,x,n)),y=j(p,y,x,a),a?(p.ifModified&&(C=x.getResponseHeader("Last-Modified"),C&&(dt.lastModified[o]=C),C=x.getResponseHeader("etag"),C&&(dt.etag[o]=C)),204===e||"HEAD"===p.type?I="nocontent":304===e?I="notmodified":(I=y.state,u=y.data,b=y.error,a=!b)):(b=I,(e||!I)&&(I="error",0>e&&(e=0))),x.status=e,x.statusText=(i||I)+"",a?m.resolveWith(h,[u,I,x]):m.rejectWith(h,[x,I,b]),x.statusCode(v),v=t,c&&f.trigger(a?"ajaxSuccess":"ajaxError",[x,p,a?u:b]),g.fireWith(h,[x,I]),c&&(f.trigger("ajaxComplete",[x,p]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var r,a,o,s,l,c,d,u,p=dt.ajaxSetup({},i),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?dt(h):dt.event,m=dt.Deferred(),g=dt.Callbacks("once memory"),v=p.statusCode||{},b={},y={},w=0,C="canceled",x={readyState:0,getResponseHeader:function(e){var t;
if(2===w){if(!u)for(u={};t=zi.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=y[i]=y[i]||e,b[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||C;return d&&d.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||Di)+"").replace(Ri,"").replace(Bi,Si[1]+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=dt.trim(p.dataType||"*").toLowerCase().match(pt)||[""],null==p.crossDomain&&(r=Oi.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===Si[1]&&r[2]===Si[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Si[3]||("http:"===Si[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=dt.param(p.data,p.traditional)),E(Vi,p,i,x),2===w)return x;c=p.global,c&&0===dt.active++&&dt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Li.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Pi.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ji.test(o)?o.replace(ji,"$1_="+Ei++):o+(Pi.test(o)?"&":"?")+"_="+Ei++)),p.ifModified&&(dt.lastModified[o]&&x.setRequestHeader("If-Modified-Since",dt.lastModified[o]),dt.etag[o]&&x.setRequestHeader("If-None-Match",dt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wi+"; q=0.01":""):p.accepts["*"]);for(a in p.headers)x.setRequestHeader(a,p.headers[a]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===w))return x.abort();C="abort";for(a in{success:1,error:1,complete:1})x[a](p[a]);if(d=E(Hi,p,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,d.send(b,n)}catch(I){if(!(2>w))throw I;n(-1,I)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return dt.get(e,t,i,"json")},getScript:function(e,i){return dt.get(e,t,i,"script")}}),dt.each(["get","post"],function(e,i){dt[i]=function(e,n,r,a){return dt.isFunction(n)&&(a=a||r,r=n,n=t),dt.ajax({url:e,type:i,dataType:a,data:n,success:r})}}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return dt.globalEval(e),e}}}),dt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),dt.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=$.head||dt("head")[0]||$.documentElement;return{send:function(t,r){i=$.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Ui=[],Zi=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ui.pop()||dt.expando+"_"+Ei++;return this[e]=!0,e}}),dt.ajaxPrefilter("json jsonp",function(i,n,r){var a,o,s,l=i.jsonp!==!1&&(Zi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(a=i.jsonpCallback=dt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Zi,"$1"+a):i.jsonp!==!1&&(i.url+=(Pi.test(i.url)?"&":"?")+i.jsonp+"="+a),i.converters["script json"]=function(){return s||dt.error(a+" was not called"),s[0]},i.dataTypes[0]="json",o=e[a],e[a]=function(){s=arguments},r.always(function(){e[a]=o,i[a]&&(i.jsonpCallback=n.jsonpCallback,Ui.push(a)),s&&dt.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0});var Yi,Xi,$i=0,Ji=e.ActiveXObject&&function(){var e;for(e in Yi)Yi[e](t,!0)};dt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&z()||F()}:z,Xi=dt.ajaxSettings.xhr(),dt.support.cors=!!Xi&&"withCredentials"in Xi,Xi=dt.support.ajax=!!Xi,Xi&&dt.ajaxTransport(function(i){if(!i.crossDomain||dt.support.cors){var n;return{send:function(r,a){var o,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,r){var s,c,d,u;try{if(n&&(r||4===l.readyState))if(n=t,o&&(l.onreadystatechange=dt.noop,Ji&&delete Yi[o]),r)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(p){d=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(h){r||a(-1,h)}u&&a(s,d,u,c)},i.async?4===l.readyState?setTimeout(n):(o=++$i,Ji&&(Yi||(Yi={},dt(e).unload(Ji)),Yi[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Ki,Qi,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[V],an={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=tn.exec(t),a=r&&r[3]||(dt.cssNumber[e]?"":"px"),o=(dt.cssNumber[e]||"px"!==a&&+n)&&tn.exec(dt.css(i.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+n||1;do s=s||".5",o/=s,dt.style(i.elem,e,o+a);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=a,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};dt.Animation=dt.extend(O,{tweener:function(e,t){dt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],an[i]=an[i]||[],an[i].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),dt.Tween=H,H.prototype={constructor:H,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(dt.cssNumber[i]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,i=H.propHooks[this.prop];return this.pos=t=this.options.duration?dt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=dt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){dt.fx.step[e.prop]?dt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[dt.cssProps[e.prop]]||dt.cssHooks[e.prop])?dt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},dt.each(["toggle","show","hide"],function(e,t){var i=dt.fn[t];dt.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(W(t,!0),e,n,r)}}),dt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(I).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=dt.isEmptyObject(e),a=dt.speed(t,i,n),o=function(){var t=O(this,dt.extend({},e),a);(r||dt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=dt.timers,o=dt._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));(t||!n)&&dt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=dt._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=dt.timers,o=n?n.length:0;for(i.finish=!0,dt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),dt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){dt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),dt.speed=function(e,t,i){var n=e&&"object"==typeof e?dt.extend({},e):{complete:i||!i&&t||dt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!dt.isFunction(t)&&t};return n.duration=dt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in dt.fx.speeds?dt.fx.speeds[n.duration]:dt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){dt.isFunction(n.old)&&n.old.call(this),n.queue&&dt.dequeue(this,n.queue)},n},dt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},dt.timers=[],dt.fx=H.prototype.init,dt.fx.tick=function(){var e,i=dt.timers,n=0;for(Ki=dt.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||dt.fx.stop(),Ki=t},dt.fx.timer=function(e){e()&&dt.timers.push(e)&&dt.fx.start()},dt.fx.interval=13,dt.fx.start=function(){Qi||(Qi=setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){clearInterval(Qi),Qi=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fx.step={},dt.expr&&dt.expr.filters&&(dt.expr.filters.animated=function(e){return dt.grep(dt.timers,function(t){return e===t.elem}).length}),dt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){dt.offset.setOffset(this,e,t)});var i,n,r={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return i=o.documentElement,dt.contains(i,a)?(typeof a.getBoundingClientRect!==Y&&(r=a.getBoundingClientRect()),n=q(o),{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):r},dt.offset={setOffset:function(e,t,i){var n=dt.css(e,"position");"static"===n&&(e.style.position="relative");var r,a,o=dt(e),s=o.offset(),l=dt.css(e,"top"),c=dt.css(e,"left"),d=("absolute"===n||"fixed"===n)&&dt.inArray("auto",[l,c])>-1,u={},p={};d?(p=o.position(),r=p.top,a=p.left):(r=parseFloat(l)||0,a=parseFloat(c)||0),dt.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+a),"using"in t?t.using.call(e,u):o.css(u)}},dt.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===dt.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),dt.nodeName(e[0],"html")||(i=e.offset()),i.top+=dt.css(e[0],"borderTopWidth",!0),i.left+=dt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-dt.css(n,"marginTop",!0),left:t.left-i.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!dt.nodeName(e,"html")&&"static"===dt.css(e,"position");)e=e.offsetParent;return e||J})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);dt.fn[e]=function(r){return dt.access(this,function(e,r,a){var o=q(e);return a===t?o?i in o?o[i]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?dt(o).scrollLeft():a,n?a:dt(o).scrollTop()):e[r]=a)},e,r,arguments.length,null)}}),dt.each({Height:"height",Width:"width"},function(e,i){dt.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){dt.fn[r]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||a===!0?"margin":"border");return dt.access(this,function(i,n,r){var a;return dt.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+e],a["scroll"+e],i.body["offset"+e],a["offset"+e],a["client"+e])):r===t?dt.css(i,n,s):dt.style(i,n,r,s)},i,o?r:t,o,null)}})}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=dt:(e.jQuery=e.$=dt,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt}))}(window),function(e){define("bootbox",[],function(){return function(){window.bootbox=window.bootbox||function e(t,i){function n(e){var t=v[m.locale];return t?t[e]:v.en[e]}function r(e,i,n){e.preventDefault();var r=t.isFunction(n)&&n(e)===!1;r||i.modal("hide")}function a(e){var t,i=0;for(t in e)i++;return i}function o(e,i){var n=0;t.each(e,function(e,t){i(e,t,n++)})}function s(e){var i,n;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},m,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,i=e.buttons,n=a(i),o(i,function(e,r,a){if(t.isFunction(r)&&(r=i[e]={callback:r}),"object"!==t.type(r))throw new Error("button with key "+e+" must be an object");r.label||(r.label=e),r.className||(r.className=2>=n&&a===n-1?"btn-primary":"btn-default")}),e}function l(e,t){var i=e.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof e[0]?(n[t[0]]=e[0],n[t[1]]=e[1]):n=e[0],n}function c(e,i,n){return t.extend(!0,{},e,l(i,n))}function d(e,t,i,n){var r={className:"bootbox-"+e,buttons:u.apply(null,t)};return p(c(r,n,i),t)}function u(){for(var e={},t=0,i=arguments.length;i>t;t++){var r=arguments[t],a=r.toLowerCase(),o=r.toUpperCase();e[a]={label:n(o)}}return e}function p(e,t){var n={};return o(t,function(e,t){n[t]=!0}),o(e.buttons,function(e){if(n[e]===i)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var h={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},f=t("body"),m={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},g={};g.alert=function(){var e;if(e=d("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback():!0},g.dialog(e)},g.confirm=function(){var e;if(e=d("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return g.dialog(e)},g.prompt=function(){var e,n,r,a,s,l,d;if(a=t(h.form),n={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"},e=p(c(n,arguments,["title","callback"]),["cancel","confirm"]),l=e.show===i?!0:e.show,e.message=a,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var i;switch(e.inputType){case"text":case"email":case"select":i=s.val();break;case"checkbox":var n=s.find("input:checked");i=[],o(n,function(e,n){i.push(t(n).val())})}return e.callback(i)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!h.inputs[e.inputType])throw new Error("invalid prompt type");switch(s=t(h.inputs[e.inputType]),e.inputType){case"text":case"email":s.val(e.value);break;case"select":var f={};if(d=e.inputOptions||[],!d.length)throw new Error("prompt with select requires options");o(d,function(e,n){var r=s;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(f[n.group]||(f[n.group]=t("<optgroup/>").attr("label",n.group)),r=f[n.group]),r.append("<option value='"+n.value+"'>"+n.text+"</option>")}),o(f,function(e,t){s.append(t)}),s.val(e.value);break;case"checkbox":var m=t.isArray(e.value)?e.value:[e.value];if(d=e.inputOptions||[],!d.length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");s=t("<div/>"),o(d,function(i,n){var r=t(h.inputs[e.inputType]);r.find("input").attr("value",n.value),r.find("label").append(n.text),o(m,function(e,t){t===n.value&&r.find("input").prop("checked",!0)}),s.append(r)})}return e.placeholder&&s.attr("placeholder",e.placeholder),a.append(s),a.on("submit",function(e){e.preventDefault(),r.find(".btn-primary").click()}),r=g.dialog(e),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){s.focus()}),l===!0&&r.modal("show"),r},g.dialog=function(e){e=s(e);var i=t(h.dialog),n=i.find(".modal-body"),a=e.buttons,l="",c={onEscape:e.onEscape};if(o(a,function(e,t){l+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",c[e]=t.callback}),n.find(".bootbox-body").html(e.message),e.animate===!0&&i.addClass("fade"),e.className&&i.addClass(e.className),e.title&&n.before(h.header),e.closeButton){var d=t(h.closeButton);e.title?i.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(n)}return e.title&&i.find(".modal-title").html(e.title),l.length&&(n.after(h.footer),i.find(".modal-footer").html(l)),i.on("hidden.bs.modal",function(e){e.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),i.on("escape.close.bb",function(e){c.onEscape&&r(e,i,c.onEscape)}),i.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");r(e,i,c[n])}),i.on("click",".bootbox-close-button",function(e){r(e,i,c.onEscape)}),i.on("keyup",function(e){27===e.which&&i.trigger("escape.close.bb")}),f.append(i),i.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&i.modal("show"),i},g.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(m,e)},g.hideAll=function(){t(".bootbox").modal("hide")};var v={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return g.init=function(i){window.bootbox=e(i||t)},g}(window.jQuery)}.apply(e,arguments)})}(this),function(e){define("bootstrap",[],function(){return function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var o=e(a);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),a="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,a)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",a=n.data();t+="Text",null==a.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==a[t]?this.options[t]:a[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),o="string"==typeof t?t:a.slide;r||n.data("bs.carousel",r=new i(this,a)),"number"==typeof t?r.to(t):o?r[o]():a.interval&&r.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r="prev"==e?-1:1,a=(i+r)%this.$items.length;return this.$items.eq(a)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),a=n||this.getItemForDirection(t,r),o=this.interval,s="next"==t?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(a)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(i){var n,r=e(this),a=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=e.extend({},a.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),t.call(a,o),s&&a.data("bs.carousel").to(s),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),r||i.data("bs.collapse",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var a=t(r),o=a.data("bs.collapse"),s=o?"toggle":r.data();i.call(a,s)})}(jQuery),+function(e){function t(t){t&&3===t.which||(e(r).remove(),e(a).each(function(){var n=e(this),r=i(n),a={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",a)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",a)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var a=i(r),o=a.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);
if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),o=r.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&r.find(a).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){function t(t,n){return this.each(function(){var r=e(this),a=r.data("bs.modal"),o=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);a||r.data("bs.modal",a=new i(this,o)),"string"==typeof t?a[t](n):o.show&&a.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(a)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),a=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(a,o,this)})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),a="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.tooltip",r=new i(this,a)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,a=this.tip(),o=this.getUID(this.type);this.setContent(),a.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var d=this.getPosition(),u=a[0].offsetWidth,p=a[0].offsetHeight;if(c){var h=s,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);s="bottom"==s&&d.bottom+p>m.bottom?"top":"top"==s&&d.top-p<m.top?"bottom":"right"==s&&d.right+u>m.width?"left":"left"==s&&d.left-u<m.left?"right":s,a.removeClass(h).addClass(s)}var g=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(g,s);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,a=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=a&&(t.top=t.top+a-c);var d=this.getViewportAdjustedDelta(i,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(i),p=u?2*d.left-r+l:2*d.top-a+c,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][h],u)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&a.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,a=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var a=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,o,s,a)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-o.scroll,l=t.top+a-o.scroll+n;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=t.left-a,d=t.left+a+i;c<o.left?r.left=o.left-c:d>o.width&&(r.left=o.left+o.width-d)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),a="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.popover",r=new i(this,a)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),a="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,a)),"string"==typeof i&&r[i]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),a=/^#./.test(r)&&e(r);return a&&a.length&&a.is(":visible")&&[[a[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),a=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(a),t.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),s=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),a="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,a)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=a.top?!1:"bottom":e-n>=r+o?!1:"bottom";var s=null==this.affixed,l=s?r:a.top,c=s?o:t;return null!=i&&i>=r?"top":null!=n&&l+c>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,a=n.bottom,o=e(document.body).height();"object"!=typeof n&&(a=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof a&&(a=n.bottom(this.$element));var s=this.getState(o,t,r,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-t-a})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jqueryNumeric",[],function(){return function(){!function(e){e.fn.numeric=function(t,i){"boolean"==typeof t&&(t={decimal:t}),t=t||{},"undefined"==typeof t.negative&&(t.negative=!0);var n=t.decimal===!1?"":t.decimal||".",r=t.negative===!0?!0:!1;return i="function"==typeof i?i:function(){},this.data("numeric.decimal",n).data("numeric.negative",r).data("numeric.callback",i).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(t){var i=e.data(this,"numeric.decimal"),n=e.data(this,"numeric.negative"),r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(13==r&&"input"==this.nodeName.toLowerCase())return!0;if(13==r)return!1;var a=!1;if(t.ctrlKey&&97==r||t.ctrlKey&&65==r)return!0;if(t.ctrlKey&&120==r||t.ctrlKey&&88==r)return!0;if(t.ctrlKey&&99==r||t.ctrlKey&&67==r)return!0;if(t.ctrlKey&&122==r||t.ctrlKey&&90==r)return!0;if(t.ctrlKey&&118==r||t.ctrlKey&&86==r||t.shiftKey&&45==r)return!0;if(48>r||r>57){var o=e(this).val();if(0!==o.indexOf("-")&&n&&45==r&&(0===o.length||0===parseInt(e.fn.getSelectionStart(this),10)))return!0;i&&r==i.charCodeAt(0)&&-1!=o.indexOf(i)&&(a=!1),8!=r&&9!=r&&13!=r&&35!=r&&36!=r&&37!=r&&39!=r&&46!=r?a=!1:"undefined"!=typeof t.charCode&&(t.keyCode==t.which&&0!==t.which?(a=!0,46==t.which&&(a=!1)):0!==t.keyCode&&0===t.charCode&&0===t.which&&(a=!0)),i&&r==i.charCodeAt(0)&&(a=-1==o.indexOf(i)?!0:!1)}else a=!0;return a},e.fn.numeric.keyup=function(){var t=e(this).val();if(t&&t.length>0){var i=e.fn.getSelectionStart(this),n=e.fn.getSelectionEnd(this),r=e.data(this,"numeric.decimal"),a=e.data(this,"numeric.negative");if(""!==r&&null!==r){var o=t.indexOf(r);0===o&&(this.value="0"+t),1==o&&"-"==t.charAt(0)&&(this.value="-0"+t.substring(1)),t=this.value}for(var s=[0,1,2,3,4,5,6,7,8,9,"-",r],l=t.length,c=l-1;c>=0;c--){var d=t.charAt(c);0!==c&&"-"==d?t=t.substring(0,c)+t.substring(c+1):0!==c||a||"-"!=d||(t=t.substring(1));for(var u=!1,p=0;p<s.length;p++)if(d==s[p]){u=!0;break}u&&" "!=d||(t=t.substring(0,c)+t.substring(c+1))}var h=t.indexOf(r);if(h>0)for(var f=l-1;f>h;f--){var m=t.charAt(f);m==r&&(t=t.substring(0,f)+t.substring(f+1))}this.value=t,e.fn.setSelection(this,[i,n])}},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),i=e.data(this,"numeric.callback"),n=this.value;if(""!==n){var r=new RegExp("^\\d+$|^\\d*"+t+"\\d+$");r.exec(n)||i.apply(this)}},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",e.fn.numeric.keypress).unbind("blur",e.fn.numeric.blur)},e.fn.getSelectionStart=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""===t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart},e.fn.getSelectionEnd=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveStart("character",-e.value.length),t.text.length}return e.selectionEnd},e.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",t[0]),i.moveEnd("character",t[1]),i.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t[0],t[1]))}}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jqueryMaskInput",[],function(){return function(){!function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var i,n=t()+".mask",r=navigator.userAgent,a=/iphone/i.test(r),o=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var s,l,c,d,u,p;return!t&&this.length>0?(s=e(this[0]),s.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,c=[],d=p=t.length,u=null,e.each(t.split(""),function(e,t){"?"==t?(p--,d=e):l[t]?(c.push(new RegExp(l[t])),null===u&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function s(e){for(;++e<p&&!c[e];);return e}function h(e){for(;--e>=0&&!c[e];);return e}function f(e,t){var i,n;if(!(0>e)){for(i=e,n=s(t);p>i;i++)if(c[i]){if(!(p>n&&c[i].test(x[n])))break;x[i]=x[n],x[n]=r.placeholder,n=s(n)}y(),C.caret(Math.max(u,e))}}function m(e){var t,i,n,a;for(t=e,i=r.placeholder;p>t;t++)if(c[t]){if(n=s(t),a=x[t],x[t]=i,!(p>n&&c[n].test(a)))break;i=a}}function g(e){var t,i,n,r=e.which;8===r||46===r||a&&127===r?(t=C.caret(),i=t.begin,n=t.end,n-i===0&&(i=46!==r?h(i):n=s(i-1),n=46===r?s(n):n),b(i,n),f(i,n-1),e.preventDefault()):27==r&&(C.val(I),C.caret(0,w()),e.preventDefault())}function v(t){var i,n,a,l=t.which,d=C.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(d.end-d.begin!==0&&(b(d.begin,d.end),f(d.begin,d.end-1)),i=s(d.begin-1),p>i&&(n=String.fromCharCode(l),c[i].test(n)&&(m(i),x[i]=n,y(),a=s(i),o?setTimeout(e.proxy(e.fn.caret,C,a),0):C.caret(a),r.completed&&a>=p&&r.completed.call(C))),t.preventDefault())}function b(e,t){var i;for(i=e;t>i&&p>i;i++)c[i]&&(x[i]=r.placeholder)}function y(){C.val(x.join(""))}function w(e){var t,i,n=C.val(),a=-1;for(t=0,pos=0;p>t;t++)if(c[t]){for(x[t]=r.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[t].test(i)){x[t]=i,a=t;break}if(pos>n.length)break}else x[t]===n.charAt(pos)&&t!==d&&(pos++,a=t);return e?y():d>a+1?(C.val(""),b(0,p)):(y(),C.val(C.val().substring(0,a+1))),d?t:u}var C=e(this),x=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),I=C.val();C.data(e.mask.dataName,function(){return e.map(x,function(e,t){return c[t]&&e!=r.placeholder?e:null}).join("")}),C.attr("readonly")||C.one("unmask",function(){C.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var e;I=C.val(),e=w(),i=setTimeout(function(){y(),e==t.length?C.caret(0,e):C.caret(e)},10)}).bind("blur.mask",function(){w(),C.val()!=I&&C.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var e=w(!0);C.caret(e),r.completed&&e==C.val().length&&r.completed.call(C)},0)}),w()}))}})}(jQuery)}.apply(e,arguments)})}(this),function(e){"function"==typeof define&&define.amd?define("jqueryScrollTo",["jquery"],e):e(jQuery)}(function(e){function t(t){return e.isFunction(t)||"object"==typeof t?t:{top:t,left:t}}var i=e.scrollTo=function(t,i,n){return e(window).scrollTo(t,i,n)};return i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(n,r,a){return"object"==typeof r&&(a=r,r=0),"function"==typeof a&&(a={onAfter:a}),"max"==n&&(n=9e9),a=e.extend({},i.defaults,a),r=r||a.duration,a.queue=a.queue&&a.axis.length>1,a.queue&&(r/=2),a.offset=t(a.offset),a.over=t(a.over),this._scrollable().each(function(){function o(e){c.animate(u,r,a.easing,e&&function(){e.call(this,d,a)})}if(null!=n){var s,l=this,c=e(l),d=n,u={},p=c.is("html,body");switch(typeof d){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)){d=t(d);break}if(d=e(d,this),!d.length)return;case"object":(d.is||d.style)&&(s=(d=e(d)).offset())}var h=e.isFunction(a.offset)&&a.offset(l,d)||a.offset;e.each(a.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",r=n.toLowerCase(),f="scroll"+n,m=l[f],g=i.max(l,t);if(s)u[f]=s[r]+(p?0:m-c.offset()[r]),a.margin&&(u[f]-=parseInt(d.css("margin"+n))||0,u[f]-=parseInt(d.css("border"+n+"Width"))||0),u[f]+=h[r]||0,a.over[r]&&(u[f]+=d["x"==t?"width":"height"]()*a.over[r]);else{var v=d[r];u[f]=v&&v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*g:v}a.limit&&/^\d+$/.test(u[f])&&(u[f]=u[f]<=0?0:Math.min(u[f],g)),!e&&a.queue&&(m!=u[f]&&o(a.onAfterFirst),delete u[f])
}),o(a.onAfter)}}).end()},i.max=function(t,i){var n="x"==i?"Width":"Height",r="scroll"+n;if(!e(t).is("html,body"))return t[r]-e(t)[n.toLowerCase()]();var a="client"+n,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(o[r],s[r])-Math.min(o[a],s[a])},i}),function(e){define("jqueryValidatorEngine",[],function(){return function(){!function(e){var t={init:function(i){var n=this;return n.data("jqv")&&null!=n.data("jqv")||(i=t._saveOptions(n,i),e(document).on("click",".formError",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(i){var n,r=this;return n=i?t._saveOptions(r,i):r.data("jqv"),n.validateAttribute=r.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",n.binded&&(r.on(n.validationEventTrigger,"["+n.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",t._onFieldEvent),r.on("click","["+n.validateAttribute+"*=validate][type=checkbox],["+n.validateAttribute+"*=validate][type=radio]",t._onFieldEvent),r.on(n.validationEventTrigger,"["+n.validateAttribute+"*=validate][class*=datepicker]",{delay:300},t._onFieldEvent)),n.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:r},t.updatePromptsPosition),r.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),r.removeData("jqv_submitButton"),r.on("submit",t._onSubmitEvent),this},detach:function(){var i=this,n=i.data("jqv");return i.find("["+n.validateAttribute+"*=validate]").not("[type=checkbox]").off(n.validationEventTrigger,t._onFieldEvent),i.find("["+n.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",t._onFieldEvent),i.off("submit",t._onSubmitEvent),i.removeData("jqv"),i.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),i.removeData("jqv_submitButton"),n.autoPositionUpdate&&e(window).off("resize",t.updatePromptsPosition),this},validate:function(){var i=e(this),n=null;if(i.is("form")||i.hasClass("validationEngineContainer")){if(i.hasClass("validating"))return!1;i.addClass("validating");var r=i.data("jqv"),n=t._validateFields(this);setTimeout(function(){i.removeClass("validating")},100),n&&r.onSuccess?r.onSuccess():!n&&r.onFailure&&r.onFailure()}else if(i.is("form")||i.hasClass("validationEngineContainer"))i.removeClass("validating");else{var a=i.closest("form, .validationEngineContainer"),r=a.data("jqv")?a.data("jqv"):e.validationEngine.defaults,n=t._validateField(i,r);n&&r.onFieldSuccess?r.onFieldSuccess():r.onFieldFailure&&r.InvalidFields.length>0&&r.onFieldFailure()}return r.onValidationComplete?!!r.onValidationComplete(a,n):n},updatePromptsPosition:function(i){if(i&&this==window)var n=i.data.formElem,r=i.data.noAnimation;else var n=e(this.closest("form, .validationEngineContainer"));var a=n.data("jqv");return n.find("["+a.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=e(this);a.prettySelect&&i.is(":hidden")&&(i=n.find("#"+a.usePrefix+i.attr("id")+a.useSuffix));var o=t._getPrompt(i),s=e(o).find(".formErrorContent").html();o&&t._updatePrompt(i,e(o),s,void 0,!1,a,r)}),this},showPrompt:function(e,i,n,r){var a=this.closest("form, .validationEngineContainer"),o=a.data("jqv");return o||(o=t._saveOptions(this,o)),n&&(o.promptPosition=n),o.showArrow=1==r,t._showPrompt(this,e,i,!1,o),this},hide:function(){var i,n=e(this).closest("form, .validationEngineContainer"),r=n.data("jqv"),a=r&&r.fadeDuration?r.fadeDuration:.3;return i=e(this).is("form")||e(this).hasClass("validationEngineContainer")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+i).fadeTo(a,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,i=t.data("jqv"),n=i?i.fadeDuration:300;return e(".formError").fadeTo(n,300,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(i){var n=e(this),r=n.closest("form, .validationEngineContainer"),a=r.data("jqv");a.eventTrigger="field",window.setTimeout(function(){t._validateField(n,a),0==a.InvalidFields.length&&a.onFieldSuccess?a.onFieldSuccess():a.InvalidFields.length>0&&a.onFieldFailure&&a.onFieldFailure()},i.data?i.data.delay:0)},_onSubmitEvent:function(){var i=e(this),n=i.data("jqv");if(i.data("jqv_submitButton")){var r=e("#"+i.data("jqv_submitButton"));if(r&&r.length>0&&(r.hasClass("validate-skip")||"true"==r.attr("data-validation-engine-skip")))return!0}n.eventTrigger="submit";var a=t._validateFields(i);return a&&n.ajaxFormValidation?(t._validateFormWithAjax(i,n),!1):n.onValidationComplete?!!n.onValidationComplete(i,a):a},_checkAjaxStatus:function(t){var i=!0;return e.each(t.ajaxValidCache,function(e,t){return t?void 0:(i=!1,!1)}),i},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(i){var n=i.data("jqv"),r=!1;i.trigger("jqv.form.validating");var a=null;if(i.find("["+n.validateAttribute+"*=validate]").not(":disabled").each(function(){var o=e(this),s=[];if(e.inArray(o.attr("name"),s)<0){if(r|=t._validateField(o,n),r&&null==a&&(o.is(":hidden")&&n.prettySelect?a=o=i.find("#"+n.usePrefix+t._jqSelector(o.attr("id"))+n.useSuffix):(o.data("jqv-prompt-at")instanceof jQuery?o=o.data("jqv-prompt-at"):o.data("jqv-prompt-at")&&(o=e(o.data("jqv-prompt-at"))),a=o)),n.doNotShowAllErrosOnSubmit)return!1;if(s.push(o.attr("name")),1==n.showOneMessage&&r)return!1}}),i.trigger("jqv.form.result",[r]),r){if(n.scroll){var o=a.offset().top,s=a.offset().left,l=n.promptPosition;if("string"==typeof l&&-1!=l.indexOf(":")&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var c=t._getPrompt(a);c&&(o=c.offset().top)}if(n.scrollOffset&&(o-=n.scrollOffset),n.isOverflown){var d=e(n.overflownDIV);if(!d.length)return!1;var u=d.scrollTop(),p=-parseInt(d.offset().top);o+=u+p-5;var h=e(n.overflownDIV+":not(:animated)");h.animate({scrollTop:o},1100,function(){n.focusFirstField&&a.focus()})}else e("html, body").animate({scrollTop:o},1100,function(){n.focusFirstField&&a.focus()}),e("html, body").animate({scrollLeft:s},1100)}else n.focusFirstField&&a.focus();return!1}return!0},_validateFormWithAjax:function(i,n){var r=i.serialize(),a=n.ajaxFormValidationMethod?n.ajaxFormValidationMethod:"GET",o=n.ajaxFormValidationURL?n.ajaxFormValidationURL:i.attr("action"),s=n.dataType?n.dataType:"json";e.ajax({type:a,url:o,cache:!1,dataType:s,data:r,form:i,methods:t,options:n,beforeSend:function(){return n.onBeforeAjaxFormValidation(i,n)},error:function(e,i){n.onFailure?n.onFailure(e,i):t._ajaxError(e,i)},success:function(r){if("json"==s&&r!==!0){for(var a=!1,o=0;o<r.length;o++){var l=r[o],c=l[0],d=e(e("#"+c)[0]);if(1==d.length){var u=l[2];if(1==l[1])if(""!=u&&u){if(n.allrules[u]){var p=n.allrules[u].alertTextOk;p&&(u=p)}n.showPrompts&&t._showPrompt(d,u,"pass",!1,n,!0)}else t._closePrompt(d);else{if(a|=!0,n.allrules[u]){var p=n.allrules[u].alertText;p&&(u=p)}n.showPrompts&&t._showPrompt(d,u,"",!1,n,!0)}}}n.onAjaxFormComplete(!a,i,r,n)}else n.onAjaxFormComplete(!0,i,r,n)}})},_validateField:function(i,n,r){if(i.attr("id")||(i.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter),!n.validateNonVisibleFields&&(i.is(":hidden")&&!n.prettySelect||i.parent().is(":hidden")))return!1;var a=i.attr(n.validateAttribute),o=/validate\[(.*)\]/.exec(a);if(!o)return!1;var s=o[1],l=s.split(/\[|,|\]/),c=!1,d=i.attr("name"),u="",p="",h=!1,f=!1;n.isError=!1,n.showArrow=!0,n.maxErrorsPerField>0&&(f=!0);for(var m=e(i.closest("form, .validationEngineContainer")),g=0;g<l.length;g++)l[g]=l[g].replace(" ",""),""===l[g]&&delete l[g];for(var g=0,v=0;g<l.length;g++){if(f&&v>=n.maxErrorsPerField){if(!h){var b=e.inArray("required",l);h=-1!=b&&b>=g}break}var y=void 0;switch(l[g]){case"required":h=!0,y=t._getErrorMessage(m,i,l[g],l,g,n,t._required);break;case"custom":y=t._getErrorMessage(m,i,l[g],l,g,n,t._custom);break;case"groupRequired":var w="["+n.validateAttribute+"*="+l[g+1]+"]",C=m.find(w).eq(0);C[0]!=i[0]&&(t._validateField(C,n,r),n.showArrow=!0),y=t._getErrorMessage(m,i,l[g],l,g,n,t._groupRequired),y&&(h=!0),n.showArrow=!1;break;case"ajax":y=t._ajax(i,l,g,n),y&&(p="load");break;case"minSize":y=t._getErrorMessage(m,i,l[g],l,g,n,t._minSize);break;case"maxSize":y=t._getErrorMessage(m,i,l[g],l,g,n,t._maxSize);break;case"min":y=t._getErrorMessage(m,i,l[g],l,g,n,t._min);break;case"max":y=t._getErrorMessage(m,i,l[g],l,g,n,t._max);break;case"past":y=t._getErrorMessage(m,i,l[g],l,g,n,t._past);break;case"future":y=t._getErrorMessage(m,i,l[g],l,g,n,t._future);break;case"dateRange":var w="["+n.validateAttribute+"*="+l[g+1]+"]";n.firstOfGroup=m.find(w).eq(0),n.secondOfGroup=m.find(w).eq(1),(n.firstOfGroup[0].value||n.secondOfGroup[0].value)&&(y=t._getErrorMessage(m,i,l[g],l,g,n,t._dateRange)),y&&(h=!0),n.showArrow=!1;break;case"dateTimeRange":var w="["+n.validateAttribute+"*="+l[g+1]+"]";n.firstOfGroup=m.find(w).eq(0),n.secondOfGroup=m.find(w).eq(1),(n.firstOfGroup[0].value||n.secondOfGroup[0].value)&&(y=t._getErrorMessage(m,i,l[g],l,g,n,t._dateTimeRange)),y&&(h=!0),n.showArrow=!1;break;case"maxCheckbox":i=e(m.find("input[name='"+d+"']")),y=t._getErrorMessage(m,i,l[g],l,g,n,t._maxCheckbox);break;case"minCheckbox":i=e(m.find("input[name='"+d+"']")),y=t._getErrorMessage(m,i,l[g],l,g,n,t._minCheckbox);break;case"equals":y=t._getErrorMessage(m,i,l[g],l,g,n,t._equals);break;case"funcCall":y=t._getErrorMessage(m,i,l[g],l,g,n,t._funcCall);break;case"creditCard":y=t._getErrorMessage(m,i,l[g],l,g,n,t._creditCard);break;case"condRequired":y=t._getErrorMessage(m,i,l[g],l,g,n,t._condRequired),void 0!==y&&(h=!0)}var x=!1;if("object"==typeof y)switch(y.status){case"_break":x=!0;break;case"_error":y=y.message;break;case"_error_no_prompt":return!0}if(x)break;"string"==typeof y&&(u+=y+"<br/>",n.isError=!0,v++)}!h&&!i.val()&&i.val().length<1&&l.indexOf("equals")<0&&(n.isError=!1);var I=i.prop("type"),M=i.data("promptPosition")||n.promptPosition;("radio"==I||"checkbox"==I)&&m.find("input[name='"+d+"']").size()>1&&(i=e("inline"===M?m.find("input[name='"+d+"'][type!=hidden]:last"):m.find("input[name='"+d+"'][type!=hidden]:first")),n.showArrow=!1),i.is(":hidden")&&n.prettySelect&&(i=m.find("#"+n.usePrefix+t._jqSelector(i.attr("id"))+n.useSuffix)),n.isError&&n.showPrompts?t._showPrompt(i,u,p,!1,n):c||t._closePrompt(i),c||i.trigger("jqv.field.result",[i,n.isError,u]);var A=e.inArray(i[0],n.InvalidFields);return-1==A?n.isError&&n.InvalidFields.push(i[0]):n.isError||n.InvalidFields.splice(A,1),t._handleStatusCssClasses(i,n),n.isError&&n.onFieldFailure&&n.onFieldFailure(i),!n.isError&&n.onFieldSuccess&&n.onFieldSuccess(i),n.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(i,n,r,a,o,s,l){var c=jQuery.inArray(r,a);if("custom"===r||"funcCall"===r){var d=a[c+1];r=r+"["+d+"]",delete a[c]}var u,p=r,h=n.attr(n.attr("data-validation-engine")?"data-validation-engine":"class"),f=h.split(" ");if(u="future"==r||"past"==r||"maxCheckbox"==r||"minCheckbox"==r?l(i,n,a,o,s):l(n,a,o,s),void 0!=u){var m=t._getCustomErrorMessage(e(n),f,p,s);m&&(u=m)}return u},_getCustomErrorMessage:function(e,i,n,r){var a=!1,o=/^custom\[.*\]$/.test(n)?t._validityProp.custom:t._validityProp[n];if(void 0!=o&&(a=e.attr("data-errormessage-"+o),void 0!=a))return a;if(a=e.attr("data-errormessage"),void 0!=a)return a;var s="#"+e.attr("id");if("undefined"!=typeof r.custom_error_messages[s]&&"undefined"!=typeof r.custom_error_messages[s][n])a=r.custom_error_messages[s][n].message;else if(i.length>0)for(var l=0;l<i.length&&i.length>0;l++){var c="."+i[l];if("undefined"!=typeof r.custom_error_messages[c]&&"undefined"!=typeof r.custom_error_messages[c][n]){a=r.custom_error_messages[c][n].message;break}}return a||"undefined"==typeof r.custom_error_messages[n]||"undefined"==typeof r.custom_error_messages[n].message||(a=r.custom_error_messages[n].message),a},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,i,n,r,a){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var o=e.trim(t.val()),s=e.trim(t.attr("data-validation-placeholder")),l=e.trim(t.attr("placeholder"));if(!o||s&&o==s||l&&o==l)return r.allrules[i[n]].alertText;break;case"radio":case"checkbox":if(a){if(!t.attr("checked"))return r.allrules[i[n]].alertTextCheckboxMultiple;break}var c=t.closest("form, .validationEngineContainer"),d=t.attr("name");if(0==c.find("input[name='"+d+"']:checked").size())return 1==c.find("input[name='"+d+"']:visible").size()?r.allrules[i[n]].alertTextCheckboxe:r.allrules[i[n]].alertTextCheckboxMultiple}},_groupRequired:function(i,n,r,a){var o="["+a.validateAttribute+"*="+n[r+1]+"]",s=!1;return i.closest("form, .validationEngineContainer").find(o).each(function(){return t._required(e(this),n,r,a)?void 0:(s=!0,!1)}),s?void 0:a.allrules[n[r]].alertText},_custom:function(e,t,i,n){var r,a=t[i+1],o=n.allrules[a];if(!o)return void alert("jqv:custom rule not found - "+a);if(o.regex){var s=o.regex;if(!s)return void alert("jqv:custom regex not found - "+a);var l=new RegExp(s);if(!l.test(e.val()))return n.allrules[a].alertText}else{if(!o.func)return void alert("jqv:custom type not allowed "+a);if(r=o.func,"function"!=typeof r)return void alert("jqv:custom parameter 'function' is no function - "+a);if(!r(e,t,i,n))return n.allrules[a].alertText}},_funcCall:function(e,t,i,n){var r,a=t[i+1];if(a.indexOf(".")>-1){for(var o=a.split("."),s=window;o.length;)s=s[o.shift()];r=s}else r=window[a]||n.customFunctions[a];return"function"==typeof r?r(e,t,i,n):void 0},_equals:function(t,i,n,r){var a=i[n+1];return t.val()!=e("#"+a).val()?r.allrules.equals.alertText:void 0},_maxSize:function(e,t,i,n){var r=t[i+1],a=e.val().length;if(a>r){var o=n.allrules.maxSize;return o.alertText+r+o.alertText2}},_minSize:function(e,t,i,n){var r=t[i+1],a=e.val().length;if(r>a){var o=n.allrules.minSize;return o.alertText+r+o.alertText2}},_min:function(e,t,i,n){var r=parseFloat(t[i+1]),a=parseFloat(e.val());if(r>a){var o=n.allrules.min;return o.alertText2?o.alertText+r+o.alertText2:o.alertText+r}},_max:function(e,t,i,n){var r=parseFloat(t[i+1]),a=parseFloat(e.val());if(a>r){var o=n.allrules.max;return o.alertText2?o.alertText+r+o.alertText2:o.alertText+r}},_past:function(i,n,r,a,o){var s,l=r[a+1],c=e(i.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;s=t._parseDate(c.val())}else s=t._parseDate(l);var d=t._parseDate(n.val());if(d>s){var u=o.allrules.past;return u.alertText2?u.alertText+t._dateToString(s)+u.alertText2:u.alertText+t._dateToString(s)}},_future:function(i,n,r,a,o){var s,l=r[a+1],c=e(i.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;s=t._parseDate(c.val())}else s=t._parseDate(l);var d=t._parseDate(n.val());if(s>d){var u=o.allrules.future;return u.alertText2?u.alertText+t._dateToString(s)+u.alertText2:u.alertText+t._dateToString(s)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,i,n,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[i[n]].alertText+r.allrules[i[n]].alertText2:t._isDate(r.firstOfGroup[0].value)&&t._isDate(r.secondOfGroup[0].value)&&t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[i[n]].alertText+r.allrules[i[n]].alertText2},_dateTimeRange:function(e,i,n,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[i[n]].alertText+r.allrules[i[n]].alertText2:t._isDateTime(r.firstOfGroup[0].value)&&t._isDateTime(r.secondOfGroup[0].value)&&t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[i[n]].alertText+r.allrules[i[n]].alertText2},_maxCheckbox:function(e,t,i,n,r){var a=i[n+1],o=t.attr("name"),s=e.find("input[name='"+o+"']:checked").size();return s>a?(r.showArrow=!1,r.allrules.maxCheckbox.alertText2?r.allrules.maxCheckbox.alertText+" "+a+" "+r.allrules.maxCheckbox.alertText2:r.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,i,n,r){var a=i[n+1],o=t.attr("name"),s=e.find("input[name='"+o+"']:checked").size();return a>s?(r.showArrow=!1,r.allrules.minCheckbox.alertText+" "+a+" "+r.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,i,n){var r=!1,a=e.val().replace(/ +/g,"").replace(/-+/g,""),o=a.length;if(o>=14&&16>=o&&parseInt(a)>0){var s,l=0,i=o-1,c=1,d=new String;do s=parseInt(a.charAt(i)),d+=c++%2==0?2*s:s;while(--i>=0);for(i=0;i<d.length;i++)l+=parseInt(d.charAt(i));r=l%10==0}return r?void 0:n.allrules.creditCard.alertText},_ajax:function(i,n,r,a){var o=n[r+1],s=a.allrules[o],l=s.extraData,c=s.extraDataDynamic,d={fieldId:i.attr("id"),fieldValue:i.val()};if("object"==typeof l)e.extend(d,l);else if("string"==typeof l)for(var u=l.split("&"),r=0;r<u.length;r++){var p=u[r].split("=");p[0]&&p[0]&&(d[p[0]]=p[1])}if(c)for(var h=String(c).split(","),r=0;r<h.length;r++){var f=h[r];if(e(f).length){{var m=i.closest("form, .validationEngineContainer").find(f).val();f.replace("#","")+"="+escape(m)}d[f.replace("#","")]=m}}return"field"==a.eventTrigger&&delete a.ajaxValidCache[i.attr("id")],a.isError||t._checkAjaxFieldStatus(i.attr("id"),a)?void 0:(e.ajax({type:a.ajaxFormValidationMethod,url:s.url,cache:!1,dataType:"json",data:d,field:i,rule:s,methods:t,options:a,beforeSend:function(){},error:function(e,i){a.onFailure?a.onFailure(e,i):t._ajaxError(e,i)},success:function(n){var r=n[0],o=e("#"+r).eq(0);if(1==o.length){var l=n[1],c=n[2];if(l){if(a.ajaxValidCache[r]=!0,c){if(a.allrules[c]){var d=a.allrules[c].alertTextOk;d&&(c=d)}}else c=s.alertTextOk;a.showPrompts&&(c?t._showPrompt(o,c,"pass",!0,a):t._closePrompt(o)),"submit"==a.eventTrigger&&i.closest("form").submit()}else{if(a.ajaxValidCache[r]=!1,a.isError=!0,c){if(a.allrules[c]){var d=a.allrules[c].alertText;d&&(c=d)}}else c=s.alertText;a.showPrompts&&t._showPrompt(o,c,"",!0,a)}}o.trigger("jqv.field.result",[o,a.isError,c])}}),s.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),t==e?(t=e.split("."),new Date(t[2],t[1]-1,t[0])):new Date(t[0],t[1]-1,t[2])},_showPrompt:function(i,n,r,a,o,s){i.data("jqv-prompt-at")instanceof jQuery?i=i.data("jqv-prompt-at"):i.data("jqv-prompt-at")&&(i=e(i.data("jqv-prompt-at")));var l=t._getPrompt(i);s&&(l=!1),e.trim(n)&&(l?t._updatePrompt(i,l,n,r,a,o):t._buildPrompt(i,n,r,a,o))},_buildPrompt:function(i,n,r,a,o){var s=e("<div>");switch(s.addClass(t._getClassName(i.attr("id"))+"formError"),s.addClass("parentForm"+t._getClassName(i.closest("form, .validationEngineContainer").attr("id"))),s.addClass("formError"),r){case"pass":s.addClass("greenPopup");break;case"load":s.addClass("blackPopup")}a&&s.addClass("ajaxed");var l=(e("<div>").addClass("formErrorContent").html(n).appendTo(s),i.data("promptPosition")||o.promptPosition);if(o.showArrow){var c=e("<div>").addClass("formErrorArrow");if("string"==typeof l){var d=l.indexOf(":");-1!=d&&(l=l.substring(0,d))}switch(l){case"bottomLeft":case"bottomRight":s.find(".formErrorContent").before(c),c.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":c.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),s.append(c)}}o.addPromptClass&&s.addClass(o.addPromptClass);var u=i.attr("data-required-class");if(void 0!==u)s.addClass(u);else if(o.prettySelect&&e("#"+i.attr("id")).next().is("select")){var p=e("#"+i.attr("id").substr(o.usePrefix.length).substring(o.useSuffix.length)).attr("data-required-class");void 0!==p&&s.addClass(p)}s.css({opacity:0}),"inline"===l?(s.addClass("inline"),"undefined"!=typeof i.attr("data-prompt-target")&&e("#"+i.attr("data-prompt-target")).length>0?s.appendTo(e("#"+i.attr("data-prompt-target"))):i.after(s)):i.before(s);var d=t._calculatePosition(i,s,o);return s.css({position:"inline"===l?"relative":"absolute",top:d.callerTopPosition,left:d.callerleftPosition,marginTop:d.marginTopSize,opacity:0}).data("callerField",i),o.autoHidePrompt&&setTimeout(function(){s.animate({opacity:0},function(){s.closest(".formErrorOuter").remove(),s.remove()})},o.autoHideDelay),s.animate({opacity:.87})},_updatePrompt:function(e,i,n,r,a,o,s){if(i){"undefined"!=typeof r&&("pass"==r?i.addClass("greenPopup"):i.removeClass("greenPopup"),"load"==r?i.addClass("blackPopup"):i.removeClass("blackPopup")),a?i.addClass("ajaxed"):i.removeClass("ajaxed"),i.find(".formErrorContent").html(n);var l=t._calculatePosition(e,i,o),c={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize};s?i.css(c):i.animate(c)}},_closePrompt:function(e){var i=t._getPrompt(e);i&&i.fadeTo("fast",0,function(){i.parent(".formErrorOuter").remove(),i.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(i){var n=e(i).closest("form, .validationEngineContainer").attr("id"),r=t._getClassName(i.attr("id"))+"formError",a=e("."+t._escapeExpression(r)+".parentForm"+t._getClassName(n))[0];return a?e(a):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var i=e(document),n=e("body"),r=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,i){var n,r,a,o=e.width(),s=e.position().left,l=e.position().top,c=(e.height(),t.height());n=r=0,a=-c;var d=e.data("promptPosition")||i.promptPosition,u="",p="",h=0,f=0;switch("string"==typeof d&&-1!=d.indexOf(":")&&(u=d.substring(d.indexOf(":")+1),d=d.substring(0,d.indexOf(":")),-1!=u.indexOf(",")&&(p=u.substring(u.indexOf(",")+1),u=u.substring(0,u.indexOf(",")),f=parseInt(p),isNaN(f)&&(f=0)),h=parseInt(u),isNaN(u)&&(u=0)),d){default:case"topRight":r+=s+o-30,n+=l;break;case"topLeft":n+=l,r+=s;break;case"centerRight":n=l+4,a=0,r=s+e.outerWidth(!0)+5;break;case"centerLeft":r=s-(t.width()+2),n=l+4,a=0;break;case"bottomLeft":n=l+e.height()+5,a=0,r=s;break;case"bottomRight":r=s+o-30,n=l+e.height()+5,a=0;break;case"inline":r=0,n=0,a=0}return r+=h,n+=f,{callerTopPosition:n+"px",callerleftPosition:r+"px",marginTopSize:a+"px"}},_saveOptions:function(t,i){if(e.validationEngineLanguage)var n=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=n;var r=e.extend(!0,{},e.validationEngine.defaults,i);return t.data("jqv",r),r},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,i,n,r){var a,o;for(a=n+1;a<i.length;a++)if(o=jQuery("#"+i[a]).first(),o.length&&void 0==t._required(o,["required"],0,r,!0))return t._required(e,["required"],0,r)},_submitButtonClick:function(){var t=e(this),i=t.closest("form, .validationEngineContainer");i.data("jqv_submitButton",t.attr("id"))}};e.fn.validationEngine=function(i){var n=e(this);return n[0]?"string"==typeof i&&"_"!=i.charAt(0)&&t[i]?("showPrompt"!=i&&"hide"!=i&&"hideAll"!=i&&t.init.apply(n),t[i].apply(n,Array.prototype.slice.call(arguments,1))):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist in jQuery.validationEngine"):(t.init.apply(n,arguments),t.attach.apply(n)):n},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jqueryValidatorEnginePtBr",[],function(){return function(){!function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* Este campo é obrigatório",alertTextCheckboxMultiple:"* Favor selecionar uma opção",alertTextCheckboxe:"* Este checkbox é obrigatório",alertTextDateRange:"* Ambas as datas do intervalo são obrigatórias"},requiredInFunction:{func:function(e){return"test"==e.val()?!0:!1},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Intervalo de datas inválido"},dateTimeRange:{regex:"none",alertText:"* Intervalo de data e hora inválido"},minSize:{regex:"none",alertText:"* Permitido o mínimo de ",alertText2:" caractere(s)"},maxSize:{regex:"none",alertText:"* Permitido o máximo de ",alertText2:" caractere(s)"},groupRequired:{regex:"none",alertText:"* Você deve preencher um dos seguintes campos"},min:{regex:"none",alertText:"* Valor mínimo é "},max:{regex:"none",alertText:"* Valor máximo é "},past:{regex:"none",alertText:"* Data anterior a "},future:{regex:"none",alertText:"* Data posterior a "},maxCheckbox:{regex:"none",alertText:"* Máximo de ",alertText2:" opções permitidas"},minCheckbox:{regex:"none",alertText:"* Favor selecionar ",alertText2:" opção(ões)"},equals:{regex:"none",alertText:"* Os campos não correspondem"},creditCard:{regex:"none",alertText:"* Número de cartão de crédito inválido"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Número de telefone inválido"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Endereço de email inválido"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Número inteiro inválido"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Número decimal inválido"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Data inválida, deve ser no formato AAAA-MM-DD"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Endereço IP inválido"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* URL inválida"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Apenas números"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Apenas letras"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Não são permitidos caracteres especiais"},real:{regex:/^([1-9]{1}[\d]{0,2}(\.[\d]{3})*(\,[\d]{0,2})?|[1-9]{1}[\d]{0,}(\,[\d]{0,2})?|0(\,[\d]{0,2})?|(\,[\d]{1,2})?)$/,alertText:"* Número decimal inválido"}}
}},e.validationEngineLanguage.newLang()}(jQuery)}.apply(e,arguments)})}(this),function(e){var t,i,n="0.4.2",r="hasOwnProperty",a=/[\.\/]/,o="*",s=function(){},l=function(e,t){return e-t},c={n:{}},d=function(e,n){e=String(e);var r,a=i,o=Array.prototype.slice.call(arguments,2),s=d.listeners(e),c=0,u=[],p={},h=[],f=t;t=e,i=0;for(var m=0,g=s.length;g>m;m++)"zIndex"in s[m]&&(u.push(s[m].zIndex),s[m].zIndex<0&&(p[s[m].zIndex]=s[m]));for(u.sort(l);u[c]<0;)if(r=p[u[c++]],h.push(r.apply(n,o)),i)return i=a,h;for(m=0;g>m;m++)if(r=s[m],"zIndex"in r)if(r.zIndex==u[c]){if(h.push(r.apply(n,o)),i)break;do if(c++,r=p[u[c]],r&&h.push(r.apply(n,o)),i)break;while(r)}else p[r.zIndex]=r;else if(h.push(r.apply(n,o)),i)break;return i=a,t=f,h.length?h:null};d._events=c,d.listeners=function(e){var t,i,n,r,s,l,d,u,p=e.split(a),h=c,f=[h],m=[];for(r=0,s=p.length;s>r;r++){for(u=[],l=0,d=f.length;d>l;l++)for(h=f[l].n,i=[h[p[r]],h[o]],n=2;n--;)t=i[n],t&&(u.push(t),m=m.concat(t.f||[]));f=u}return m},d.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var i=e.split(a),n=c,r=0,o=i.length;o>r;r++)n=n.n,n=n.hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,o=n.f.length;o>r;r++)if(n.f[r]==t)return s;return n.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},d.f=function(e){var t=[].slice.call(arguments,1);return function(){d.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},d.stop=function(){i=1},d.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},d.nts=function(){return t.split(a)},d.off=d.unbind=function(e,t){if(!e)return void(d._events=c={n:{}});var i,n,s,l,u,p,h,f=e.split(a),m=[c];for(l=0,u=f.length;u>l;l++)for(p=0;p<m.length;p+=s.length-2){if(s=[p,1],i=m[p].n,f[l]!=o)i[f[l]]&&s.push(i[f[l]]);else for(n in i)i[r](n)&&s.push(i[n]);m.splice.apply(m,s)}for(l=0,u=m.length;u>l;l++)for(i=m[l];i.n;){if(t){if(i.f){for(p=0,h=i.f.length;h>p;p++)if(i.f[p]==t){i.f.splice(p,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[r](n)&&i.n[n].f){var g=i.n[n].f;for(p=0,h=g.length;h>p;p++)if(g[p]==t){g.splice(p,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[r](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},d.once=function(e,t){var i=function(){return d.unbind(e,i),t.apply(this,arguments)};return d.on(e,i)},d.version=n,d.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=d:"undefined"!=typeof define?define("eve",[],function(){return d}):e.eve=d}(window||this),function(e,t){"function"==typeof define&&define.amd?define("raphael",["eve"],function(i){return t(e,i)}):t(e,e.eve)}(this,function(e,t){function i(e){if(i.is(e,"function"))return w?e():t.on("raphael.DOMload",e);if(i.is(e,Z))return i._engine.create[_](i,e.splice(0,3+i.is(e[0],q))).add(e);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var r=n.pop();return w?r.call(i._engine.create[_](i,n)):t.on("raphael.DOMload",function(){r.call(i._engine.create[_](i,n))})}return i._engine.create[_](i,arguments)}function n(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[A](i)&&(t[i]=n(e[i]));return t}function r(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}function a(e,t,i){function n(){var a=Array.prototype.slice.call(arguments,0),o=a.join("␀"),s=n.cache=n.cache||{},l=n.count=n.count||[];return s[A](o)?(r(l,o),i?i(s[o]):s[o]):(l.length>=1e3&&delete s[l.shift()],l.push(o),s[o]=e[_](t,a),i?i(s[o]):s[o])}return n}function o(){return this.hex}function s(e,t){for(var i=[],n=0,r=e.length;r-2*!t>n;n+=2){var a=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?r-4==n?a[3]={x:+e[0],y:+e[1]}:r-2==n&&(a[2]={x:+e[0],y:+e[1]},a[3]={x:+e[2],y:+e[3]}):a[0]={x:+e[r-2],y:+e[r-1]}:r-4==n?a[3]=a[2]:n||(a[0]={x:+e[n],y:+e[n+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i}function l(e,t,i,n,r){var a=-3*t+9*i-9*n+3*r,o=e*a+6*t-12*i+6*n;return e*o-3*t+3*i}function c(e,t,i,n,r,a,o,s,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var d=c/2,u=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var g=d*p[m]+d,v=l(g,e,i,r,o),b=l(g,t,n,a,s),y=v*v+b*b;f+=h[m]*B.sqrt(y)}return d*f}function d(e,t,i,n,r,a,o,s,l){if(!(0>l||c(e,t,i,n,r,a,o,s)<l)){var d,u=1,p=u/2,h=u-p,f=.01;for(d=c(e,t,i,n,r,a,o,s,h);V(d-l)>f;)p/=2,h+=(l>d?1:-1)*p,d=c(e,t,i,n,r,a,o,s,h);return h}}function u(e,t,i,n,r,a,o,s){if(!(O(e,i)<G(r,o)||G(e,i)>O(r,o)||O(t,n)<G(a,s)||G(t,n)>O(a,s))){var l=(e*n-t*i)*(r-o)-(e-i)*(r*s-a*o),c=(e*n-t*i)*(a-s)-(t-n)*(r*s-a*o),d=(e-i)*(a-s)-(t-n)*(r-o);if(d){var u=l/d,p=c/d,h=+u.toFixed(2),f=+p.toFixed(2);if(!(h<+G(e,i).toFixed(2)||h>+O(e,i).toFixed(2)||h<+G(r,o).toFixed(2)||h>+O(r,o).toFixed(2)||f<+G(t,n).toFixed(2)||f>+O(t,n).toFixed(2)||f<+G(a,s).toFixed(2)||f>+O(a,s).toFixed(2)))return{x:u,y:p}}}}function p(e,t,n){var r=i.bezierBBox(e),a=i.bezierBBox(t);if(!i.isBBoxIntersect(r,a))return n?0:[];for(var o=c.apply(0,e),s=c.apply(0,t),l=O(~~(o/5),1),d=O(~~(s/5),1),p=[],h=[],f={},m=n?0:[],g=0;l+1>g;g++){var v=i.findDotsAtSegment.apply(i,e.concat(g/l));p.push({x:v.x,y:v.y,t:g/l})}for(g=0;d+1>g;g++)v=i.findDotsAtSegment.apply(i,t.concat(g/d)),h.push({x:v.x,y:v.y,t:g/d});for(g=0;l>g;g++)for(var b=0;d>b;b++){var y=p[g],w=p[g+1],C=h[b],x=h[b+1],I=V(w.x-y.x)<.001?"y":"x",M=V(x.x-C.x)<.001?"y":"x",A=u(y.x,y.y,w.x,w.y,C.x,C.y,x.x,x.y);if(A){if(f[A.x.toFixed(4)]==A.y.toFixed(4))continue;f[A.x.toFixed(4)]=A.y.toFixed(4);var k=y.t+V((A[I]-y[I])/(w[I]-y[I]))*(w.t-y.t),N=C.t+V((A[M]-C[M])/(x[M]-C[M]))*(x.t-C.t);k>=0&&1.001>=k&&N>=0&&1.001>=N&&(n?m++:m.push({x:A.x,y:A.y,t1:G(k,1),t2:G(N,1)}))}}return m}function h(e,t,n){e=i._path2curve(e),t=i._path2curve(t);for(var r,a,o,s,l,c,d,u,h,f,m=n?0:[],g=0,v=e.length;v>g;g++){var b=e[g];if("M"==b[0])r=l=b[1],a=c=b[2];else{"C"==b[0]?(h=[r,a].concat(b.slice(1)),r=h[6],a=h[7]):(h=[r,a,r,a,l,c,l,c],r=l,a=c);for(var y=0,w=t.length;w>y;y++){var C=t[y];if("M"==C[0])o=d=C[1],s=u=C[2];else{"C"==C[0]?(f=[o,s].concat(C.slice(1)),o=f[6],s=f[7]):(f=[o,s,o,s,d,u,d,u],o=d,s=u);var x=p(h,f,n);if(n)m+=x;else{for(var I=0,M=x.length;M>I;I++)x[I].segment1=g,x[I].segment2=y,x[I].bez1=h,x[I].bez2=f;m=m.concat(x)}}}}}return m}function f(e,t,i,n,r,a){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+n,this.e=+r,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+P+this.y+P+this.width+" × "+this.height}function g(e,t,i,n,r,a){function o(e){return((u*e+d)*e+c)*e}function s(e,t){var i=l(e,t);return((f*i+h)*i+p)*i}function l(e,t){var i,n,r,a,s,l;for(r=e,l=0;8>l;l++){if(a=o(r)-e,V(a)<t)return r;if(s=(3*u*r+2*d)*r+c,V(s)<1e-6)break;r-=a/s}if(i=0,n=1,r=e,i>r)return i;if(r>n)return n;for(;n>i;){if(a=o(r),V(a-e)<t)return r;e>a?i=r:n=r,r=(n-i)/2+i}return r}var c=3*t,d=3*(n-t)-c,u=1-c-d,p=3*i,h=3*(r-i)-p,f=1-p-h;return s(e,1/(200*a))}function v(e,t){var i=[],n={};if(this.ms=t,this.times=1,e){for(var r in e)e[A](r)&&(n[Q(r)]=e[r],i.push(Q(r)));i.sort(ut)}this.anim=n,this.top=i[i.length-1],this.percents=i}function b(e,n,r,a,o,s){r=Q(r);var l,c,d,u,p,h,m=e.ms,v={},b={},y={};if(a)for(C=0,I=li.length;I>C;C++){var w=li[C];if(w.el.id==n.id&&w.anim==e){w.percent!=r?(li.splice(C,1),d=1):c=w,n.attr(w.totalOrigin);break}}else a=+b;for(var C=0,I=e.percents.length;I>C;C++){if(e.percents[C]==r||e.percents[C]>a*e.top){r=e.percents[C],p=e.percents[C-1]||0,m=m/e.top*(r-p),u=e.percents[C+1],l=e.anim[r];break}a&&n.attr(e.anim[e.percents[C]])}if(l){if(c)c.initstatus=a,c.start=new Date-c.ms*a;else{for(var M in l)if(l[A](M)&&(nt[A](M)||n.paper.customAttributes[A](M)))switch(v[M]=n.attr(M),null==v[M]&&(v[M]=it[M]),b[M]=l[M],nt[M]){case q:y[M]=(b[M]-v[M])/m;break;case"colour":v[M]=i.getRGB(v[M]);var k=i.getRGB(b[M]);y[M]={r:(k.r-v[M].r)/m,g:(k.g-v[M].g)/m,b:(k.b-v[M].b)/m};break;case"path":var N=zt(v[M],b[M]),T=N[1];for(v[M]=N[0],y[M]=[],C=0,I=v[M].length;I>C;C++){y[M][C]=[0];for(var _=1,D=v[M][C].length;D>_;_++)y[M][C][_]=(T[C][_]-v[M][C][_])/m}break;case"transform":var E=n._,P=Gt(E[M],b[M]);if(P)for(v[M]=P.from,b[M]=P.to,y[M]=[],y[M].real=!0,C=0,I=v[M].length;I>C;C++)for(y[M][C]=[v[M][C][0]],_=1,D=v[M][C].length;D>_;_++)y[M][C][_]=(b[M][C][_]-v[M][C][_])/m;else{var z=n.matrix||new f,F={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};v[M]=[z.a,z.b,z.c,z.d,z.e,z.f],Bt(F,b[M]),b[M]=F._.transform,y[M]=[(F.matrix.a-z.a)/m,(F.matrix.b-z.b)/m,(F.matrix.c-z.c)/m,(F.matrix.d-z.d)/m,(F.matrix.e-z.e)/m,(F.matrix.f-z.f)/m]}break;case"csv":var L=R(l[M])[j](x),B=R(v[M])[j](x);if("clip-rect"==M)for(v[M]=B,y[M]=[],C=B.length;C--;)y[M][C]=(L[C]-v[M][C])/m;b[M]=L;break;default:for(L=[][S](l[M]),B=[][S](v[M]),y[M]=[],C=n.paper.customAttributes[M].length;C--;)y[M][C]=((L[C]||0)-(B[C]||0))/m}var O=l.easing,G=i.easing_formulas[O];if(!G)if(G=R(O).match(J),G&&5==G.length){var V=G;G=function(e){return g(e,+V[1],+V[2],+V[3],+V[4],m)}}else G=ht;if(h=l.start||e.start||+new Date,w={anim:e,percent:r,timestamp:h,start:h+(e.del||0),status:0,initstatus:a||0,stop:!1,ms:m,easing:G,from:v,diff:y,to:b,el:n,callback:l.callback,prev:p,next:u,repeat:s||e.times,origin:n.attr(),totalOrigin:o},li.push(w),a&&!c&&!d&&(w.stop=!0,w.start=new Date-m*a,1==li.length))return di();d&&(w.start=new Date-w.ms*a),1==li.length&&ci(di)}t("raphael.anim.start."+n.id,n,e)}}function y(e){for(var t=0;t<li.length;t++)li[t].el.paper==e&&li.splice(t--,1)}i.version="2.1.2",i.eve=t;var w,C,x=/[, ]+/,I={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},M=/\{(\d+)\}/g,A="hasOwnProperty",k={doc:document,win:e},N={was:Object.prototype[A].call(k.win,"Raphael"),is:k.win.Raphael},T=function(){this.ca=this.customAttributes={}},_="apply",S="concat",D="ontouchstart"in k.win||k.win.DocumentTouch&&k.doc instanceof DocumentTouch,E="",P=" ",R=String,j="split",z="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[j](P),F={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},L=R.prototype.toLowerCase,B=Math,O=B.max,G=B.min,V=B.abs,H=B.pow,W=B.PI,q="number",U="string",Z="array",Y=Object.prototype.toString,X=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),$={NaN:1,Infinity:1,"-Infinity":1},J=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=B.round,Q=parseFloat,et=parseInt,tt=R.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:q,"clip-rect":"csv",cx:q,cy:q,fill:"colour","fill-opacity":q,"font-size":q,height:q,opacity:q,path:"path",r:q,rx:q,ry:q,stroke:"colour","stroke-opacity":q,"stroke-width":q,transform:"transform",width:q,x:q,y:q},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,at={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,dt=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(e,t){return Q(e)-Q(t)},pt=function(){},ht=function(e){return e},ft=i._rectPath=function(e,t,i,n,r){return r?[["M",e+r,t],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},mt=function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},gt=i._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)}},vt=i.mapPath=function(e,t){if(!t)return e;var i,n,r,a,o,s,l;for(e=zt(e),r=0,o=e.length;o>r;r++)for(l=e[r],a=1,s=l.length;s>a;a+=2)i=t.x(l[a],l[a+1]),n=t.y(l[a],l[a+1]),l[a]=i,l[a+1]=n;return e};if(i._g=k,i.type=k.win.SVGAngle||k.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var bt,yt=k.doc.createElement("div");if(yt.innerHTML='<v:shape adj="1"/>',bt=yt.firstChild,bt.style.behavior="url(#default#VML)",!bt||"object"!=typeof bt.adj)return i.type=E;yt=null}i.svg=!(i.vml="VML"==i.type),i._Paper=T,i.fn=C=T.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(e,t){return t=L.call(t),"finite"==t?!$[A](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||Y.call(e).slice(8,-1).toLowerCase()==t},i.angle=function(e,t,n,r,a,o){if(null==a){var s=e-n,l=t-r;return s||l?(180+180*B.atan2(-l,-s)/W+360)%360:0}return i.angle(e,t,a,o)-i.angle(n,r,a,o)},i.rad=function(e){return e%360*W/180},i.deg=function(e){return 180*e/W%360},i.snapTo=function(e,t,n){if(n=i.is(n,"finite")?n:10,i.is(e,Z)){for(var r=e.length;r--;)if(V(e[r]-t)<=n)return e[r]}else{e=+e;var a=t%e;if(n>a)return t-a;if(a>e-n)return t-a+e}return t};i.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*B.random()|0,i="x"==e?t:3&t|8;return i.toString(16)});i.setWindow=function(e){t("raphael.setWindow",i,k.win,e),k.win=e,k.doc=k.win.document,i._engine.initWin&&i._engine.initWin(k.win)};var wt=function(e){if(i.vml){var t,n=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),t=r.body}catch(o){t=createPopup().document.body}var s=t.createTextRange();wt=a(function(e){try{t.style.color=R(e).replace(n,E);var i=s.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=k.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",k.doc.body.appendChild(l),wt=a(function(e){return l.style.color=e,k.doc.defaultView.getComputedStyle(l,E).getPropertyValue("color")})}return wt(e)},Ct=function(){return"hsb("+[this.h,this.s,this.b]+")"},xt=function(){return"hsl("+[this.h,this.s,this.l]+")"},It=function(){return this.hex},Mt=function(e,t,n){if(null==t&&i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&i.is(e,U)){var r=i.getRGB(e);e=r.r,t=r.g,n=r.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},At=function(e,t,n,r){e*=255,t*=255,n*=255;var a={r:e,g:t,b:n,hex:i.rgb(e,t,n),toString:It};return i.is(r,"finite")&&(a.opacity=r),a};i.color=function(e){var t;return i.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):i.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(i.is(e,"string")&&(e=i.getRGB(e)),i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=It,e},i.hsb2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,e=e.h,n=e.o),e*=360;var r,a,o,s,l;return e=e%360/60,l=i*t,s=l*(1-V(e%2-1)),r=a=o=i-l,e=~~e,r+=[l,s,0,0,s,l][e],a+=[s,l,l,s,0,0][e],o+=[0,0,s,l,l,s][e],At(r,a,o,n)},i.hsl2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),e*=360;var r,a,o,s,l;return e=e%360/60,l=2*t*(.5>i?i:1-i),s=l*(1-V(e%2-1)),r=a=o=i-l/2,e=~~e,r+=[l,s,0,0,s,l][e],a+=[s,l,l,s,0,0][e],o+=[0,0,s,l,l,s][e],At(r,a,o,n)},i.rgb2hsb=function(e,t,i){i=Mt(e,t,i),e=i[0],t=i[1],i=i[2];var n,r,a,o;return a=O(e,t,i),o=a-G(e,t,i),n=0==o?null:a==e?(t-i)/o:a==t?(i-e)/o+2:(e-t)/o+4,n=(n+360)%6*60/360,r=0==o?0:o/a,{h:n,s:r,b:a,toString:Ct}},i.rgb2hsl=function(e,t,i){i=Mt(e,t,i),e=i[0],t=i[1],i=i[2];var n,r,a,o,s,l;return o=O(e,t,i),s=G(e,t,i),l=o-s,n=0==l?null:o==e?(t-i)/l:o==t?(i-e)/l+2:(e-t)/l+4,n=(n+360)%6*60/360,a=(o+s)/2,r=0==l?0:.5>a?l/(2*a):l/(2-2*a),{h:n,s:r,l:a,toString:xt}},i._path2string=function(){return this.join(",").replace(ot,"$1")};i._preload=function(e,t){var i=k.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,k.doc.body.removeChild(this)},i.onerror=function(){k.doc.body.removeChild(this)},k.doc.body.appendChild(i),i.src=e};i.getRGB=a(function(e){if(!e||(e=R(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(at[A](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=wt(e));var t,n,r,a,s,l,c=e.match(X);return c?(c[2]&&(r=et(c[2].substring(5),16),n=et(c[2].substring(3,5),16),t=et(c[2].substring(1,3),16)),c[3]&&(r=et((s=c[3].charAt(3))+s,16),n=et((s=c[3].charAt(2))+s,16),t=et((s=c[3].charAt(1))+s,16)),c[4]&&(l=c[4][j](rt),t=Q(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),c[5]?(l=c[5][j](rt),t=Q(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),i.hsb2rgb(t,n,r,a)):c[6]?(l=c[6][j](rt),t=Q(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),i.hsl2rgb(t,n,r,a)):(c={r:t,g:n,b:r,toString:o},c.hex="#"+(16777216|r|n<<8|t<<16).toString(16).slice(1),i.is(a,"finite")&&(c.opacity=a),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},i),i.hsb=a(function(e,t,n){return i.hsb2rgb(e,t,n).hex}),i.hsl=a(function(e,t,n){return i.hsl2rgb(e,t,n).hex}),i.rgb=a(function(e,t,i){return"#"+(16777216|i|t<<8|e<<16).toString(16).slice(1)}),i.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(e){if(!e)return null;var t=kt(e);if(t.arr)return Tt(t.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return i.is(e,Z)&&i.is(e[0],Z)&&(r=Tt(e)),r.length||R(e).replace(st,function(e,t,i){var a=[],o=t.toLowerCase();if(i.replace(ct,function(e,t){t&&a.push(+t)}),"m"==o&&a.length>2&&(r.push([t][S](a.splice(0,2))),o="l",t="m"==t?"l":"L"),"r"==o)r.push([t][S](a));else for(;a.length>=n[o]&&(r.push([t][S](a.splice(0,n[o]))),n[o]););}),r.toString=i._path2string,t.arr=Tt(r),r},i.parseTransformString=a(function(e){if(!e)return null;var t=[];return i.is(e,Z)&&i.is(e[0],Z)&&(t=Tt(e)),t.length||R(e).replace(lt,function(e,i,n){{var r=[];L.call(i)}n.replace(ct,function(e,t){t&&r.push(+t)}),t.push([i][S](r))}),t.toString=i._path2string,t});var kt=function(e){var t=kt.ps=kt.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var i in t)t[A](i)&&i!=e&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[e]};i.findDotsAtSegment=function(e,t,i,n,r,a,o,s,l){var c=1-l,d=H(c,3),u=H(c,2),p=l*l,h=p*l,f=d*e+3*u*l*i+3*c*l*l*r+h*o,m=d*t+3*u*l*n+3*c*l*l*a+h*s,g=e+2*l*(i-e)+p*(r-2*i+e),v=t+2*l*(n-t)+p*(a-2*n+t),b=i+2*l*(r-i)+p*(o-2*r+i),y=n+2*l*(a-n)+p*(s-2*a+n),w=c*e+l*i,C=c*t+l*n,x=c*r+l*o,I=c*a+l*s,M=90-180*B.atan2(g-b,v-y)/W;return(g>b||y>v)&&(M+=180),{x:f,y:m,m:{x:g,y:v},n:{x:b,y:y},start:{x:w,y:C},end:{x:x,y:I},alpha:M}},i.bezierBBox=function(e,t,n,r,a,o,s,l){i.is(e,"array")||(e=[e,t,n,r,a,o,s,l]);var c=jt.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(e,t,i){return t>=e.x&&t<=e.x2&&i>=e.y&&i<=e.y2},i.isBBoxIntersect=function(e,t){var n=i.isPointInsideBBox;return n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},i.pathIntersection=function(e,t){return h(e,t)},i.pathIntersectionNumber=function(e,t){return h(e,t,1)},i.isPointInsidePath=function(e,t,n){var r=i.pathBBox(e);return i.isPointInsideBBox(r,t,n)&&h(e,[["M",t,n],["H",r.x2+10]],1)%2==1},i._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Nt=i.pathBBox=function(e){var t=kt(e);if(t.bbox)return n(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=zt(e);for(var i,r=0,a=0,o=[],s=[],l=0,c=e.length;c>l;l++)if(i=e[l],"M"==i[0])r=i[1],a=i[2],o.push(r),s.push(a);else{var d=jt(r,a,i[1],i[2],i[3],i[4],i[5],i[6]);o=o[S](d.min.x,d.max.x),s=s[S](d.min.y,d.max.y),r=i[5],a=i[6]}var u=G[_](0,o),p=G[_](0,s),h=O[_](0,o),f=O[_](0,s),m=h-u,g=f-p,v={x:u,y:p,x2:h,y2:f,width:m,height:g,cx:u+m/2,cy:p+g/2};return t.bbox=n(v),v},Tt=function(e){var t=n(e);return t.toString=i._path2string,t},_t=i._pathToRelative=function(e){var t=kt(e);if(t.rel)return Tt(t.rel);i.is(e,Z)&&i.is(e&&e[0],Z)||(e=i.parsePathString(e));var n=[],r=0,a=0,o=0,s=0,l=0;"M"==e[0][0]&&(r=e[0][1],a=e[0][2],o=r,s=a,l++,n.push(["M",r,a]));for(var c=l,d=e.length;d>c;c++){var u=n[c]=[],p=e[c];if(p[0]!=L.call(p[0]))switch(u[0]=L.call(p[0]),u[0]){case"a":u[1]=p[1],u[2]=p[2],u[3]=p[3],u[4]=p[4],u[5]=p[5],u[6]=+(p[6]-r).toFixed(3),u[7]=+(p[7]-a).toFixed(3);break;case"v":u[1]=+(p[1]-a).toFixed(3);break;case"m":o=p[1],s=p[2];default:for(var h=1,f=p.length;f>h;h++)u[h]=+(p[h]-(h%2?r:a)).toFixed(3)}else{u=n[c]=[],"m"==p[0]&&(o=p[1]+r,s=p[2]+a);for(var m=0,g=p.length;g>m;m++)n[c][m]=p[m]}var v=n[c].length;switch(n[c][0]){case"z":r=o,a=s;break;case"h":r+=+n[c][v-1];break;case"v":a+=+n[c][v-1];break;default:r+=+n[c][v-2],a+=+n[c][v-1]}}return n.toString=i._path2string,t.rel=Tt(n),n},St=i._pathToAbsolute=function(e){var t=kt(e);if(t.abs)return Tt(t.abs);if(i.is(e,Z)&&i.is(e&&e[0],Z)||(e=i.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],r=0,a=0,o=0,l=0,c=0;"M"==e[0][0]&&(r=+e[0][1],a=+e[0][2],o=r,l=a,c++,n[0]=["M",r,a]);for(var d,u,p=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),h=c,f=e.length;f>h;h++){if(n.push(d=[]),u=e[h],u[0]!=tt.call(u[0]))switch(d[0]=tt.call(u[0]),d[0]){case"A":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]+r),d[7]=+(u[7]+a);break;case"V":d[1]=+u[1]+a;break;case"H":d[1]=+u[1]+r;break;case"R":for(var m=[r,a][S](u.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+r,m[++g]=+m[g]+a;n.pop(),n=n[S](s(m,p));break;case"M":o=+u[1]+r,l=+u[2]+a;default:for(g=1,v=u.length;v>g;g++)d[g]=+u[g]+(g%2?r:a)}else if("R"==u[0])m=[r,a][S](u.slice(1)),n.pop(),n=n[S](s(m,p)),d=["R"][S](u.slice(-2));else for(var b=0,y=u.length;y>b;b++)d[b]=u[b];switch(d[0]){case"Z":r=o,a=l;break;case"H":r=d[1];break;case"V":a=d[1];break;case"M":o=d[d.length-2],l=d[d.length-1];default:r=d[d.length-2],a=d[d.length-1]}}return n.toString=i._path2string,t.abs=Tt(n),n},Dt=function(e,t,i,n){return[e,t,i,n,i,n]},Et=function(e,t,i,n,r,a){var o=1/3,s=2/3;return[o*e+s*i,o*t+s*n,o*r+s*i,o*a+s*n,r,a]},Pt=function(e,t,i,n,r,o,s,l,c,d){var u,p=120*W/180,h=W/180*(+r||0),f=[],m=a(function(e,t,i){var n=e*B.cos(i)-t*B.sin(i),r=e*B.sin(i)+t*B.cos(i);return{x:n,y:r}});if(d)M=d[0],A=d[1],x=d[2],I=d[3];else{u=m(e,t,-h),e=u.x,t=u.y,u=m(l,c,-h),l=u.x,c=u.y;var g=(B.cos(W/180*r),B.sin(W/180*r),(e-l)/2),v=(t-c)/2,b=g*g/(i*i)+v*v/(n*n);b>1&&(b=B.sqrt(b),i=b*i,n=b*n);var y=i*i,w=n*n,C=(o==s?-1:1)*B.sqrt(V((y*w-y*v*v-w*g*g)/(y*v*v+w*g*g))),x=C*i*v/n+(e+l)/2,I=C*-n*g/i+(t+c)/2,M=B.asin(((t-I)/n).toFixed(9)),A=B.asin(((c-I)/n).toFixed(9));M=x>e?W-M:M,A=x>l?W-A:A,0>M&&(M=2*W+M),0>A&&(A=2*W+A),s&&M>A&&(M-=2*W),!s&&A>M&&(A-=2*W)}var k=A-M;if(V(k)>p){var N=A,T=l,_=c;A=M+p*(s&&A>M?1:-1),l=x+i*B.cos(A),c=I+n*B.sin(A),f=Pt(l,c,i,n,r,0,s,T,_,[A,N,x,I])}k=A-M;var D=B.cos(M),E=B.sin(M),P=B.cos(A),R=B.sin(A),z=B.tan(k/4),F=4/3*i*z,L=4/3*n*z,O=[e,t],G=[e+F*E,t-L*D],H=[l+F*R,c-L*P],q=[l,c];if(G[0]=2*O[0]-G[0],G[1]=2*O[1]-G[1],d)return[G,H,q][S](f);f=[G,H,q][S](f).join()[j](",");for(var U=[],Z=0,Y=f.length;Y>Z;Z++)U[Z]=Z%2?m(f[Z-1],f[Z],h).y:m(f[Z],f[Z+1],h).x;return U},Rt=function(e,t,i,n,r,a,o,s,l){var c=1-l;return{x:H(c,3)*e+3*H(c,2)*l*i+3*c*l*l*r+H(l,3)*o,y:H(c,3)*t+3*H(c,2)*l*n+3*c*l*l*a+H(l,3)*s}},jt=a(function(e,t,i,n,r,a,o,s){var l,c=r-2*i+e-(o-2*r+i),d=2*(i-e)-2*(r-i),u=e-i,p=(-d+B.sqrt(d*d-4*c*u))/2/c,h=(-d-B.sqrt(d*d-4*c*u))/2/c,f=[t,s],m=[e,o];return V(p)>"1e12"&&(p=.5),V(h)>"1e12"&&(h=.5),p>0&&1>p&&(l=Rt(e,t,i,n,r,a,o,s,p),m.push(l.x),f.push(l.y)),h>0&&1>h&&(l=Rt(e,t,i,n,r,a,o,s,h),m.push(l.x),f.push(l.y)),c=a-2*n+t-(s-2*a+n),d=2*(n-t)-2*(a-n),u=t-n,p=(-d+B.sqrt(d*d-4*c*u))/2/c,h=(-d-B.sqrt(d*d-4*c*u))/2/c,V(p)>"1e12"&&(p=.5),V(h)>"1e12"&&(h=.5),p>0&&1>p&&(l=Rt(e,t,i,n,r,a,o,s,p),m.push(l.x),f.push(l.y)),h>0&&1>h&&(l=Rt(e,t,i,n,r,a,o,s,h),m.push(l.x),f.push(l.y)),{min:{x:G[_](0,m),y:G[_](0,f)},max:{x:O[_](0,m),y:O[_](0,f)}}}),zt=i._path2curve=a(function(e,t){var i=!t&&kt(e);if(!t&&i.curve)return Tt(i.curve);for(var n=St(e),r=t&&St(t),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t,i){var n,r,a={T:1,Q:1};if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in a)&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][S](Pt[_](0,[t.x,t.y][S](e.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*t.x-t.bx,r=2*t.y-t.by):(n=t.x,r=t.y),e=["C",n,r][S](e.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][S](Et(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][S](Et(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][S](Dt(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][S](Dt(t.x,t.y,e[1],t.y));break;case"V":e=["C"][S](Dt(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][S](Dt(t.x,t.y,t.X,t.Y))}return e}),l=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)e.splice(t++,0,["C"][S](i.splice(0,6)));e.splice(t,1),u=O(n.length,r&&r.length||0)}},c=function(e,t,i,a,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(t.splice(o,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],u=O(n.length,r&&r.length||0))},d=0,u=O(n.length,r&&r.length||0);u>d;d++){n[d]=s(n[d],a),l(n,d),r&&(r[d]=s(r[d],o)),r&&l(r,d),c(n,r,a,o,d),c(r,n,o,a,d);var p=n[d],h=r&&r[d],f=p.length,m=r&&h.length;a.x=p[f-2],a.y=p[f-1],a.bx=Q(p[f-4])||a.x,a.by=Q(p[f-3])||a.y,o.bx=r&&(Q(h[m-4])||o.x),o.by=r&&(Q(h[m-3])||o.y),o.x=r&&h[m-2],o.y=r&&h[m-1]}return r||(i.curve=Tt(n)),r?[n,r]:n},null,Tt),Ft=(i._parseDots=a(function(e){for(var t=[],n=0,r=e.length;r>n;n++){var a={},o=e[n].match(/^([^:]*):?([\d\.]*)/);if(a.color=i.getRGB(o[1]),a.color.error)return null;a.color=a.color.hex,o[2]&&(a.offset=o[2]+"%"),t.push(a)}for(n=1,r=t.length-1;r>n;n++)if(!t[n].offset){for(var s=Q(t[n-1].offset||0),l=0,c=n+1;r>c;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=r),l=Q(l);for(var d=(l-s)/(c-n+1);c>n;n++)s+=d,t[n].offset=s+"%"}return t}),i._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Lt=(i._tofront=function(e,t){t.top!==e&&(Ft(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},i._toback=function(e,t){t.bottom!==e&&(Ft(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},i._insertafter=function(e,t,i){Ft(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},i._insertbefore=function(e,t,i){Ft(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},i.toMatrix=function(e,t){var i=Nt(e),n={_:{transform:E},getBBox:function(){return i}};return Bt(n,t),n.matrix}),Bt=(i.transformPath=function(e,t){return vt(e,Lt(e,t))},i._extractTransform=function(e,t){if(null==t)return e._.transform;t=R(t).replace(/\.{3}|\u2026/g,e._.transform||E);var n=i.parseTransformString(t),r=0,a=0,o=0,s=1,l=1,c=e._,d=new f;if(c.transform=n||[],n)for(var u=0,p=n.length;p>u;u++){var h,m,g,v,b,y=n[u],w=y.length,C=R(y[0]).toLowerCase(),x=y[0]!=C,I=x?d.invert():0;"t"==C&&3==w?x?(h=I.x(0,0),m=I.y(0,0),g=I.x(y[1],y[2]),v=I.y(y[1],y[2]),d.translate(g-h,v-m)):d.translate(y[1],y[2]):"r"==C?2==w?(b=b||e.getBBox(1),d.rotate(y[1],b.x+b.width/2,b.y+b.height/2),r+=y[1]):4==w&&(x?(g=I.x(y[2],y[3]),v=I.y(y[2],y[3]),d.rotate(y[1],g,v)):d.rotate(y[1],y[2],y[3]),r+=y[1]):"s"==C?2==w||3==w?(b=b||e.getBBox(1),d.scale(y[1],y[w-1],b.x+b.width/2,b.y+b.height/2),s*=y[1],l*=y[w-1]):5==w&&(x?(g=I.x(y[3],y[4]),v=I.y(y[3],y[4]),d.scale(y[1],y[2],g,v)):d.scale(y[1],y[2],y[3],y[4]),s*=y[1],l*=y[2]):"m"==C&&7==w&&d.add(y[1],y[2],y[3],y[4],y[5],y[6]),c.dirtyT=1,e.matrix=d}e.matrix=d,c.sx=s,c.sy=l,c.deg=r,c.dx=a=d.e,c.dy=o=d.f,1==s&&1==l&&!r&&c.bbox?(c.bbox.x+=+a,c.bbox.y+=+o):c.dirtyT=1}),Ot=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Gt=i._equaliseTransform=function(e,t){t=R(t).replace(/\.{3}|\u2026/g,e),e=i.parseTransformString(e)||[],t=i.parseTransformString(t)||[];for(var n,r,a,o,s=O(e.length,t.length),l=[],c=[],d=0;s>d;d++){if(a=e[d]||Ot(t[d]),o=t[d]||Ot(a),a[0]!=o[0]||"r"==a[0].toLowerCase()&&(a[2]!=o[2]||a[3]!=o[3])||"s"==a[0].toLowerCase()&&(a[3]!=o[3]||a[4]!=o[4]))return;
for(l[d]=[],c[d]=[],n=0,r=O(a.length,o.length);r>n;n++)n in a&&(l[d][n]=a[n]),n in o&&(c[d][n]=o[n])}return{from:l,to:c}};i._getContainer=function(e,t,n,r){var a;return a=null!=r||i.is(e,"object")?e:k.doc.getElementById(e),null!=a?a.tagName?null==t?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:t,height:n}:{container:1,x:e,y:t,width:n,height:r}:void 0},i.pathToRelative=_t,i._engine={},i.path2curve=zt,i.matrix=function(e,t,i,n,r,a){return new f(e,t,i,n,r,a)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var i=B.sqrt(t(e));e[0]&&(e[0]/=i),e[1]&&(e[1]/=i)}e.add=function(e,t,i,n,r,a){var o,s,l,c,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[e,i,r],[t,n,a],[0,0,1]];for(e&&e instanceof f&&(p=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),o=0;3>o;o++)for(s=0;3>s;s++){for(c=0,l=0;3>l;l++)c+=u[o][l]*p[l][s];d[o][s]=c}this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,n){null==t&&(t=e),(i||n)&&this.add(1,0,0,1,i,n),this.add(e,0,0,t,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,t,n){e=i.rad(e),t=t||0,n=n||0;var r=+B.cos(e).toFixed(9),a=+B.sin(e).toFixed(9);this.add(r,a,-a,r,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[R.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=B.sqrt(t(r[0])),n(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=B.sqrt(t(r[1])),n(r[1]),e.shear/=e.scaley;var a=-r[0][1],o=r[1][1];return 0>o?(e.rotate=i.deg(B.acos(o)),0>a&&(e.rotate=360-e.rotate)):e.rotate=i.deg(B.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[j]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:E)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:E)+(t.rotate?"r"+[t.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Vt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);C.safari="Apple Computer, Inc."==navigator.vendor&&(Vt&&Vt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Vt&&Vt[1]<8?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:pt;for(var Ht=function(){this.returnValue=!1},Wt=function(){return this.originalEvent.preventDefault()},qt=function(){this.cancelBubble=!0},Ut=function(){return this.originalEvent.stopPropagation()},Zt=function(e){var t=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,i=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;return{x:e.clientX+i,y:e.clientY+t}},Yt=function(){return k.doc.addEventListener?function(e,t,i,n){var r=function(e){var t=Zt(e);return i.call(n,e,t.x,t.y)};if(e.addEventListener(t,r,!1),D&&F[t]){var a=function(t){for(var r=Zt(t),a=t,o=0,s=t.targetTouches&&t.targetTouches.length;s>o;o++)if(t.targetTouches[o].target==e){t=t.targetTouches[o],t.originalEvent=a,t.preventDefault=Wt,t.stopPropagation=Ut;break}return i.call(n,t,r.x,r.y)};e.addEventListener(F[t],a,!1)}return function(){return e.removeEventListener(t,r,!1),D&&F[t]&&e.removeEventListener(F[t],r,!1),!0}}:k.doc.attachEvent?function(e,t,i,n){var r=function(e){e=e||k.win.event;var t=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,r=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,a=e.clientX+r,o=e.clientY+t;return e.preventDefault=e.preventDefault||Ht,e.stopPropagation=e.stopPropagation||qt,i.call(n,e,a,o)};e.attachEvent("on"+t,r);var a=function(){return e.detachEvent("on"+t,r),!0};return a}:void 0}(),Xt=[],$t=function(e){for(var i,n=e.clientX,r=e.clientY,a=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,o=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,s=Xt.length;s--;){if(i=Xt[s],D&&e.touches){for(var l,c=e.touches.length;c--;)if(l=e.touches[c],l.identifier==i.el._drag.id){n=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d,u=i.el.node,p=u.nextSibling,h=u.parentNode,f=u.style.display;k.win.opera&&h.removeChild(u),u.style.display="none",d=i.el.paper.getElementByPoint(n,r),u.style.display=f,k.win.opera&&(p?h.insertBefore(u,p):h.appendChild(u)),d&&t("raphael.drag.over."+i.el.id,i.el,d),n+=o,r+=a,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,e)}},Jt=function(e){i.unmousemove($t).unmouseup(Jt);for(var n,r=Xt.length;r--;)n=Xt[r],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);Xt=[]},Kt=i.el={},Qt=z.length;Qt--;)!function(e){i[e]=Kt[e]=function(t,n){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Yt(this.shape||this.node||k.doc,e,t,n||this)})),this},i["un"+e]=Kt["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)n[r].name!=e||!i.is(t,"undefined")&&n[r].f!=t||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(z[Qt]);Kt.data=function(e,n){var r=dt[this.id]=dt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(i.is(e,"object")){for(var a in e)e[A](a)&&this.data(a,e[a]);return this}return t("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,t("raphael.data.set."+this.id,this,n,e),this},Kt.removeData=function(e){return null==e?dt[this.id]={}:dt[this.id]&&delete dt[this.id][e],this},Kt.getData=function(){return n(dt[this.id]||{})},Kt.hover=function(e,t,i,n){return this.mouseover(e,i).mouseout(t,n||i)},Kt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var ei=[];Kt.drag=function(e,n,r,a,o,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,d=l.clientY,u=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,p=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;if(this._drag.id=l.identifier,D&&l.touches)for(var h,f=l.touches.length;f--;)if(h=l.touches[f],this._drag.id=h.identifier,h.identifier==this._drag.id){c=h.clientX,d=h.clientY;break}this._drag.x=c+p,this._drag.y=d+u,!Xt.length&&i.mousemove($t).mouseup(Jt),Xt.push({el:this,move_scope:a,start_scope:o,end_scope:s}),n&&t.on("raphael.drag.start."+this.id,n),e&&t.on("raphael.drag.move."+this.id,e),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,o||a||this,l.clientX+p,l.clientY+u,l)}return this._drag={},ei.push({el:this,start:l}),this.mousedown(l),this},Kt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Kt.undrag=function(){for(var e=ei.length;e--;)ei[e].el==this&&(this.unmousedown(ei[e].start),ei.splice(e,1),t.unbind("raphael.drag.*."+this.id));!ei.length&&i.unmousemove($t).unmouseup(Jt),Xt=[]},C.circle=function(e,t,n){var r=i._engine.circle(this,e||0,t||0,n||0);return this.__set__&&this.__set__.push(r),r},C.rect=function(e,t,n,r,a){var o=i._engine.rect(this,e||0,t||0,n||0,r||0,a||0);return this.__set__&&this.__set__.push(o),o},C.ellipse=function(e,t,n,r){var a=i._engine.ellipse(this,e||0,t||0,n||0,r||0);return this.__set__&&this.__set__.push(a),a},C.path=function(e){e&&!i.is(e,U)&&!i.is(e[0],Z)&&(e+=E);var t=i._engine.path(i.format[_](i,arguments),this);return this.__set__&&this.__set__.push(t),t},C.image=function(e,t,n,r,a){var o=i._engine.image(this,e||"about:blank",t||0,n||0,r||0,a||0);return this.__set__&&this.__set__.push(o),o},C.text=function(e,t,n){var r=i._engine.text(this,e||0,t||0,R(n));return this.__set__&&this.__set__.push(r),r},C.set=function(e){!i.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new pi(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},C.setStart=function(e){this.__set__=e||this.set()},C.setFinish=function(){var e=this.__set__;return delete this.__set__,e},C.setSize=function(e,t){return i._engine.setSize.call(this,e,t)},C.setViewBox=function(e,t,n,r,a){return i._engine.setViewBox.call(this,e,t,n,r,a)},C.top=C.bottom=null,C.raphael=i;var ti=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,n=i.body,r=i.documentElement,a=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0,s=t.top+(k.win.pageYOffset||r.scrollTop||n.scrollTop)-a,l=t.left+(k.win.pageXOffset||r.scrollLeft||n.scrollLeft)-o;return{y:s,x:l}};C.getElementByPoint=function(e,t){var i=this,n=i.canvas,r=k.doc.elementFromPoint(e,t);if(k.win.opera&&"svg"==r.tagName){var a=ti(n),o=n.createSVGRect();o.x=e-a.x,o.y=t-a.y,o.width=o.height=1;var s=n.getIntersectionList(o,null);s.length&&(r=s[s.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},C.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),e)&&t.push(n)}),t},C.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},C.forEach=function(e,t){for(var i=this.bottom;i;){if(e.call(t,i)===!1)return this;i=i.next}return this},C.getElementsByPoint=function(e,t){var i=this.set();return this.forEach(function(n){n.isPointInside(e,t)&&i.push(n)}),i},Kt.isPointInside=function(e,t){var n=this.realPath=gt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,e,t)},Kt.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=gt[this.type](this),t.bboxwt=Nt(this.realPath),t.bboxwt.toString=m,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=gt[this.type](this)),t.bbox=Nt(vt(this.realPath,this.matrix)),t.bbox.toString=m,t.dirty=t.dirtyT=0),t.bbox)},Kt.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Kt.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,n=this.paper,r=n.set(),a=this.realPath||gt[this.type](this);a=this.matrix?vt(a,this.matrix):a;for(var o=1;i+1>o;o++)r.push(n.path(a).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*o).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var ii=function(e,t,n,r,a,o,s,l,u){return null==u?c(e,t,n,r,a,o,s,l):i.findDotsAtSegment(e,t,n,r,a,o,s,l,d(e,t,n,r,a,o,s,l,u))},ni=function(e,t){return function(n,r,a){n=zt(n);for(var o,s,l,c,d,u="",p={},h=0,f=0,m=n.length;m>f;f++){if(l=n[f],"M"==l[0])o=+l[1],s=+l[2];else{if(c=ii(o,s,l[1],l[2],l[3],l[4],l[5],l[6]),h+c>r){if(t&&!p.start){if(d=ii(o,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h),u+=["C"+d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y],a)return u;p.start=u,u=["M"+d.x,d.y+"C"+d.n.x,d.n.y,d.end.x,d.end.y,l[5],l[6]].join(),h+=c,o=+l[5],s=+l[6];continue}if(!e&&!t)return d=ii(o,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h),{x:d.x,y:d.y,alpha:d.alpha}}h+=c,o=+l[5],s=+l[6]}u+=l.shift()+l}return p.end=u,d=e?h:t?p:i.findDotsAtSegment(o,s,l[0],l[1],l[2],l[3],l[4],l[5],1),d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha}),d}},ri=ni(1),ai=ni(),oi=ni(0,1);i.getTotalLength=ri,i.getPointAtLength=ai,i.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return oi(e,t).end;var n=oi(e,i,1);return t?oi(n,t).end:n},Kt.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():ri(e)},Kt.getPointAtLength=function(e){var t=this.getPath();if(t)return ai(t,e)},Kt.getPath=function(){var e,t=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(e=t(this)),e},Kt.getSubpath=function(e,t){var n=this.getPath();if(n)return i.getSubpath(n,e,t)};var si=i.easing_formulas={linear:function(e){return e},"<":function(e){return H(e,1.7)},">":function(e){return H(e,.48)},"<>":function(e){var t=.48-e/1.04,i=B.sqrt(.1734+t*t),n=i-t,r=H(V(n),1/3)*(0>n?-1:1),a=-i-t,o=H(V(a),1/3)*(0>a?-1:1),s=r+o+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:H(2,-10*e)*B.sin(2*(e-.075)*W/.3)+1},bounce:function(e){var t,i=7.5625,n=2.75;return 1/n>e?t=i*e*e:2/n>e?(e-=1.5/n,t=i*e*e+.75):2.5/n>e?(e-=2.25/n,t=i*e*e+.9375):(e-=2.625/n,t=i*e*e+.984375),t}};si.easeIn=si["ease-in"]=si["<"],si.easeOut=si["ease-out"]=si[">"],si.easeInOut=si["ease-in-out"]=si["<>"],si["back-in"]=si.backIn,si["back-out"]=si.backOut;var li=[],ci=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},di=function(){for(var e=+new Date,n=0;n<li.length;n++){var r=li[n];if(!r.el.removed&&!r.paused){var a,o,s=e-r.start,l=r.ms,c=r.easing,d=r.from,u=r.diff,p=r.to,h=(r.t,r.el),f={},m={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&li.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/l))/r.anim.top,!(0>s))if(l>s){var g=c(s/l);for(var v in d)if(d[A](v)){switch(nt[v]){case q:a=+d[v]+g*l*u[v];break;case"colour":a="rgb("+[ui(K(d[v].r+g*l*u[v].r)),ui(K(d[v].g+g*l*u[v].g)),ui(K(d[v].b+g*l*u[v].b))].join(",")+")";break;case"path":a=[];for(var y=0,w=d[v].length;w>y;y++){a[y]=[d[v][y][0]];for(var C=1,x=d[v][y].length;x>C;C++)a[y][C]=+d[v][y][C]+g*l*u[v][y][C];a[y]=a[y].join(P)}a=a.join(P);break;case"transform":if(u[v].real)for(a=[],y=0,w=d[v].length;w>y;y++)for(a[y]=[d[v][y][0]],C=1,x=d[v][y].length;x>C;C++)a[y][C]=d[v][y][C]+g*l*u[v][y][C];else{var I=function(e){return+d[v][e]+g*l*u[v][e]};a=[["m",I(0),I(1),I(2),I(3),I(4),I(5)]]}break;case"csv":if("clip-rect"==v)for(a=[],y=4;y--;)a[y]=+d[v][y]+g*l*u[v][y];break;default:var M=[][S](d[v]);for(a=[],y=h.paper.customAttributes[v].length;y--;)a[y]=+M[y]+g*l*u[v][y]}f[v]=a}h.attr(f),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(h.id,h,r.anim)}else{if(function(e,n,r){setTimeout(function(){t("raphael.anim.frame."+n.id,n,r),t("raphael.anim.finish."+n.id,n,r),i.is(e,"function")&&e.call(n)})}(r.callback,h,r.anim),h.attr(p),li.splice(n--,1),r.repeat>1&&!r.next){for(o in p)p[A](o)&&(m[o]=r.totalOrigin[o]);r.el.attr(m),b(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&b(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}i.svg&&h&&h.paper&&h.paper.safari(),li.length&&ci(di)},ui=function(e){return e>255?255:0>e?0:e};Kt.animateWith=function(e,t,n,r,a,o){var s=this;if(s.removed)return o&&o.call(s),s;var l=n instanceof v?n:i.animation(n,r,a,o);b(l,s,l.percents[0],null,s.attr());for(var c=0,d=li.length;d>c;c++)if(li[c].anim==t&&li[c].el==e){li[d-1].start=li[c].start;break}return s},Kt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(e){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},v.prototype.repeat=function(e){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=B.floor(O(e,0))||1,t},i.animation=function(e,t,n,r){if(e instanceof v)return e;(i.is(n,"function")||!n)&&(r=r||n||null,n=null),e=Object(e),t=+t||0;var a,o,s={};for(o in e)e[A](o)&&Q(o)!=o&&Q(o)+"%"!=o&&(a=!0,s[o]=e[o]);return a?(n&&(s.easing=n),r&&(s.callback=r),new v({100:s},t)):new v(e,t)},Kt.animate=function(e,t,n,r){var a=this;if(a.removed)return r&&r.call(a),a;var o=e instanceof v?e:i.animation(e,t,n,r);return b(o,a,o.percents[0],null,a.attr()),a},Kt.setTime=function(e,t){return e&&null!=t&&this.status(e,G(t,e.ms)/e.ms),this},Kt.status=function(e,t){var i,n,r=[],a=0;if(null!=t)return b(e,this,-1,G(t,1)),this;for(i=li.length;i>a;a++)if(n=li[a],n.el.id==this.id&&(!e||n.anim==e)){if(e)return n.status;r.push({anim:n.anim,status:n.status})}return e?0:r},Kt.pause=function(e){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||e&&li[i].anim!=e||t("raphael.anim.pause."+this.id,this,li[i].anim)!==!1&&(li[i].paused=!0);return this},Kt.resume=function(e){for(var i=0;i<li.length;i++)if(li[i].el.id==this.id&&(!e||li[i].anim==e)){var n=li[i];t("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Kt.stop=function(e){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||e&&li[i].anim!=e||t("raphael.anim.stop."+this.id,this,li[i].anim)!==!1&&li.splice(i--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Kt.toString=function(){return"Raphaël’s object"};var pi=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,i=e.length;i>t;t++)!e[t]||e[t].constructor!=Kt.constructor&&e[t].constructor!=pi||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},hi=pi.prototype;hi.push=function(){for(var e,t,i=0,n=arguments.length;n>i;i++)e=arguments[i],!e||e.constructor!=Kt.constructor&&e.constructor!=pi||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},hi.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},hi.forEach=function(e,t){for(var i=0,n=this.items.length;n>i;i++)if(e.call(t,this.items[i],i)===!1)return this;return this};for(var fi in Kt)Kt[A](fi)&&(hi[fi]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e][_](i,t)})}}(fi));return hi.attr=function(e,t){if(e&&i.is(e,Z)&&i.is(e[0],"object"))for(var n=0,r=e.length;r>n;n++)this.items[n].attr(e[n]);else for(var a=0,o=this.items.length;o>a;a++)this.items[a].attr(e,t);return this},hi.clear=function(){for(;this.length;)this.pop()},hi.splice=function(e,t){e=0>e?O(this.length+e,0):e,t=O(0,G(this.length-e,t));var i,n=[],r=[],a=[];for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;t>i;i++)r.push(this[e+i]);for(;i<this.length-e;i++)n.push(this[e+i]);var o=a.length;for(i=0;i<o+n.length;i++)this.items[e+i]=this[e+i]=o>i?a[i]:n[i-o];for(i=this.items.length=this.length-=t-o;this[i];)delete this[i++];return new pi(r)},hi.exclude=function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return this.splice(t,1),!0},hi.animate=function(e,t,n,r){(i.is(n,"function")||!n)&&(r=n||null);var a,o,s=this.items.length,l=s,c=this;if(!s)return this;r&&(o=function(){!--s&&r.call(c)}),n=i.is(n,U)?n:o;var d=i.animation(e,t,n,o);for(a=this.items[--l].animate(d);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,d,d),this.items[l]&&!this.items[l].removed||s--;return this},hi.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},hi.getBBox=function(){for(var e=[],t=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var a=this.items[r].getBBox();e.push(a.x),t.push(a.y),i.push(a.x+a.width),n.push(a.y+a.height)}return e=G[_](0,e),t=G[_](0,t),i=O[_](0,i),n=O[_](0,n),{x:e,y:t,x2:i,y2:n,width:i-e,height:n-t}},hi.clone=function(e){e=this.paper.set();for(var t=0,i=this.items.length;i>t;t++)e.push(this.items[t].clone());return e},hi.toString=function(){return"Raphaël‘s set"},hi.glow=function(e){var t=this.paper.set();return this.forEach(function(i){var n=i.glow(e);null!=n&&n.forEach(function(e){t.push(e)})}),t},hi.isPointInside=function(e,t){var i=!1;return this.forEach(function(n){return n.isPointInside(e,t)?(i=!0,!1):void 0}),i},i.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var n in e.face)e.face[A](n)&&(t.face[n]=e.face[n]);if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg){t.face["units-per-em"]=et(e.face["units-per-em"],10);for(var r in e.glyphs)if(e.glyphs[A](r)){var a=e.glyphs[r];if(t.glyphs[r]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},a.k)for(var o in a.k)a[A](o)&&(t.glyphs[r].k[o]=a.k[o])}}return e},C.getFont=function(e,t,n,r){if(r=r||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){var a=i.fonts[e];if(!a){var o=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var s in i.fonts)if(i.fonts[A](s)&&o.test(s)){a=i.fonts[s];break}}var l;if(a)for(var c=0,d=a.length;d>c&&(l=a[c],l.face["font-weight"]!=t||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=r);c++);return l}},C.print=function(e,t,n,r,a,o,s,l){o=o||"middle",s=O(G(s||0,1),-1),l=O(G(l||1,3),1);var c,d=R(n)[j](E),u=0,p=0,h=E;if(i.is(r,"string")&&(r=this.getFont(r)),r){c=(a||16)/r.face["units-per-em"];for(var f=r.face.bbox[j](x),m=+f[0],g=f[3]-f[1],v=0,b=+f[1]+("baseline"==o?g+ +r.face.descent:g/2),y=0,w=d.length;w>y;y++){if("\n"==d[y])u=0,I=0,p=0,v+=g*l;else{var C=p&&r.glyphs[d[y-1]]||{},I=r.glyphs[d[y]];u+=p?(C.w||r.w)+(C.k&&C.k[d[y]]||0)+r.w*s:0,p=1}I&&I.d&&(h+=i.transformPath(I.d,["t",u*c,v*c,"s",c,c,m,b,"t",(e-m)/c,(t-b)/c]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},C.add=function(e){if(i.is(e,"array"))for(var t,n=this.set(),r=0,a=e.length;a>r;r++)t=e[r]||{},I[A](t.type)&&n.push(this[t.type]().attr(t));return n},i.format=function(e,t){var n=i.is(t,Z)?[0][S](t):arguments;return e&&i.is(e,U)&&n.length-1&&(e=e.replace(M,function(e,t){return null==n[++t]?E:n[t]})),e||E},i.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(e,i,n){var r=n;return i.replace(t,function(e,t,i,n,a){t=t||n,r&&(t in r&&(r=r[t]),"function"==typeof r&&a&&(r=r()))}),r=(null==r||r==n?e:r)+""};return function(t,n){return String(t).replace(e,function(e,t){return i(e,t,n)})}}(),i.ninja=function(){return N.was?k.win.Raphael=N.is:delete Raphael,i},i.st=hi,function(e,t,n){function r(){/in/.test(e.readyState)?setTimeout(r,9):i.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,n=function(){e.removeEventListener(t,n,!1),e.readyState="complete"},!1),e.readyState="loading"),r()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){w=!0}),function(){if(i.svg){var e="hasOwnProperty",t=String,n=parseFloat,r=parseInt,a=Math,o=a.max,s=a.abs,l=a.pow,c=/[, ]+/,d=i.eve,u="",p=" ",h="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(n,r){if(r){"string"==typeof n&&(n=g(n));for(var a in r)r[e](a)&&("xlink:"==a.substring(0,6)?n.setAttributeNS(h,a.substring(6),t(r[a])):n.setAttribute(a,t(r[a])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var c="linear",d=e.id+r,p=.5,h=.5,f=e.node,m=e.paper,v=f.style,b=i._g.doc.getElementById(d);if(!b){if(r=t(r).replace(i._radial_gradient,function(e,t,i){if(c="radial",t&&i){p=n(t),h=n(i);var r=2*(h>.5)-1;l(p-.5,2)+l(h-.5,2)>.25&&(h=a.sqrt(.25-l(p-.5,2))*r+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*r)}return u}),r=r.split(/\s*\-\s*/),"linear"==c){var y=r.shift();if(y=-n(y),isNaN(y))return null;var w=[0,0,a.cos(i.rad(y)),a.sin(i.rad(y))],C=1/(o(s(w[2]),s(w[3]))||1);w[2]*=C,w[3]*=C,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var x=i._parseDots(r);if(!x)return null;if(d=d.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&d!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(c+"Gradient",{id:d}),e.gradient=b,g(b,"radial"==c?{fx:p,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var I=0,M=x.length;M>I;I++)b.appendChild(g("stop",{offset:x[I].offset?x[I].offset:I?"100%":"0%","stop-color":x[I].color||"#fff"}))}}return g(f,{fill:"url(#"+d+")",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},b=function(e){var t=e.getBBox(1);g(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(n,r,a){if("path"==n.type){for(var o,s,l,c,d,p=t(r).toLowerCase().split("-"),h=n.paper,v=a?"end":"start",b=n.node,y=n.attrs,w=y["stroke-width"],C=p.length,x="classic",I=3,M=3,A=5;C--;)switch(p[C]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=p[C];break;case"wide":M=5;break;case"narrow":M=2;break;case"long":I=5;break;case"short":I=2}if("open"==x?(I+=2,M+=2,A+=2,l=1,c=a?4:1,d={fill:"none",stroke:y.stroke}):(c=l=I/2,d={fill:y.stroke,stroke:"none"}),n._.arrows?a?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=x){var k="raphael-marker-"+x,N="raphael-marker-"+v+x+I+M;i._g.doc.getElementById(k)?m[k]++:(h.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[x],id:k})),m[k]=1);var T,_=i._g.doc.getElementById(N);_?(m[N]++,T=_.getElementsByTagName("use")[0]):(_=g(g("marker"),{id:N,markerHeight:M,markerWidth:I,orient:"auto",refX:c,refY:M/2}),T=g(g("use"),{"xlink:href":"#"+k,transform:(a?"rotate(180 "+I/2+" "+M/2+") ":u)+"scale("+I/A+","+M/A+")","stroke-width":(1/((I/A+M/A)/2)).toFixed(4)}),_.appendChild(T),h.defs.appendChild(_),m[N]=1),g(T,d);var S=l*("diamond"!=x&&"oval"!=x);a?(o=n._.arrows.startdx*w||0,s=i.getTotalLength(y.path)-S*w):(o=S*w,s=i.getTotalLength(y.path)-(n._.arrows.enddx*w||0)),d={},d["marker-"+v]="url(#"+N+")",(s||o)&&(d.d=i.getSubpath(y.path,o,s)),g(b,d),n._.arrows[v+"Path"]=k,n._.arrows[v+"Marker"]=N,n._.arrows[v+"dx"]=S,n._.arrows[v+"Type"]=x,n._.arrows[v+"String"]=r}else a?(o=n._.arrows.startdx*w||0,s=i.getTotalLength(y.path)-o):(o=0,s=i.getTotalLength(y.path)-(n._.arrows.enddx*w||0)),n._.arrows[v+"Path"]&&g(b,{d:i.getSubpath(y.path,o,s)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(d in m)if(m[e](d)&&!m[d]){var D=i._g.doc.getElementById(d);D&&D.parentNode.removeChild(D)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},C=function(e,i,n){if(i=w[t(i).toLowerCase()]){for(var r=e.attrs["stroke-width"]||"1",a={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,o=[],s=i.length;s--;)o[s]=i[s]*r+(s%2?1:-1)*a;g(e.node,{"stroke-dasharray":o.join(",")})}},x=function(n,a){var l=n.node,d=n.attrs,p=l.style.visibility;l.style.visibility="hidden";for(var f in a)if(a[e](f)){if(!i._availableAttrs[e](f))continue;var m=a[f];switch(d[f]=m,f){case"blur":n.blur(m);break;case"title":var w=l.getElementsByTagName("title");if(w.length&&(w=w[0]))w.firstChild.nodeValue=m;else{w=g("title");var x=i._g.doc.createTextNode(m);w.appendChild(x),l.appendChild(w)}break;case"href":case"target":var I=l.parentNode;if("a"!=I.tagName.toLowerCase()){var A=g("a");I.insertBefore(A,l),A.appendChild(l),I=A}"target"==f?I.setAttributeNS(h,"show","blank"==m?"new":m):I.setAttributeNS(h,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":y(n,m);break;case"arrow-end":y(n,m,1);break;case"clip-rect":var k=t(m).split(c);if(4==k.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var N=g("clipPath"),T=g("rect");N.id=i.createUUID(),g(T,{x:k[0],y:k[1],width:k[2],height:k[3]}),N.appendChild(T),n.paper.defs.appendChild(N),g(l,{"clip-path":"url(#"+N.id+")"}),n.clip=T}if(!m){var _=l.getAttribute("clip-path");if(_){var S=i._g.doc.getElementById(_.replace(/(^url\(#|\)$)/g,u));S&&S.parentNode.removeChild(S),g(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?d.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!d.fx)break;f="x",m=d.x;case"x":d.fx&&(m=-d.x-(d.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!d.fy)break;f="y",m=d.y;case"y":d.fy&&(m=-d.y-(d.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(h,"href",m);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(m/=o(s(n._.sx),s(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),d["stroke-dasharray"]&&C(n,d["stroke-dasharray"],a),n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"stroke-dasharray":C(n,m,a);break;case"fill":var D=t(m).match(i._ISURL);if(D){N=g("pattern");var E=g("image");N.id=i.createUUID(),g(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(E,{x:0,y:0,"xlink:href":D[1]}),N.appendChild(E),function(e){i._preload(D[1],function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(E,{width:t,height:i}),n.paper.safari()})}(N),n.paper.defs.appendChild(N),g(l,{fill:"url(#"+N.id+")"}),n.pattern=N,n.pattern&&b(n);break}var P=i.getRGB(m);if(P.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m)){if("opacity"in d||"fill-opacity"in d){var R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(R){var j=R.getElementsByTagName("stop");g(j[j.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})}}d.gradient=m,d.fill="none";break}}else delete a.gradient,delete d.gradient,!i.is(d.opacity,"undefined")&&i.is(a.opacity,"undefined")&&g(l,{opacity:d.opacity}),!i.is(d["fill-opacity"],"undefined")&&i.is(a["fill-opacity"],"undefined")&&g(l,{"fill-opacity":d["fill-opacity"]});P[e]("opacity")&&g(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=i.getRGB(m),l.setAttribute(f,P.hex),"stroke"==f&&P[e]("opacity")&&g(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m);break;case"opacity":d.gradient&&!d[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(d.gradient){R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),R&&(j=R.getElementsByTagName("stop"),g(j[j.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=r(m,10)+"px");var z=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[z]=m,n._.dirty=1,l.setAttribute(f,m)
}}M(n,a),l.style.visibility=p},I=1.2,M=function(n,a){if("text"==n.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var o=n.attrs,s=n.node,l=s.firstChild?r(i._g.doc.defaultView.getComputedStyle(s.firstChild,u).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(o.text=a.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,d=t(a.text).split("\n"),p=[],h=0,f=d.length;f>h;h++)c=g("tspan"),h&&g(c,{dy:l*I,x:o.x}),c.appendChild(i._g.doc.createTextNode(d[h])),s.appendChild(c),p[h]=c}else for(p=s.getElementsByTagName("tspan"),h=0,f=p.length;f>h;h++)h?g(p[h],{dy:l*I,x:o.x}):g(p[0],{dy:0});g(s,{x:o.x,y:o.y}),n._.dirty=1;var m=n._getBBox(),v=o.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(p[0],{dy:v})}},A=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},k=i.el;A.prototype=k,k.constructor=A,i._engine.path=function(e,t){var i=g("path");t.canvas&&t.canvas.appendChild(i);var n=new A(i,t);return n.type="path",x(n,{fill:"none",stroke:"#000",path:e}),n},k.rotate=function(e,i,r){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),r=n(e[2])),e=n(e[0]),null==r&&(i=r),null==i||null==r){var a=this.getBBox(1);i=a.x+a.width/2,r=a.y+a.height/2}return this.transform(this._.transform.concat([["r",e,i,r]])),this},k.scale=function(e,i,r,a){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),r=n(e[2]),a=n(e[3])),e=n(e[0]),null==i&&(i=e),null==a&&(r=a),null==r||null==a)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,a=null==a?o.y+o.height/2:a,this.transform(this._.transform.concat([["s",e,i,r,a]])),this},k.translate=function(e,i){return this.removed?this:(e=t(e).split(c),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",e,i]])),this)},k.transform=function(t){var n=this._;if(null==t)return n.transform;if(i._extractTransform(this,t),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},k.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},k.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},k.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),i._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},k._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(i){}finally{t=t||{}}return e&&this.hide(),t},k.attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var a in this.attrs)this.attrs[e](a)&&(r[a]=this.attrs[a]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var o=t.split(c),s={},l=0,u=o.length;u>l;l++)t=o[l],s[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return u-1?s:s[o[0]]}if(null==n&&i.is(t,"array")){for(s={},l=0,u=t.length;u>l;l++)s[t[l]]=this.attr(t[l]);return s}if(null!=n){var p={};p[t]=n}else null!=t&&i.is(t,"object")&&(p=t);for(var h in p)d("raphael.attr."+h+"."+this.id,this,p[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&p[e](h)&&i.is(this.paper.customAttributes[h],"function")){var f=this.paper.customAttributes[h].apply(this,[].concat(p[h]));this.attrs[h]=p[h];for(var m in f)f[e](m)&&(p[m]=f[m])}return x(this,p),this},k.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&i._tofront(this,e),this},k.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper);this.paper;return this},k.insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this},k.insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),i._insertbefore(this,e,this.paper),this},k.blur=function(e){var t=this;if(0!==+e){var n=g("filter"),r=g("feGaussianBlur");t.attrs.blur=e,n.id=i.createUUID(),g(r,{stdDeviation:+e||1.5}),n.appendChild(r),t.paper.defs.appendChild(n),t._blur=n,g(t.node,{filter:"url(#"+n.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},i._engine.circle=function(e,t,i,n){var r=g("circle");e.canvas&&e.canvas.appendChild(r);var a=new A(r,e);return a.attrs={cx:t,cy:i,r:n,fill:"none",stroke:"#000"},a.type="circle",g(r,a.attrs),a},i._engine.rect=function(e,t,i,n,r,a){var o=g("rect");e.canvas&&e.canvas.appendChild(o);var s=new A(o,e);return s.attrs={x:t,y:i,width:n,height:r,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},s.type="rect",g(o,s.attrs),s},i._engine.ellipse=function(e,t,i,n,r){var a=g("ellipse");e.canvas&&e.canvas.appendChild(a);var o=new A(a,e);return o.attrs={cx:t,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",g(a,o.attrs),o},i._engine.image=function(e,t,i,n,r,a){var o=g("image");g(o,{x:i,y:n,width:r,height:a,preserveAspectRatio:"none"}),o.setAttributeNS(h,"href",t),e.canvas&&e.canvas.appendChild(o);var s=new A(o,e);return s.attrs={x:i,y:n,width:r,height:a,src:t},s.type="image",s},i._engine.text=function(e,t,n,r){var a=g("text");e.canvas&&e.canvas.appendChild(a);var o=new A(a,e);return o.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:i._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",x(o,o.attrs),o},i._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e&&e.container,n=e.x,r=e.y,a=e.width,o=e.height;if(!t)throw new Error("SVG container not found.");var s,l=g("svg"),c="overflow:hidden;";return n=n||0,r=r||0,a=a||512,o=o||342,g(l,{height:o,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg"}),1==t?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+r+"px",i._g.doc.body.appendChild(l),s=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),t=new i._Paper,t.width=a,t.height=o,t.canvas=l,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},i._engine.setViewBox=function(e,t,i,n,r){d("raphael.setViewBox",this,this._viewBox,[e,t,i,n,r]);var a,s,l=o(i/this.width,n/this.height),c=this.top,u=r?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+p+this.height):(this._vbSize=l,a=e+p+t+p+i+p+n),g(this.canvas,{viewBox:a,preserveAspectRatio:u});l&&c;)s="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":s}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[e,t,i,n,!!r],this},i.prototype.renderfix=function(){var e,t=this.canvas,i=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var r=-e.e%1,a=-e.f%1;(r||a)&&(r&&(this._left=(this._left+r)%1,i.left=this._left+"px"),a&&(this._top=(this._top+a)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null};var N=i.st;for(var T in k)k[e](T)&&!N[e](T)&&(N[T]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(T))}}(),function(){if(i.vml){var e="hasOwnProperty",t=String,n=parseFloat,r=Math,a=r.round,o=r.max,s=r.min,l=r.abs,c="fill",d=/[, ]+/,u=i.eve,p=" progid:DXImageTransform.Microsoft",h=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,b=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,C={path:1,rect:1,image:1},x={circle:1,ellipse:1},I=function(e){var n=/[ahqstv]/gi,r=i._pathToAbsolute;if(t(e).match(n)&&(r=i._path2curve),n=/[clmz]/g,r==i._pathToAbsolute&&!t(e).match(n)){var o=t(e).replace(g,function(e,t,i){var n=[],r="m"==t.toLowerCase(),o=m[t];return i.replace(b,function(e){r&&2==n.length&&(o+=n+m["m"==t?"l":"L"],n=[]),n.push(a(e*w))}),o+n});return o}var s,l,c=r(e);o=[];for(var d=0,u=c.length;u>d;d++){s=c[d],l=c[d][0].toLowerCase(),"z"==l&&(l="x");for(var p=1,v=s.length;v>p;p++)l+=a(s[p]*w)+(p!=v-1?",":f);o.push(l)}return o.join(h)},M=function(e,t,n){var r=i.matrix();return r.rotate(-e,.5,.5),{dx:r.x(t,n),dy:r.y(t,n)}},A=function(e,t,i,n,r,a){var o=e._,s=e.matrix,d=o.fillpos,u=e.node,p=u.style,f=1,m="",g=w/t,v=w/i;if(p.visibility="hidden",t&&i){if(u.coordsize=l(g)+h+l(v),p.rotation=a*(0>t*i?-1:1),a){var b=M(a,n,r);n=b.dx,r=b.dy}if(0>t&&(m+="x"),0>i&&(m+=" y")&&(f=-1),p.flip=m,u.coordorigin=n*-g+h+r*-v,d||o.fillsize){var y=u.getElementsByTagName(c);y=y&&y[0],u.removeChild(y),d&&(b=M(a,s.x(d[0],d[1]),s.y(d[0],d[1])),y.position=b.dx*f+h+b.dy*f),o.fillsize&&(y.size=o.fillsize[0]*l(t)+h+o.fillsize[1]*l(i)),u.appendChild(y)}p.visibility="visible"}};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k=function(e,i,n){for(var r=t(i).toLowerCase().split("-"),a=n?"end":"start",o=r.length,s="classic",l="medium",c="medium";o--;)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=r[o];break;case"wide":case"narrow":c=r[o];break;case"long":case"short":l=r[o]}var d=e.node.getElementsByTagName("stroke")[0];d[a+"arrow"]=s,d[a+"arrowlength"]=l,d[a+"arrowwidth"]=c},N=function(r,l){r.attrs=r.attrs||{};var u=r.node,p=r.attrs,m=u.style,g=C[r.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),v=x[r.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),b=r;for(var y in l)l[e](y)&&(p[y]=l[y]);if(g&&(p.path=i._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||g)&&(u.path=I(~t(p.path).toLowerCase().indexOf("r")?i._pathToAbsolute(p.path):p.path),"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],A(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var M=+p.cx,N=+p.cy,_=+p.rx||+p.r||0,S=+p.ry||+p.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((M-_)*w),a((N-S)*w),a((M+_)*w),a((N+S)*w),a(M*w)),r._.dirty=1}if("clip-rect"in l){var E=t(l["clip-rect"]).split(d);if(4==E.length){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var P=u.clipRect||i._g.doc.createElement("div"),R=P.style;R.clip=i.format("rect({1}px {2}px {3}px {0}px)",E),u.clipRect||(R.position="absolute",R.top=0,R.left=0,R.width=r.paper.width+"px",R.height=r.paper.height+"px",u.parentNode.insertBefore(P,u),P.appendChild(u),u.clipRect=P)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var j=r.textpath.style;l.font&&(j.font=l.font),l["font-family"]&&(j.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(j.fontSize=l["font-size"]),l["font-weight"]&&(j.fontWeight=l["font-weight"]),l["font-style"]&&(j.fontStyle=l["font-style"])}if("arrow-start"in l&&k(b,l["arrow-start"]),"arrow-end"in l&&k(b,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var z=u.getElementsByTagName(c),F=!1;if(z=z&&z[0],!z&&(F=z=D(c)),"image"==r.type&&l.src&&(z.src=l.src),l.fill&&(z.on=!0),(null==z.on||"none"==l.fill||null===l.fill)&&(z.on=!1),z.on&&l.fill){var L=t(l.fill).match(i._ISURL);if(L){z.parentNode==u&&u.removeChild(z),z.rotate=!0,z.src=L[1],z.type="tile";var B=r.getBBox(1);z.position=B.x+h+B.y,r._.fillpos=[B.x,B.y],i._preload(L[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else z.color=i.getRGB(l.fill).hex,z.src=f,z.type="solid",i.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=t(l.fill).charAt())&&T(b,l.fill,z)&&(p.fill="none",p.gradient=l.fill,z.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var O=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);O=s(o(O,0),1),z.opacity=O,z.src&&(z.color="none")}u.appendChild(z);var G=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],V=!1;!G&&(V=G=D("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(G.on=!0),("none"==l.stroke||null===l.stroke||null==G.on||0==l.stroke||0==l["stroke-width"])&&(G.on=!1);var H=i.getRGB(l.stroke);G.on&&l.stroke&&(G.color=H.hex),O=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+H.o+1||2)-1);var W=.75*(n(l["stroke-width"])||1);if(O=s(o(O,0),1),null==l["stroke-width"]&&(W=p["stroke-width"]),l["stroke-width"]&&(G.weight=W),W&&1>W&&(O*=W)&&(G.weight=1),G.opacity=O,l["stroke-linejoin"]&&(G.joinstyle=l["stroke-linejoin"]||"miter"),G.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(G.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var q={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};G.dashstyle=q[e](l["stroke-dasharray"])?q[l["stroke-dasharray"]]:f}V&&u.appendChild(G)}if("text"==b.type){b.paper.canvas.style.display=f;var U=b.paper.span,Z=100,Y=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);m=U.style,p.font&&(m.font=p.font),p["font-family"]&&(m.fontFamily=p["font-family"]),p["font-weight"]&&(m.fontWeight=p["font-weight"]),p["font-style"]&&(m.fontStyle=p["font-style"]),Y=n(p["font-size"]||Y&&Y[0])||10,m.fontSize=Y*Z+"px",b.textpath.string&&(U.innerHTML=t(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();b.W=p.w=(X.right-X.left)/Z,b.H=p.h=(X.bottom-X.top)/Z,b.X=p.x,b.Y=p.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=i.format("m{0},{1}l{2},{1}",a(p.x*w),a(p.y*w),a(p.x*w)+1));for(var $=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,K=$.length;K>J;J++)if($[J]in l){b._.dirty=1;break}switch(p["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},T=function(e,a,o){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),l="linear",c=".5 .5";if(e.attrs.gradient=a,a=t(a).replace(i._radial_gradient,function(e,t,i){return l="radial",t&&i&&(t=n(t),i=n(i),s(t-.5,2)+s(i-.5,2)>.25&&(i=r.sqrt(.25-s(t-.5,2))*(2*(i>.5)-1)+.5),c=t+h+i),f}),a=a.split(/\s*\-\s*/),"linear"==l){var d=a.shift();if(d=-n(d),isNaN(d))return null}var u=i._parseDots(a);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(o),o.on=!0,o.method="none",o.color=u[0].color,o.color2=u[u.length-1].color;for(var p=[],m=0,g=u.length;g>m;m++)u[m].offset&&p.push(u[m].offset+h+u[m].color);o.colors=p.length?p.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=c,o.angle=0):(o.type="gradient",o.angle=(270-d)%360),e.appendChild(o)}return 1},_=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},S=i.el;_.prototype=S,S.constructor=_,S.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,a=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(n=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,a+e);var o,s=this.matrix.clone(),l=this.skew,c=this.node,d=~t(this.attrs.fill).indexOf("-"),u=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),u||d||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=s.split(),d&&o.noRotation||!o.isSimple){c.style.filter=s.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;c.coordorigin=g*-w+h+v*-w,A(this,1,1,g,v,0)}else c.style.filter=f,A(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else c.style.filter=f,l.matrix=t(s),l.offset=s.offset();return n&&(this._.transform=n),this},S.rotate=function(e,i,r){if(this.removed)return this;if(null!=e){if(e=t(e).split(d),e.length-1&&(i=n(e[1]),r=n(e[2])),e=n(e[0]),null==r&&(i=r),null==i||null==r){var a=this.getBBox(1);i=a.x+a.width/2,r=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,i,r]])),this}},S.translate=function(e,i){return this.removed?this:(e=t(e).split(d),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",e,i]])),this)},S.scale=function(e,i,r,a){if(this.removed)return this;if(e=t(e).split(d),e.length-1&&(i=n(e[1]),r=n(e[2]),a=n(e[3]),isNaN(r)&&(r=null),isNaN(a)&&(a=null)),e=n(e[0]),null==i&&(i=e),null==a&&(r=a),null==r||null==a)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,a=null==a?o.y+o.height/2:a,this.transform(this._.transform.concat([["s",e,i,r,a]])),this._.dirtyT=1,this},S.hide=function(){return!this.removed&&(this.node.style.display="none"),this},S.show=function(){return!this.removed&&(this.node.style.display=f),this},S._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},S.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},S.attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var a in this.attrs)this.attrs[e](a)&&(r[a]=this.attrs[a]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(t,"string")){if(t==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=t.split(d),s={},l=0,p=o.length;p>l;l++)t=o[l],s[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return p-1?s:s[o[0]]}if(this.attrs&&null==n&&i.is(t,"array")){for(s={},l=0,p=t.length;p>l;l++)s[t[l]]=this.attr(t[l]);return s}var h;null!=n&&(h={},h[t]=n),null==n&&i.is(t,"object")&&(h=t);for(var f in h)u("raphael.attr."+f+"."+this.id,this,h[f]);if(h){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&h[e](f)&&i.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(h[f]));this.attrs[f]=h[f];for(var g in m)m[e](g)&&(h[g]=m[g])}h.text&&"text"==this.type&&(this.textpath.string=h.text),N(this,h)}return this},S.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},S.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},S.insertAfter=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this)},S.insertBefore=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),i._insertbefore(this,e,this.paper),this)},S.blur=function(e){var t=this.node.runtimeStyle,n=t.filter;return n=n.replace(v,f),0!==+e?(this.attrs.blur=e,t.filter=n+h+p+".Blur(pixelradius="+(+e||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(t.filter=n,t.margin=0,delete this.attrs.blur),this},i._engine.path=function(e,t){var i=D("shape");i.style.cssText=y,i.coordsize=w+h+w,i.coordorigin=t.coordorigin;var n=new _(i,t),r={fill:"none",stroke:"#000"};e&&(r.path=e),n.type="path",n.path=[],n.Path=f,N(n,r),t.canvas.appendChild(i);var a=D("skew");return a.on=!0,i.appendChild(a),n.skew=a,n.transform(f),n},i._engine.rect=function(e,t,n,r,a,o){var s=i._rectPath(t,n,r,a,o),l=e.path(s),c=l.attrs;return l.X=c.x=t,l.Y=c.y=n,l.W=c.width=r,l.H=c.height=a,c.r=o,c.path=s,l.type="rect",l},i._engine.ellipse=function(e,t,i,n,r){{var a=e.path();a.attrs}return a.X=t-n,a.Y=i-r,a.W=2*n,a.H=2*r,a.type="ellipse",N(a,{cx:t,cy:i,rx:n,ry:r}),a},i._engine.circle=function(e,t,i,n){{var r=e.path();r.attrs}return r.X=t-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",N(r,{cx:t,cy:i,r:n}),r},i._engine.image=function(e,t,n,r,a,o){var s=i._rectPath(n,r,a,o),l=e.path(s).attr({stroke:"none"}),d=l.attrs,u=l.node,p=u.getElementsByTagName(c)[0];return d.src=t,l.X=d.x=n,l.Y=d.y=r,l.W=d.width=a,l.H=d.height=o,d.path=s,l.type="image",p.parentNode==u&&u.removeChild(p),p.rotate=!0,p.src=t,p.type="tile",l._.fillpos=[n,r],l._.fillsize=[a,o],u.appendChild(p),A(l,1,1,0,0,0),l},i._engine.text=function(e,n,r,o){var s=D("shape"),l=D("path"),c=D("textpath");n=n||0,r=r||0,o=o||"",l.v=i.format("m{0},{1}l{2},{1}",a(n*w),a(r*w),a(n*w)+1),l.textpathok=!0,c.string=t(o),c.on=!0,s.style.cssText=y,s.coordsize=w+h+w,s.coordorigin="0 0";var d=new _(s,e),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:o};d.shape=s,d.path=l,d.textpath=c,d.type="text",d.attrs.text=t(o),d.attrs.x=n,d.attrs.y=r,d.attrs.w=1,d.attrs.h=1,N(d,u),s.appendChild(c),s.appendChild(l),e.canvas.appendChild(s);var p=D("skew");return p.on=!0,s.appendChild(p),d.skew=p,d.transform(f),d},i._engine.setSize=function(e,t){var n=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(e,t,n,r,a){i.eve("raphael.setViewBox",this,this._viewBox,[e,t,n,r,a]);var s,l,c=this.width,d=this.height,u=1/o(n/c,r/d);return a&&(s=d/r,l=c/n,c>n*s&&(e-=(c-n*s)/2/s),d>r*l&&(t-=(d-r*l)/2/l)),this._viewBox=[e,t,n,r,!!a],this._viewBoxShift={dx:-e,dy:-t,scale:u},this.forEach(function(e){e.transform("...")}),this};var D;i._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),D=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(i){D=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e.container,n=e.height,r=e.width,a=e.x,o=e.y;if(!t)throw new Error("VML container not found.");var s=new i._Paper,l=s.canvas=i._g.doc.createElement("div"),c=l.style;return a=a||0,o=o||0,r=r||512,n=n||342,s.width=r,s.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),s.coordsize=1e3*w+h+1e3*w,s.coordorigin="0 0",s.span=i._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==t?(i._g.doc.body.appendChild(l),c.left=a+"px",c.top=o+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),s.renderfix=function(){},s},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;return!0};var E=i.st;for(var P in S)S[e](P)&&!E[e](P)&&(E[P]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(P))}}(),N.was?k.win.Raphael=i:Raphael=i,i}),function(e){define("morris",["raphael","jquery"],function(){return function(){return function(){var e,t,i,n,r=[].slice,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s=function(e,t){return function(){return e.apply(t,arguments)}},l=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};t=window.Morris={},e=jQuery,t.EventEmitter=function(){function e(){}return e.prototype.on=function(e,t){return null==this.handlers&&(this.handlers={}),null==this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this},e.prototype.fire=function(){var e,t,i,n,a,o,s;if(i=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(o=this.handlers[i],s=[],n=0,a=o.length;a>n;n++)t=o[n],s.push(t.apply(null,e));return s}},e}(),t.commas=function(e){var t,i,n,r;return null!=e?(n=0>e?"-":"",t=Math.abs(e),i=Math.floor(t).toFixed(0),n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,","),r=t.toString(),r.length>i.length&&(n+=r.slice(i.length)),n):"-"},t.pad2=function(e){return(10>e?"0":"")+e},t.Grid=function(i){function n(t){var i=this;if(this.el=e("string"==typeof t.element?document.getElementById(t.element):t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=e.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(e){var t;return t=i.el.offset(),i.fire("hovermove",e.pageX-t.left,e.pageY-t.top)}),this.el.bind("mouseout",function(){return i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(e){var t,n;return n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],t=i.el.offset(),i.fire("hover",n.pageX-t.left,n.pageY-t.top),n}),this.el.bind("click",function(e){var t;return t=i.el.offset(),i.fire("gridclick",e.pageX-t.left,e.pageY-t.top)}),this.postInit&&this.postInit()}return o(n,i),n.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"]},n.prototype.setData=function(e,i){var n,r,a,o,s,l,c,d,u,p,h,f,m,g;return null==i&&(i=!0),this.options.data=e,null==e||0===e.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(f=this.cumulative?0:null,m=this.cumulative?0:null,this.options.goals.length>0&&(s=Math.min.apply(null,this.options.goals),o=Math.max.apply(null,this.options.goals),m=null!=m?Math.min(m,s):s,f=null!=f?Math.max(f,o):o),this.data=function(){var i,n,o;for(o=[],a=i=0,n=e.length;n>i;a=++i)c=e[a],l={},l.label=c[this.options.xkey],this.options.parseTime?(l.x=t.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=a,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),u=0,l.y=function(){var e,t,i,n;for(i=this.options.ykeys,n=[],r=e=0,t=i.length;t>e;r=++e)h=i[r],g=c[h],"string"==typeof g&&(g=parseFloat(g)),null!=g&&"number"!=typeof g&&(g=null),null!=g&&(this.cumulative?u+=g:null!=f?(f=Math.max(g,f),m=Math.min(g,m)):f=m=g),this.cumulative&&null!=u&&(f=Math.max(u,f),m=Math.min(u,m)),n.push(g);return n}.call(this),o.push(l);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(e,t){return(e.x>t.x)-(t.x>e.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.parseTime&&this.options.events.length>0&&(this.events=function(){var e,i,r,a;for(r=this.options.events,a=[],e=0,i=r.length;i>e;e++)n=r[e],a.push(t.parseDate(n));return a}.call(this),this.xmax=Math.max(this.xmax,Math.max.apply(null,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(null,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",m),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(m&&(this.ymin-=1),this.ymax+=1),(this.options.axes===!0||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(d=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var e,t,i,n;for(n=[],p=e=t=this.ymin,i=this.ymax;i>=t?i>=e:e>=i;p=e+=d)n.push(p);return n}.call(this))),this.dirty=!0,i?this.redraw():void 0)},n.prototype.yboundary=function(e,t){var i,n;return i=this.options["y"+e],"string"==typeof i?"auto"===i.slice(0,4)?i.length>5?(n=parseInt(i.slice(5),10),null==t?n:Math[e](t,n)):null!=t?t:0:parseInt(i,10):i},n.prototype.autoGridLines=function(e,t,i){var n,r,a,o,s,l,c,d,u;return s=t-e,u=Math.floor(Math.log(s)/Math.log(10)),c=Math.pow(10,u),r=Math.floor(e/c)*c,n=Math.ceil(t/c)*c,l=(n-r)/(i-1),1===c&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=r+l*(i-1)),0>r&&n>0&&(r=Math.floor(e/l)*l,n=Math.ceil(t/l)*l),1>l?(o=Math.floor(Math.log(l)/Math.log(10)),a=function(){var e,t;for(t=[],d=e=r;n>=r?n>=e:e>=n;d=e+=l)t.push(parseFloat(d.toFixed(1-o)));
return t}()):a=function(){var e,t;for(t=[],d=e=r;n>=r?n>=e:e>=n;d=e+=l)t.push(d);return t}(),a},n.prototype._calc=function(){var e,t,i,n,r,a;return r=this.el.width(),i=this.el.height(),(this.elementWidth!==r||this.elementHeight!==i||this.dirty)&&(this.elementWidth=r,this.elementHeight=i,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,this.options.axes&&(a=function(){var e,i,n,r;for(n=this.grid,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(this.measureText(this.yAxisFormat(t)).width);return r}.call(this),this.left+=Math.max.apply(Math,a),e=function(){var e,t,i;for(i=[],n=e=0,t=this.data.length;t>=0?t>e:e>t;n=t>=0?++e:--e)i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return i}.call(this),this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},n.prototype.transY=function(e){return this.bottom-(e-this.ymin)*this.dy},n.prototype.transX=function(e){return 1===this.data.length?(this.left+this.right)/2:this.left+(e-this.xmin)*this.dx},n.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},n.prototype.measureText=function(e,t){var i,n;return null==t&&(t=0),n=this.raphael.text(100,100,e).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),i=n.getBBox(),n.remove(),i},n.prototype.yAxisFormat=function(e){return this.yLabelFormat(e)},n.prototype.yLabelFormat=function(e){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(e):""+this.options.preUnits+t.commas(e)+this.options.postUnits},n.prototype.updateHover=function(e,t){var i,n;return i=this.hitTest(e,t),null!=i?(n=this.hover).update.apply(n,i):void 0},n.prototype.drawGrid=function(){var e,t,i,n,r,a;if(this.options.grid!==!1||this.options.axes!==!1){for(r=this.grid,a=[],i=0,n=r.length;n>i;i++)e=r[i],t=this.transY(e),this.options.axes&&this.drawYAxisLabel(this.left-this.options.padding/2,t,this.yAxisFormat(e)),a.push(this.options.grid?this.drawGridLine("M"+this.left+","+t+"H"+(this.left+this.width)):void 0);return a}},n.prototype.drawGoals=function(){var e,t,i,n,r,a,o;for(a=this.options.goals,o=[],i=n=0,r=a.length;r>n;i=++n)t=a[i],e=this.options.goalLineColors[i%this.options.goalLineColors.length],o.push(this.drawGoal(t,e));return o},n.prototype.drawEvents=function(){var e,t,i,n,r,a,o;for(a=this.events,o=[],i=n=0,r=a.length;r>n;i=++n)t=a[i],e=this.options.eventLineColors[i%this.options.eventLineColors.length],o.push(this.drawEvent(t,e));return o},n.prototype.drawGoal=function(e,t){return this.raphael.path("M"+this.left+","+this.transY(e)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawEvent=function(e,t){return this.raphael.path("M"+this.transX(e)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},n.prototype.drawYAxisLabel=function(e,t,i){return this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},n.prototype.drawGridLine=function(e){return this.raphael.path(e).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n}(t.EventEmitter),t.parseDate=function(e){var t,i,n,r,a,o,s,l,c,d,u;return"number"==typeof e?e:(i=e.match(/^(\d+) Q(\d)$/),r=e.match(/^(\d+)-(\d+)$/),a=e.match(/^(\d+)-(\d+)-(\d+)$/),s=e.match(/^(\d+) W(\d+)$/),l=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():a?new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10)).getTime():s?(d=new Date(parseInt(s[1],10),0,1),4!==d.getDay()&&d.setMonth(0,1+(4-d.getDay()+7)%7),d.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(u=parseFloat(c[6]),t=Math.floor(u),n=Math.round(1e3*(u-t)),c[8]?(o=0,"Z"!==c[8]&&(o=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(o=0-o)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+o,t,n)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),t,n).getTime()):new Date(parseInt(e,10),0,1).getTime())},t.Hover=function(){function i(i){null==i&&(i={}),this.options=e.extend({},t.Hover.defaults,i),this.el=e("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(e,t,i){return this.html(e),this.show(),this.moveTo(t,i)},i.prototype.html=function(e){return this.el.html(e)},i.prototype.moveTo=function(e,t){var i,n,r,a,o,s;return o=this.options.parent.innerWidth(),a=this.options.parent.innerHeight(),n=this.el.outerWidth(),i=this.el.outerHeight(),r=Math.min(Math.max(0,e-n/2),o-n),null!=t?(s=t-i-10,0>s&&(s=t+10,s+i>a&&(s=a/2-i/2))):s=a/2-i/2,this.el.css({left:r+"px",top:parseInt(s)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}(),t.Line=function(e){function i(e){return this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof t.Line?void i.__super__.constructor.call(this,e):new t.Line(e)}return o(i,e),i.prototype.init=function(){return this.pointGrow=Raphael.animation({r:this.options.pointSize+3},25,"linear"),this.pointShrink=Raphael.animation({r:this.options.pointSize},25,"linear"),"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},i.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},i.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},i.prototype.calcPoints=function(){var e,t,i,n,r,a;for(r=this.data,a=[],i=0,n=r.length;n>i;i++)e=r[i],e._x=this.transX(e.x),e._y=function(){var i,n,r,a;for(r=e.y,a=[],i=0,n=r.length;n>i;i++)t=r[i],a.push(null!=t?this.transY(t):t);return a}.call(this),a.push(e._ymax=Math.min.apply(null,[this.bottom].concat(function(){var i,n,r,a;for(r=e._y,a=[],i=0,n=r.length;n>i;i++)t=r[i],null!=t&&a.push(t);return a}())));return a},i.prototype.hitTest=function(e){var t,i,n,r,a;if(0===this.data.length)return null;for(a=this.data.slice(1),t=n=0,r=a.length;r>n&&(i=a[t],!(e<(i._x+this.data[t]._x)/2));t=++n);return t},i.prototype.onGridClick=function(e,t){var i;return i=this.hitTest(e,t),this.fire("click",i,this.options.data[i],e,t)},i.prototype.onHoverMove=function(e,t){var i;return i=this.hitTest(e,t),this.displayHoverForRow(i)},i.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},i.prototype.displayHoverForRow=function(e){var t;return null!=e?((t=this.hover).update.apply(t,this.hoverContentForRow(e)),this.hilight(e)):(this.hover.hide(),this.hilight())},i.prototype.hoverContentForRow=function(e){var t,i,n,r,a,o,s;for(n=this.data[e],t="<div class='morris-hover-row-label'>"+n.label+"</div>",s=n.y,i=a=0,o=s.length;o>a;i=++a)r=s[i],t+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t)),[t,n._x,n._ymax]},i.prototype.generatePaths=function(){var e,i,n,r,a;return this.paths=function(){var o,s,c,d;for(d=[],n=o=0,s=this.options.ykeys.length;s>=0?s>o:o>s;n=s>=0?++o:--o)a=this.options.smooth===!0||(c=this.options.ykeys[n],l.call(this.options.smooth,c)>=0),i=function(){var e,t,i,a;for(i=this.data,a=[],e=0,t=i.length;t>e;e++)r=i[e],void 0!==r._y[n]&&a.push({x:r._x,y:r._y[n]});return a}.call(this),this.options.continuousLine&&(i=function(){var t,n,r;for(r=[],t=0,n=i.length;n>t;t++)e=i[t],null!==e.y&&r.push(e);return r}()),d.push(i.length>1?t.Line.createPath(i,a,this.bottom):null);return d}.call(this)},i.prototype.draw=function(){return this.options.axes&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},i.prototype.drawXAxis=function(){var e,i,n,r,a,o,s,l,c,d,u=this;for(s=this.bottom+this.options.padding/2,a=null,r=null,e=function(e,t){var i,n,o,l,c;return i=u.drawXAxisLabel(u.transX(t),s,e),c=i.getBBox(),i.transform("r"+-u.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*c.width*Math.cos(u.options.xLabelAngle*Math.PI/180),i.transform("t"+l+",0...")),n=i.getBBox(),(null==a||a>=n.x+n.width||null!=r&&r>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()?(0!==u.options.xLabelAngle&&(o=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),r=n.x-o),a=n.x-u.options.xLabelMargin):i.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:t.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var e,t,i,n;for(i=this.data,n=[],e=0,t=i.length;t>e;e++)o=i[e],n.push([o.label,o.x]);return n}.call(this),n.reverse(),d=[],l=0,c=n.length;c>l;l++)i=n[l],d.push(e(i[0],i[1]));return d},i.prototype.drawSeries=function(){var e,t,i,n,r,a;for(this.seriesPoints=[],e=t=n=this.options.ykeys.length-1;0>=n?0>=t:t>=0;e=0>=n?++t:--t)this._drawLineFor(e);for(a=[],e=i=r=this.options.ykeys.length-1;0>=r?0>=i:i>=0;e=0>=r?++i:--i)a.push(this._drawPointFor(e));return a},i.prototype._drawPointFor=function(e){var t,i,n,r,a,o;for(this.seriesPoints[e]=[],a=this.data,o=[],n=0,r=a.length;r>n;n++)i=a[n],t=null,null!=i._y[e]&&(t=this.drawLinePoint(i._x,i._y[e],this.options.pointSize,this.colorFor(i,e,"point"),e)),o.push(this.seriesPoints[e].push(t));return o},i.prototype._drawLineFor=function(e){var t;return t=this.paths[e],null!==t?this.drawLinePath(t,this.colorFor(null,e,"line")):void 0},i.createPath=function(e,i,n){var r,a,o,s,l,c,d,u,p,h,f,m,g,v;for(d="",i&&(o=t.Line.gradients(e)),u={y:null},s=g=0,v=e.length;v>g;s=++g)r=e[s],null!=r.y&&(null!=u.y?i?(a=o[s],c=o[s-1],l=(r.x-u.x)/4,p=u.x+l,f=Math.min(n,u.y+l*c),h=r.x-l,m=Math.min(n,r.y-l*a),d+="C"+p+","+f+","+h+","+m+","+r.x+","+r.y):d+="L"+r.x+","+r.y:i&&null==o[s]||(d+="M"+r.x+","+r.y)),u=r;return d},i.gradients=function(e){var t,i,n,r,a,o,s,l;for(i=function(e,t){return(e.y-t.y)/(e.x-t.x)},l=[],n=o=0,s=e.length;s>o;n=++o)t=e[n],null!=t.y?(r=e[n+1]||{y:null},a=e[n-1]||{y:null},l.push(null!=a.y&&null!=r.y?i(a,r):null!=a.y?i(a,t):null!=r.y?i(t,r):null)):l.push(null);return l},i.prototype.hilight=function(e){var t,i,n,r,a;if(null!==this.prevHilight&&this.prevHilight!==e)for(t=i=0,r=this.seriesPoints.length-1;r>=0?r>=i:i>=r;t=r>=0?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrink);if(null!==e&&this.prevHilight!==e)for(t=n=0,a=this.seriesPoints.length-1;a>=0?a>=n:n>=a;t=a>=0?++n:--n)this.seriesPoints[t][e]&&this.seriesPoints[t][e].animate(this.pointGrow);return this.prevHilight=e},i.prototype.colorFor=function(e,t,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,e,t,i):"point"===i?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},i.prototype.drawXAxisLabel=function(e,t,i){return this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawLinePath=function(e,t){return this.raphael.path(e).attr("stroke",t).attr("stroke-width",this.options.lineWidth)},i.prototype.drawLinePoint=function(e,t,i,n,r){return this.raphael.circle(e,t,i).attr("fill",n).attr("stroke-width",this.strokeWidthForSeries(r)).attr("stroke",this.strokeForSeries(r))},i.prototype.strokeWidthForSeries=function(e){return this.options.pointWidths[e%this.options.pointWidths.length]},i.prototype.strokeForSeries=function(e){return this.options.pointStrokeColors[e%this.options.pointStrokeColors.length]},i}(t.Grid),t.labelSeries=function(i,n,r,a,o){var s,l,c,d,u,p,h,f,m,g,v;if(c=200*(n-i)/r,l=new Date(i),h=t.LABEL_SPECS[a],void 0===h)for(v=t.AUTO_LABEL_ORDER,m=0,g=v.length;g>m;m++)if(d=v[m],p=t.LABEL_SPECS[d],c>=p.span){h=p;break}for(void 0===h&&(h=t.LABEL_SPECS.second),o&&(h=e.extend({},h,{fmt:o})),s=h.start(l),u=[];(f=s.getTime())<=n;)f>=i&&u.push([h.fmt(s),f]),h.incr(s);return u},i=function(e){return{span:60*e*1e3,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},n=function(e){return{span:1e3*e,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())+":"+t.pad2(e.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},t.LABEL_SPECS={decade:{span:1728e8,start:function(e){return new Date(e.getFullYear()-e.getFullYear()%10,0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+10)}},year:{span:1728e7,start:function(e){return new Date(e.getFullYear(),0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+1)}},month:{span:24192e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)},incr:function(e){return e.setMonth(e.getMonth()+1)}},day:{span:864e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)},t.AUTO_LABEL_ORDER=["decade","year","month","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],t.Area=function(i){function n(i){var a;return this instanceof t.Area?(a=e.extend({},r,i),this.cumulative=!a.behaveLikeLine,"auto"===a.fillOpacity&&(a.fillOpacity=a.behaveLikeLine?.8:1),void n.__super__.constructor.call(this,a)):new t.Area(i)}var r;return o(n,i),r={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var e,t,i,n,r,a,o;for(a=this.data,o=[],n=0,r=a.length;r>n;n++)e=a[n],e._x=this.transX(e.x),t=0,e._y=function(){var n,r,a,o;for(a=e.y,o=[],n=0,r=a.length;r>n;n++)i=a[n],this.options.behaveLikeLine?o.push(this.transY(i)):(t+=i||0,o.push(this.transY(t)));return o}.call(this),o.push(e._ymax=Math.max.apply(Math,e._y));return o},n.prototype.drawSeries=function(){var e,t,i,n,r,a,o,s;for(this.seriesPoints=[],t=this.options.behaveLikeLine?function(){a=[];for(var e=0,t=this.options.ykeys.length-1;t>=0?t>=e:e>=t;t>=0?e++:e--)a.push(e);return a}.apply(this):function(){o=[];for(var e=r=this.options.ykeys.length-1;0>=r?0>=e:e>=0;0>=r?e++:e--)o.push(e);return o}.apply(this),s=[],i=0,n=t.length;n>i;i++)e=t[i],this._drawFillFor(e),this._drawLineFor(e),s.push(this._drawPointFor(e));return s},n.prototype._drawFillFor=function(e){var t;return t=this.paths[e],null!==t?(t+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(t,this.fillForSeries(e))):void 0},n.prototype.fillForSeries=function(e){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[e],e,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?.9*t.s:.75*t.s,Math.min(.98,this.options.behaveLikeLine?1.2*t.l:1.25*t.l))},n.prototype.drawFilledPath=function(e,t){return this.raphael.path(e).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke-width",0)},n}(t.Line),t.Bar=function(i){function n(i){return this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof t.Bar?void n.__super__.constructor.call(this,e.extend({},i,{parseTime:!1})):new t.Bar(i)}return o(n,i),n.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],xLabelMargin:50},n.prototype.calc=function(){var e;return this.calcBars(),this.options.hideHover===!1?(e=this.hover).update.apply(e,this.hoverContentForRow(this.data.length-1)):void 0},n.prototype.calcBars=function(){var e,t,i,n,r,a,o;for(a=this.data,o=[],e=n=0,r=a.length;r>n;e=++n)t=a[e],t._x=this.left+this.width*(e+.5)/this.data.length,o.push(t._y=function(){var e,n,r,a;for(r=t.y,a=[],e=0,n=r.length;n>e;e++)i=r[e],a.push(null!=i?this.transY(i):null);return a}.call(this));return o},n.prototype.draw=function(){return this.options.axes&&this.drawXAxis(),this.drawSeries()},n.prototype.drawXAxis=function(){var e,t,i,n,r,a,o,s,l,c,d,u,p;for(c=this.bottom+this.options.padding/2,o=null,a=null,p=[],e=d=0,u=this.data.length;u>=0?u>d:d>u;e=u>=0?++d:--d)s=this.data[this.data.length-1-e],t=this.drawXAxisLabel(s._x,c,s.label),l=t.getBBox(),t.transform("r"+-this.options.xLabelAngle),i=t.getBBox(),t.transform("t0,"+i.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+r+",0...")),(null==o||o>=i.x+i.width||null!=a&&a>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()?(0!==this.options.xLabelAngle&&(n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),a=i.x-n),p.push(o=i.x-this.options.xLabelMargin)):p.push(t.remove());return p},n.prototype.drawSeries=function(){var e,t,i,n,r,a,o,s,l,c,d,u,p,h;return i=this.width/this.options.data.length,s=null!=this.options.stacked?1:this.options.ykeys.length,e=(i*this.options.barSizeRatio-this.options.barGap*(s-1))/s,o=i*(1-this.options.barSizeRatio)/2,h=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var s,f,m,g;for(m=this.data,g=[],n=s=0,f=m.length;f>s;n=++s)l=m[n],r=0,g.push(function(){var s,f,m,g;for(m=l._y,g=[],c=s=0,f=m.length;f>s;c=++s)p=m[c],null!==p?(h?(u=Math.min(p,h),t=Math.max(p,h)):(u=p,t=this.bottom),a=this.left+n*i+o,this.options.stacked||(a+=c*(e+this.options.barGap)),d=t-u,this.options.stacked&&(u-=r),this.drawBar(a,u,e,d,this.colorFor(l,c,"bar")),g.push(r+=d)):g.push(null);return g}.call(this));return g}.call(this)},n.prototype.colorFor=function(e,t,i){var n,r;return"function"==typeof this.options.barColors?(n={x:e.x,y:e.y[t],label:e.label},r={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,n,r,i)):this.options.barColors[t%this.options.barColors.length]},n.prototype.hitTest=function(e){return 0===this.data.length?null:(e=Math.max(Math.min(e,this.right),this.left),Math.min(this.data.length-1,Math.floor((e-this.left)/(this.width/this.data.length))))},n.prototype.onGridClick=function(e,t){var i;return i=this.hitTest(e,t),this.fire("click",i,this.options.data[i],e,t)},n.prototype.onHoverMove=function(e,t){var i,n;return i=this.hitTest(e,t),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},n.prototype.hoverContentForRow=function(e){var t,i,n,r,a,o,s,l;for(n=this.data[e],t="<div class='morris-hover-row-label'>"+n.label+"</div>",l=n.y,i=o=0,s=l.length;s>o;i=++o)a=l[i],t+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(a)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t)),r=this.left+(e+.5)*this.width/this.data.length,[t,r]},n.prototype.drawXAxisLabel=function(e,t,i){var n;return n=this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawBar=function(e,t,i,n,r){return this.raphael.rect(e,t,i,n).attr("fill",r).attr("stroke-width",0)},n}(t.Grid),t.Donut=function(i){function n(i){this.select=s(this.select,this),this.click=s(this.click,this);var n;if(!(this instanceof t.Donut))return new t.Donut(i);if(this.el=e("string"==typeof i.element?document.getElementById(i.element):i.element),this.options=e.extend({},this.defaults,i),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==i.data&&0!==i.data.length&&(this.data=i.data,this.values=function(){var e,t,i,r;for(i=this.data,r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(parseFloat(n.value));return r}.call(this),this.redraw())}return o(n,i),n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:t.commas},n.prototype.redraw=function(){var e,i,n,r,a,o,s,l,c,d,u,p,h,f,m,g,v,b,y,w,C,x,I;for(this.el.empty(),this.raphael=new Raphael(this.el[0]),i=this.el.width()/2,n=this.el.height()/2,h=(Math.min(i,n)-10)/3,u=0,w=this.values,f=0,v=w.length;v>f;f++)p=w[f],u+=p;for(l=5/(2*h),e=1.9999*Math.PI-l*this.data.length,o=0,a=0,this.segments=[],C=this.values,r=m=0,b=C.length;b>m;r=++m)p=C[r],c=o+l+e*(p/u),d=new t.DonutSegment(i,n,2*h,h,o,c,this.options.colors[a%this.options.colors.length],this.options.backgroundColor,a,this.raphael),d.render(),this.segments.push(d),d.on("hover",this.select),d.on("click",this.click),o=c,a+=1;for(this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14),s=Math.max.apply(null,function(){var e,t,i,n;for(i=this.values,n=[],e=0,t=i.length;t>e;e++)p=i[e],n.push(p);return n}.call(this)),a=0,x=this.values,I=[],g=0,y=x.length;y>g;g++){if(p=x[g],p===s){this.select(a);break}I.push(a+=1)}return I},n.prototype.click=function(e){return this.fire("click",e,this.data[e])},n.prototype.select=function(e){var t,i,n,r,a,o;for(o=this.segments,r=0,a=o.length;a>r;r++)i=o[r],i.deselect();return n=this.segments[e],n.select(),t=this.data[e],this.setLabels(t.label,this.options.formatter(t.value,t))},n.prototype.setLabels=function(e,t){var i,n,r,a,o,s,l,c;return i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,a=1.8*i,r=i/2,n=i/3,this.text1.attr({text:e,transform:""}),o=this.text1.getBBox(),s=Math.min(a/o.width,r/o.height),this.text1.attr({transform:"S"+s+","+s+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:t,transform:""}),l=this.text2.getBBox(),c=Math.min(a/l.width,n/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},n.prototype.drawEmptyDonutLabel=function(e,t,i,n,r){var a;return a=this.raphael.text(e,t,"").attr("font-size",n).attr("fill",i),null!=r&&a.attr("font-weight",r),a},n}(t.EventEmitter),t.DonutSegment=function(e){function t(e,t,i,n,r,a,o,l,c,d){this.cx=e,this.cy=t,this.inner=i,this.outer=n,this.color=o,this.backgroundColor=l,this.index=c,this.raphael=d,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return o(t,e),t.prototype.calcArcPoints=function(e){return[this.cx+e*this.sin_p0,this.cy+e*this.cos_p0,this.cx+e*this.sin_p1,this.cy+e*this.cos_p1]},t.prototype.calcSegment=function(e,t){var i,n,r,a,o,s,l,c,d,u;return d=this.calcArcPoints(e),i=d[0],r=d[1],n=d[2],a=d[3],u=this.calcArcPoints(t),o=u[0],l=u[1],s=u[2],c=u[3],"M"+i+","+r+("A"+e+","+e+",0,"+this.is_long+",0,"+n+","+a)+("L"+s+","+c)+("A"+t+","+t+",0,"+this.is_long+",1,"+o+","+l)+"Z"},t.prototype.calcArc=function(e){var t,i,n,r,a;return a=this.calcArcPoints(e),t=a[0],n=a[1],i=a[2],r=a[3],"M"+t+","+n+("A"+e+","+e+",0,"+this.is_long+",0,"+i+","+r)},t.prototype.render=function(){var e=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return e.fire("hover",e.index)},function(){return e.fire("click",e.index)})},t.prototype.drawDonutArc=function(e,t){return this.raphael.path(e).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(e,t,i,n,r){return this.raphael.path(e).attr({fill:t,stroke:i,"stroke-width":3}).hover(n).click(r)},t.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},t.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},t}(t.EventEmitter)}.call(this),e.Morris=Morris}.apply(e,arguments)})}(this),function(e){function t(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function i(){pt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var n=!0;return c(function(){return n&&(i(),n=!1),t.apply(this,arguments)},t)}function r(e,t){return function(i){return p(e.call(this,i),t)}}function a(e,t){return function(i){return this.lang().ordinal(e.call(this,i),t)}}function o(){}function s(e){A(e),c(this,e)}function l(e){var t=b(e),i=t.year||0,n=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*n+12*i,this._data={},this._bubble()}function c(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&kt.hasOwnProperty(t)&&(i[t]=e[t]);return i}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function p(e,t,i){for(var n=""+Math.abs(e),r=e>=0;n.length<t;)n="0"+n;return(r?i?"+":"":"-")+n}function h(e,t,i,n){var r=t._milliseconds,a=t._days,o=t._months;n=null==n?!0:n,r&&e._d.setTime(+e._d+r*i),a&&st(e,"Date",ot(e,"Date")+a*i),o&&at(e,ot(e,"Month")+o*i),n&&pt.updateOffset(e,a||o)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,i){var n,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;r>n;n++)(i&&e[n]!==t[n]||!i&&w(e[n])!==w(t[n]))&&o++;return o+a}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ti[e]||ii[t]||t}return e}function b(e){var t,i,n={};for(i in e)e.hasOwnProperty(i)&&(t=v(i),t&&(n[t]=e[i]));return n}function y(t){var i,n;if(0===t.indexOf("week"))i=7,n="day";else{if(0!==t.indexOf("month"))return;i=12,n="month"}pt[t]=function(r,a){var o,s,l=pt.fn._lang[t],c=[];if("number"==typeof r&&(a=r,r=e),s=function(e){var t=pt().utc().set(n,e);return l.call(pt.fn._lang,t,r||"")},null!=a)return s(a);for(o=0;i>o;o++)c.push(s(o));return c}}function w(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function C(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function x(e,t,i){return tt(pt([e,11,31+t-i]),t,i).week}function I(e){return M(e)?366:365}function M(e){return e%4===0&&e%100!==0||e%400===0}function A(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[yt]<0||e._a[yt]>11?yt:e._a[wt]<1||e._a[wt]>C(e._a[bt],e._a[yt])?wt:e._a[Ct]<0||e._a[Ct]>23?Ct:e._a[xt]<0||e._a[xt]>59?xt:e._a[It]<0||e._a[It]>59?It:e._a[Mt]<0||e._a[Mt]>999?Mt:-1,e._pf._overflowDayOfYear&&(bt>t||t>wt)&&(t=wt),e._pf.overflow=t)}function k(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function N(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t._isUTC?pt(e).zone(t._offset||0):pt(e).local()}function _(e,t){return t.abbr=e,At[e]||(At[e]=new o),At[e].set(t),At[e]}function S(e){delete At[e]}function D(e){var t,i,n,r,a=0,o=function(e){if(!At[e]&&Nt)try{require("./lang/"+e)}catch(t){}return At[e]};if(!e)return pt.fn._lang;if(!f(e)){if(i=o(e))return i;e=[e]}for(;a<e.length;){for(r=N(e[a]).split("-"),t=r.length,n=N(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=o(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&g(r,n,!0)>=t-1)break;t--}a++}return pt.fn._lang}function E(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,i,n=e.match(Dt);for(t=0,i=n.length;i>t;t++)n[t]=si[n[t]]?si[n[t]]:E(n[t]);return function(r){var a="";for(t=0;i>t;t++)a+=n[t]instanceof Function?n[t].call(r,e):n[t];return a}}function R(e,t){return e.isValid()?(t=j(t,e.lang()),ni[t]||(ni[t]=P(t)),ni[t](e)):e.lang().invalidDate()}function j(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Et.lastIndex=0;n>=0&&Et.test(e);)e=e.replace(Et,i),Et.lastIndex=0,n-=1;return e}function z(e,t){var i,n=t._strict;switch(e){case"Q":return Ht;case"DDDD":return qt;case"YYYY":case"GGGG":case"gggg":return n?Ut:jt;case"Y":case"G":case"g":return Yt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Zt:zt;case"S":if(n)return Ht;case"SS":if(n)return Wt;case"SSS":if(n)return qt;case"DDD":return Rt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Lt;case"a":case"A":return D(t._l)._meridiemParse;case"X":return Gt;case"Z":case"ZZ":return Bt;case"T":return Ot;case"SSSS":return Ft;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Wt:Pt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pt;case"Do":return Vt;default:return i=new RegExp(q(W(e.replace("\\","")),"i"))}}function F(e){e=e||"";var t=e.match(Bt)||[],i=t[t.length-1]||[],n=(i+"").match(Qt)||["-",0,0],r=+(60*n[1])+w(n[2]);return"+"===n[0]?-r:r}function L(e,t,i){var n,r=i._a;switch(e){case"Q":null!=t&&(r[yt]=3*(w(t)-1));break;case"M":case"MM":null!=t&&(r[yt]=w(t)-1);break;case"MMM":case"MMMM":n=D(i._l).monthsParse(t),null!=n?r[yt]=n:i._pf.invalidMonth=t;
break;case"D":case"DD":null!=t&&(r[wt]=w(t));break;case"Do":null!=t&&(r[wt]=w(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=w(t));break;case"YY":r[bt]=pt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[bt]=w(t);break;case"a":case"A":i._isPm=D(i._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[Ct]=w(t);break;case"m":case"mm":r[xt]=w(t);break;case"s":case"ss":r[It]=w(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Mt]=w(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=F(t);break;case"dd":case"ddd":case"dddd":n=D(i._l).weekdaysParse(t),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=w(t));break;case"gg":case"GG":i._w=i._w||{},i._w[e]=pt.parseTwoDigitYear(t)}}function B(e){var i,n,r,a,o,s,l,c;i=e._w,null!=i.GG||null!=i.W||null!=i.E?(o=1,s=4,n=t(i.GG,e._a[bt],tt(pt(),1,4).year),r=t(i.W,1),a=t(i.E,1)):(c=D(e._l),o=c._week.dow,s=c._week.doy,n=t(i.gg,e._a[bt],tt(pt(),o,s).year),r=t(i.w,1),null!=i.d?(a=i.d,o>a&&++r):a=null!=i.e?i.e+o:o),l=it(n,r,a,s,o),e._a[bt]=l.year,e._dayOfYear=l.dayOfYear}function O(e){var i,n,r,a,o=[];if(!e._d){for(r=V(e),e._w&&null==e._a[wt]&&null==e._a[yt]&&B(e),e._dayOfYear&&(a=t(e._a[bt],r[bt]),e._dayOfYear>I(a)&&(e._pf._overflowDayOfYear=!0),n=J(a,0,e._dayOfYear),e._a[yt]=n.getUTCMonth(),e._a[wt]=n.getUTCDate()),i=0;3>i&&null==e._a[i];++i)e._a[i]=o[i]=r[i];for(;7>i;i++)e._a[i]=o[i]=null==e._a[i]?2===i?1:0:e._a[i];e._d=(e._useUTC?J:$).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function G(e){var t;e._d||(t=b(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],O(e))}function V(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function H(e){if(e._f===pt.ISO_8601)return void Z(e);e._a=[],e._pf.empty=!0;var t,i,n,r,a,o=D(e._l),s=""+e._i,l=s.length,c=0;for(n=j(e._f,o).match(Dt)||[],t=0;t<n.length;t++)r=n[t],i=(s.match(z(r,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&e._pf.unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),si[r]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(r),L(r,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-c,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[Ct]<12&&(e._a[Ct]+=12),e._isPm===!1&&12===e._a[Ct]&&(e._a[Ct]=0),O(e),A(e)}function W(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})}function q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e){var t,n,r,a,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(a=0;a<e._f.length;a++)o=0,t=c({},e),t._pf=i(),t._f=e._f[a],H(t),k(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==r||r>o)&&(r=o,n=t));c(e,n||t)}function Z(e){var t,i,n=e._i,r=Xt.exec(n);if(r){for(e._pf.iso=!0,t=0,i=Jt.length;i>t;t++)if(Jt[t][1].exec(n)){e._f=Jt[t][0]+(r[6]||" ");break}for(t=0,i=Kt.length;i>t;t++)if(Kt[t][1].exec(n)){e._f+=Kt[t][0];break}n.match(Bt)&&(e._f+="Z"),H(e)}else e._isValid=!1}function Y(e){Z(e),e._isValid===!1&&(delete e._isValid,pt.createFromInputFallback(e))}function X(t){var i=t._i,n=Tt.exec(i);i===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof i?Y(t):f(i)?(t._a=i.slice(0),O(t)):m(i)?t._d=new Date(+i):"object"==typeof i?G(t):"number"==typeof i?t._d=new Date(i):pt.createFromInputFallback(t)}function $(e,t,i,n,r,a,o){var s=new Date(e,t,i,n,r,a,o);return 1970>e&&s.setFullYear(e),s}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function K(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Q(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function et(e,t,i){var n=vt(Math.abs(e)/1e3),r=vt(n/60),a=vt(r/60),o=vt(a/24),s=vt(o/365),l=n<ri.s&&["s",n]||1===r&&["m"]||r<ri.m&&["mm",r]||1===a&&["h"]||a<ri.h&&["hh",a]||1===o&&["d"]||o<=ri.dd&&["dd",o]||o<=ri.dm&&["M"]||o<ri.dy&&["MM",vt(o/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=i,Q.apply({},l)}function tt(e,t,i){var n,r=i-t,a=i-e.day();return a>r&&(a-=7),r-7>a&&(a+=7),n=pt(e).add("d",a),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function it(e,t,i,n,r){var a,o,s=J(e,0,1).getUTCDay();return s=0===s?7:s,i=null!=i?i:r,a=r-s+(s>n?7:0)-(r>s?7:0),o=7*(t-1)+(i-r)+a+1,{year:o>0?e:e-1,dayOfYear:o>0?o:I(e-1)+o}}function nt(t){var i=t._i,n=t._f;return null===i||n===e&&""===i?pt.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=D().preparse(i)),pt.isMoment(i)?(t=d(i),t._d=new Date(+i._d)):n?f(n)?U(t):H(t):X(t),new s(t))}function rt(e,t){var i,n;if(1===t.length&&f(t[0])&&(t=t[0]),!t.length)return pt();for(i=t[0],n=1;n<t.length;++n)t[n][e](i)&&(i=t[n]);return i}function at(e,t){var i;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),C(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function ot(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function st(e,t,i){return"Month"===t?at(e,i):e._d["set"+(e._isUTC?"UTC":"")+t](i)}function lt(e,t){return function(i){return null!=i?(st(this,e,i),pt.updateOffset(this,t),this):ot(this,e)}}function ct(e){pt.duration.fn[e]=function(){return this._data[e]}}function dt(e,t){pt.duration.fn["as"+e]=function(){return+this/t}}function ut(e){"undefined"==typeof ender&&(ht=gt.moment,gt.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",pt):pt)}for(var pt,ht,ft,mt="2.7.0",gt="undefined"!=typeof global?global:this,vt=Math.round,bt=0,yt=1,wt=2,Ct=3,xt=4,It=5,Mt=6,At={},kt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Nt="undefined"!=typeof module&&module.exports,Tt=/^\/?Date\((\-?\d+)/i,_t=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,St=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Dt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Et=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Pt=/\d\d?/,Rt=/\d{1,3}/,jt=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,Ft=/\d+/,Lt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Bt=/Z|[\+\-]\d\d:?\d\d/gi,Ot=/T/i,Gt=/[\+\-]?\d+(\.\d{1,3})?/,Vt=/\d{1,2}/,Ht=/\d/,Wt=/\d\d/,qt=/\d{3}/,Ut=/\d{4}/,Zt=/[+-]?\d{6}/,Yt=/[+-]?\d+/,Xt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$t="YYYY-MM-DDTHH:mm:ssZ",Jt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Kt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Qt=/([\+\-]|\d\d)/gi,ei=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ti={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ii={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ni={},ri={s:45,m:45,h:22,dd:25,dm:45,dy:345},ai="DDD w W M D d".split(" "),oi="M D H h m s w W".split(" "),si={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return w(this.milliseconds()/100)},SS:function(){return p(w(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(w(e/60),2)+":"+p(w(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(w(e/60),2)+p(w(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},li=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ai.length;)ft=ai.pop(),si[ft+"o"]=a(si[ft],ft);for(;oi.length;)ft=oi.pop(),si[ft+ft]=r(si[ft],2);for(si.DDDD=r(si.DDD,3),c(o.prototype,{set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(i=pt.utc([2e3,t]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=pt([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),pt=function(t,n,r,a){var o;return"boolean"==typeof r&&(a=r,r=e),o={},o._isAMomentObject=!0,o._i=t,o._f=n,o._l=r,o._strict=a,o._isUTC=!1,o._pf=i(),nt(o)},pt.suppressDeprecationWarnings=!1,pt.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),pt.min=function(){var e=[].slice.call(arguments,0);return rt("isBefore",e)},pt.max=function(){var e=[].slice.call(arguments,0);return rt("isAfter",e)},pt.utc=function(t,n,r,a){var o;return"boolean"==typeof r&&(a=r,r=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=r,o._i=t,o._f=n,o._strict=a,o._pf=i(),nt(o).utc()},pt.unix=function(e){return pt(1e3*e)},pt.duration=function(e,t){var i,n,r,a=e,o=null;return pt.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(o=_t.exec(e))?(i="-"===o[1]?-1:1,a={y:0,d:w(o[wt])*i,h:w(o[Ct])*i,m:w(o[xt])*i,s:w(o[It])*i,ms:w(o[Mt])*i}):(o=St.exec(e))&&(i="-"===o[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:r(o[2]),M:r(o[3]),d:r(o[4]),h:r(o[5]),m:r(o[6]),s:r(o[7]),w:r(o[8])}),n=new l(a),pt.isDuration(e)&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},pt.version=mt,pt.defaultFormat=$t,pt.ISO_8601=function(){},pt.momentProperties=kt,pt.updateOffset=function(){},pt.relativeTimeThreshold=function(t,i){return ri[t]===e?!1:(ri[t]=i,!0)},pt.lang=function(e,t){var i;return e?(t?_(N(e),t):null===t?(S(e),e="en"):At[e]||D(e),i=pt.duration.fn._lang=pt.fn._lang=D(e),i._abbr):pt.fn._lang._abbr},pt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),D(e)},pt.isMoment=function(e){return e instanceof s||null!=e&&e.hasOwnProperty("_isAMomentObject")},pt.isDuration=function(e){return e instanceof l},ft=li.length-1;ft>=0;--ft)y(li[ft]);pt.normalizeUnits=function(e){return v(e)},pt.invalid=function(e){var t=pt.utc(0/0);return null!=e?c(t._pf,e):t._pf.userInvalidated=!0,t},pt.parseZone=function(){return pt.apply(null,arguments).parseZone()},pt.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)},c(pt.fn=s.prototype,{clone:function(){return pt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=pt(this).utc();return 0<e.year()&&e.year()<=9999?R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&g(this._a,(this._isUTC?pt.utc(this._a):pt(this._a)).toArray())>0:!1},parsingFlags:function(){return c({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=R(this,e||pt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var i;return i="string"==typeof e&&"string"==typeof t?pt.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?pt.duration(+t,e):pt.duration(e,t),h(this,i,1),this},subtract:function(e,t){var i;return i="string"==typeof e&&"string"==typeof t?pt.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?pt.duration(+t,e):pt.duration(e,t),h(this,i,-1),this},diff:function(e,t,i){var n,r,a=T(e,this),o=6e4*(this.zone()-a.zone());return t=v(t),"year"===t||"month"===t?(n=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-pt(this).startOf("month")-(a-pt(a).startOf("month")))/n,r-=6e4*(this.zone()-pt(this).startOf("month").zone()-(a.zone()-pt(a).startOf("month").zone()))/n,"year"===t&&(r/=12)):(n=this-a,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-o)/864e5:"week"===t?(n-o)/6048e5:n),i?r:u(r)},from:function(e,t){return pt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(pt(),e)},calendar:function(e){var t=e||pt(),i=T(t,this).startOf("day"),n=this.diff(i,"days",!0),r=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.lang().calendar(r,this))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=K(e,this.lang()),this.add({d:e-t})):t},month:lt("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=v(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+pt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+pt(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+T(e,this).startOf(t)},min:n("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=pt.apply(null,arguments),this>e?this:e}),max:n("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=pt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var i=this._offset||0;return null==e?this._isUTC?i:this._d.getTimezoneOffset():("string"==typeof e&&(e=F(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,i!==e&&(!t||this._changeInProgress?h(this,pt.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?pt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(e){var t=vt((pt(this).startOf("day")-pt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=tt(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=tt(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return x(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return x(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){return e=v(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=D(t),this)}}),pt.fn.millisecond=pt.fn.milliseconds=lt("Milliseconds",!1),pt.fn.second=pt.fn.seconds=lt("Seconds",!1),pt.fn.minute=pt.fn.minutes=lt("Minutes",!1),pt.fn.hour=pt.fn.hours=lt("Hours",!0),pt.fn.date=lt("Date",!0),pt.fn.dates=n("dates accessor is deprecated. Use date instead.",lt("Date",!0)),pt.fn.year=lt("FullYear",!0),pt.fn.years=n("years accessor is deprecated. Use year instead.",lt("FullYear",!0)),pt.fn.days=pt.fn.day,pt.fn.months=pt.fn.month,pt.fn.weeks=pt.fn.week,pt.fn.isoWeeks=pt.fn.isoWeek,pt.fn.quarters=pt.fn.quarter,pt.fn.toJSON=pt.fn.toISOString,c(pt.duration.fn=l.prototype,{_bubble:function(){var e,t,i,n,r=this._milliseconds,a=this._days,o=this._months,s=this._data;s.milliseconds=r%1e3,e=u(r/1e3),s.seconds=e%60,t=u(e/60),s.minutes=t%60,i=u(t/60),s.hours=i%24,a+=u(i/24),s.days=a%30,o+=u(a/30),s.months=o%12,n=u(o/12),s.years=n},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},humanize:function(e){var t=+this,i=et(t,!e,this.lang());return e&&(i=this.lang().pastFuture(t,i)),this.lang().postformat(i)},add:function(e,t){var i=pt.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=pt.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=v(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:pt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||r||a?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(a?a+"S":""):"P0D"}});for(ft in ei)ei.hasOwnProperty(ft)&&(dt(ft,ei[ft]),ct(ft.toLowerCase()));dt("Weeks",6048e5),pt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},pt.lang("en",{ordinal:function(e){var t=e%10,i=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),Nt?module.exports=pt:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(gt.moment=ht),pt}),ut(!0)):ut()}.call(this),function(e){if("function"==typeof define&&define.amd)define("datetimepicker",["jquery","moment"],e);else{if(!jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if(!moment)throw"bootstrap-datetimepicker requires moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){if("undefined"==typeof t)throw alert("momentjs is requried"),new Error("momentjs is required");var n=0,r=t,a=function(t,a){var o=e.fn.datetimepicker.defaults,s={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},l=this,c=function(){var i,c=!1;if(l.options=e.extend({},o,a),l.options.icons=e.extend({},s,l.options.icons),l.element=e(t),u(),!l.options.pickTime&&!l.options.pickDate)throw new Error("Must choose at least one picker");if(l.id=n++,r.lang(l.options.language),l.date=r(),l.unset=!1,l.isInput=l.element.is("input"),l.component=!1,l.element.hasClass("input-group")&&(l.component=l.element.find(0==l.element.find(".datepickerbutton").size()?"[class^='input-group-']":".datepickerbutton")),l.format=l.options.format,i=r()._lang._longDateFormat,l.format||(l.format=l.options.pickDate?i.L:"",l.options.pickDate&&l.options.pickTime&&(l.format+=" "),l.format+=l.options.pickTime?i.LT:"",l.options.useSeconds&&(~i.LT.indexOf(" A")?l.format=l.format.split(" A")[0]+":ss A":l.format+=":ss")),l.use24hours=l.format.toLowerCase().indexOf("a")<1,l.component&&(c=l.component.find("span")),l.options.pickTime&&c&&c.addClass(l.options.icons.time),l.options.pickDate&&c&&(c.removeClass(l.options.icons.time),c.addClass(l.options.icons.date)),l.widget=e(O()).appendTo("body"),l.options.useSeconds&&!l.use24hours&&l.widget.width(300),l.minViewMode=l.options.minViewMode||0,"string"==typeof l.minViewMode)switch(l.minViewMode){case"months":l.minViewMode=1;break;case"years":l.minViewMode=2;break;default:l.minViewMode=0}if(l.viewMode=l.options.viewMode||0,"string"==typeof l.viewMode)switch(l.viewMode){case"months":l.viewMode=1;break;case"years":l.viewMode=2;break;default:l.viewMode=0}if(l.options.disabledDates=L(l.options.disabledDates),l.options.enabledDates=L(l.options.enabledDates),l.startViewMode=l.viewMode,l.setMinDate(l.options.minDate),l.setMaxDate(l.options.maxDate),g(),v(),y(),w(),C(),m(),T(),_(),""!==l.options.defaultDate&&""==d().val()&&l.setValue(l.options.defaultDate),1!==l.options.minuteStepping){var p=l.options.minuteStepping;l.date.minutes(Math.round(l.date.minutes()/p)*p%60).seconds(0)}},d=function(){return l.isInput?l.element:dateStr=l.element.find("input")},u=function(){var e;e=(l.element.is("input"),l.element.data()),void 0!==e.dateFormat&&(l.options.format=e.dateFormat),void 0!==e.datePickdate&&(l.options.pickDate=e.datePickdate),void 0!==e.datePicktime&&(l.options.pickTime=e.datePicktime),void 0!==e.dateUseminutes&&(l.options.useMinutes=e.dateUseminutes),void 0!==e.dateUseseconds&&(l.options.useSeconds=e.dateUseseconds),void 0!==e.dateUsecurrent&&(l.options.useCurrent=e.dateUsecurrent),void 0!==e.dateMinutestepping&&(l.options.minuteStepping=e.dateMinutestepping),void 0!==e.dateMindate&&(l.options.minDate=e.dateMindate),void 0!==e.dateMaxdate&&(l.options.maxDate=e.dateMaxdate),void 0!==e.dateShowtoday&&(l.options.showToday=e.dateShowtoday),void 0!==e.dateCollapse&&(l.options.collapse=e.dateCollapse),void 0!==e.dateLanguage&&(l.options.language=e.dateLanguage),void 0!==e.dateDefaultdate&&(l.options.defaultDate=e.dateDefaultdate),void 0!==e.dateDisableddates&&(l.options.disabledDates=e.dateDisableddates),void 0!==e.dateEnableddates&&(l.options.enabledDates=e.dateEnableddates),void 0!==e.dateIcons&&(l.options.icons=e.dateIcons),void 0!==e.dateUsestrict&&(l.options.useStrict=e.dateUsestrict),void 0!==e.dateDirection&&(l.options.direction=e.dateDirection),void 0!==e.dateSidebyside&&(l.options.sideBySide=e.dateSidebyside)},p=function(){var t="absolute",i=l.component?l.component.offset():l.element.offset(),n=e(window);l.width=l.component?l.component.outerWidth():l.element.outerWidth(),i.top=i.top+l.element.outerHeight();var r;"up"===l.options.direction?r="top":"bottom"===l.options.direction?r="bottom":"auto"===l.options.direction&&(r=i.top+l.widget.height()>n.height()+n.scrollTop()&&l.widget.height()+l.element.outerHeight()<i.top?"top":"bottom"),"top"===r?(i.top-=l.widget.height()+l.element.outerHeight()+15,l.widget.addClass("top").removeClass("bottom")):(i.top+=1,l.widget.addClass("bottom").removeClass("top")),void 0!==l.options.width&&l.widget.width(l.options.width),"left"===l.options.orientation&&(l.widget.addClass("left-oriented"),i.left=i.left-l.widget.width()+20),P()&&(t="fixed",i.top-=n.scrollTop(),i.left-=n.scrollLeft()),n.width()<i.left+l.widget.outerWidth()?(i.right=n.width()-i.left-l.width,i.left="auto",l.widget.addClass("pull-right")):(i.right="auto",l.widget.removeClass("pull-right")),l.widget.css({position:t,top:i.top,left:i.left,right:i.right})},h=function(e,t){r(l.date).isSame(r(e))||(l.element.trigger({type:"dp.change",date:r(l.date),oldDate:r(e)}),"change"!==t&&l.element.change())},f=function(e){l.element.trigger({type:"dp.error",date:r(e)})},m=function(e){r.lang(l.options.language);var t=e;t||(t=d().val(),t&&(l.date=r(t,l.format,l.options.useStrict)),l.date||(l.date=r())),l.viewDate=r(l.date).startOf("month"),b(),x()},g=function(){r.lang(l.options.language);var t,i=e("<tr>"),n=r.weekdaysMin();if(0==r()._lang._week.dow)for(t=0;7>t;t++)i.append('<th class="dow">'+n[t]+"</th>");else for(t=1;8>t;t++)i.append(7==t?'<th class="dow">'+n[0]+"</th>":'<th class="dow">'+n[t]+"</th>");l.widget.find(".datepicker-days thead").append(i)},v=function(){r.lang(l.options.language);for(var e="",t=0,i=r.monthsShort();12>t;)e+='<span class="month">'+i[t++]+"</span>";l.widget.find(".datepicker-months td").append(e)},b=function(){if(l.options.pickDate){r.lang(l.options.language);var t,i,n,a,o,s,c,d,u,p=l.viewDate.year(),h=l.viewDate.month(),f=l.options.minDate.year(),m=l.options.minDate.month(),g=l.options.maxDate.year(),v=l.options.maxDate.month(),b=[],y=r.months();for(l.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-days th:eq(1)").text(y[h]+" "+p),i=r(l.viewDate).subtract("months",1),c=i.daysInMonth(),i.date(c).startOf("week"),(p==f&&m>=h||f>p)&&l.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(p==g&&h>=v||p>g)&&l.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),n=r(i).add(42,"d");i.isBefore(n);){if(i.weekday()===r().startOf("week").weekday()&&(a=e("<tr>"),b.push(a)),o="",i.year()<p||i.year()==p&&i.month()<h?o+=" old":(i.year()>p||i.year()==p&&i.month()>h)&&(o+=" new"),i.isSame(r({y:l.date.year(),M:l.date.month(),d:l.date.date()}))&&(o+=" active"),(z(i)||!F(i))&&(o+=" disabled"),l.options.showToday===!0&&i.isSame(r(),"day")&&(o+=" today"),l.options.daysOfWeekDisabled)for(s in l.options.daysOfWeekDisabled)if(i.day()==l.options.daysOfWeekDisabled[s]){o+=" disabled";break}a.append('<td class="day'+o+'">'+i.date()+"</td>"),t=i.date(),i.add(1,"d"),t==i.date()&&i.add(1,"d")}for(l.widget.find(".datepicker-days tbody").empty().append(b),u=l.date.year(),y=l.widget.find(".datepicker-months").find("th:eq(1)").text(p).end().find("span").removeClass("active"),u===p&&y.eq(l.date.month()).addClass("active"),f>u-1&&l.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),u+1>g&&l.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),s=0;12>s;s++)p==f&&m>s||f>p?e(y[s]).addClass("disabled"):(p==g&&s>v||p>g)&&e(y[s]).addClass("disabled");for(b="",p=10*parseInt(p/10,10),d=l.widget.find(".datepicker-years").find("th:eq(1)").text(p+"-"+(p+9)).end().find("td"),l.widget.find(".datepicker-years").find("th").removeClass("disabled"),f>p&&l.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),p+9>g&&l.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),p-=1,s=-1;11>s;s++)b+='<span class="year'+(-1===s||10===s?" old":"")+(u===p?" active":"")+(f>p||p>g?" disabled":"")+'">'+p+"</span>",p+=1;d.html(b)}},y=function(){r.lang(l.options.language);var e,t,i,n=l.widget.find(".timepicker .timepicker-hours table"),a="";if(n.parent().hide(),l.use24hours)for(e=0,t=0;6>t;t+=1){for(a+="<tr>",i=0;4>i;i+=1)a+='<td class="hour">'+B(e.toString())+"</td>",e++;a+="</tr>"}else for(e=1,t=0;3>t;t+=1){for(a+="<tr>",i=0;4>i;i+=1)a+='<td class="hour">'+B(e.toString())+"</td>",e++;a+="</tr>"}n.html(a)},w=function(){var e,t,i=l.widget.find(".timepicker .timepicker-minutes table"),n="",r=0,a=l.options.minuteStepping;for(i.parent().hide(),1==a&&(a=5),e=0;e<Math.ceil(60/a/4);e++){for(n+="<tr>",t=0;4>t;t+=1)60>r?(n+='<td class="minute">'+B(r.toString())+"</td>",r+=a):n+="<td></td>";n+="</tr>"}i.html(n)},C=function(){var e,t,i=l.widget.find(".timepicker .timepicker-seconds table"),n="",r=0;for(i.parent().hide(),e=0;3>e;e++){for(n+="<tr>",t=0;4>t;t+=1)n+='<td class="second">'+B(r.toString())+"</td>",r+=5;
n+="</tr>"}i.html(n)},x=function(){if(l.date){var e=l.widget.find(".timepicker span[data-time-component]"),t=l.date.hours(),i="AM";l.use24hours||(t>=12&&(i="PM"),0===t?t=12:12!=t&&(t%=12),l.widget.find(".timepicker [data-action=togglePeriod]").text(i)),e.filter("[data-time-component=hours]").text(B(t)),e.filter("[data-time-component=minutes]").text(B(l.date.minutes())),e.filter("[data-time-component=seconds]").text(B(l.date.second()))}},I=function(t){t.stopPropagation(),t.preventDefault(),l.unset=!1;var i,n,a,o,s=e(t.target).closest("span, td, th"),c=r(l.date);if(1===s.length&&!s.is(".disabled"))switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":T(1);break;case"prev":case"next":a=G.modes[l.viewMode].navStep,"prev"===s[0].className&&(a=-1*a),l.viewDate.add(a,G.modes[l.viewMode].navFnc),b()}break;case"span":s.is(".month")?(i=s.parent().find("span").index(s),l.viewDate.month(i)):(n=parseInt(s.text(),10)||0,l.viewDate.year(n)),l.viewMode===l.minViewMode&&(l.date=r({y:l.viewDate.year(),M:l.viewDate.month(),d:l.viewDate.date(),h:l.date.hours(),m:l.date.minutes(),s:l.date.seconds()}),h(c,t.type),R()),T(-1),b();break;case"td":s.is(".day")&&(o=parseInt(s.text(),10)||1,i=l.viewDate.month(),n=l.viewDate.year(),s.is(".old")?0===i?(i=11,n-=1):i-=1:s.is(".new")&&(11==i?(i=0,n+=1):i+=1),l.date=r({y:n,M:i,d:o,h:l.date.hours(),m:l.date.minutes(),s:l.date.seconds()}),l.viewDate=r({y:n,M:i,d:Math.min(28,o)}),b(),R(),h(c,t.type))}},M={incrementHours:function(){j("add","hours",1)},incrementMinutes:function(){j("add","minutes",l.options.minuteStepping)},incrementSeconds:function(){j("add","seconds",1)},decrementHours:function(){j("subtract","hours",1)},decrementMinutes:function(){j("subtract","minutes",l.options.minuteStepping)},decrementSeconds:function(){j("subtract","seconds",1)},togglePeriod:function(){var e=l.date.hours();e>=12?e-=12:e+=12,l.date.hours(e)},showPicker:function(){l.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),l.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=l.widget.find(".timepicker [data-action=togglePeriod]").text(),n=parseInt(e(t.target).text(),10);"PM"==i&&(n+=12),l.date.hours(n),M.showPicker.call(l)},selectMinute:function(t){l.date.minutes(parseInt(e(t.target).text(),10)),M.showPicker.call(l)},selectSecond:function(t){l.date.seconds(parseInt(e(t.target).text(),10)),M.showPicker.call(l)}},A=function(t){var i=r(l.date),n=e(t.currentTarget).data("action"),a=M[n].apply(l,arguments);return k(t),l.date||(l.date=r({y:1970})),R(),x(),h(i,t.type),a},k=function(e){e.stopPropagation(),e.preventDefault()},N=function(t){r.lang(l.options.language);var i=e(t.target),n=r(l.date),a=r(i.val(),l.format,l.options.useStrict);a.isValid()&&!z(a)&&F(a)?(m(),l.setValue(a),h(n,t.type),R()):(l.viewDate=n,h(n,t.type),f(a),l.unset=!0)},T=function(e){e&&(l.viewMode=Math.max(l.minViewMode,Math.min(2,l.viewMode+e)));G.modes[l.viewMode].clsName;l.widget.find(".datepicker > div").hide().filter(".datepicker-"+G.modes[l.viewMode].clsName).show()},_=function(){var t,i,n,r,a;l.widget.on("click",".datepicker *",e.proxy(I,this)),l.widget.on("click","[data-action]",e.proxy(A,this)),l.widget.on("mousedown",e.proxy(k,this)),l.options.pickDate&&l.options.pickTime&&l.widget.on("click.togglePicker",".accordion-toggle",function(o){if(o.stopPropagation(),t=e(this),i=t.closest("ul"),n=i.find(".in"),r=i.find(".collapse:not(.in)"),n&&n.length){if(a=n.data("collapse"),a&&a.date-transitioning)return;n.collapse("hide"),r.collapse("show"),t.find("span").toggleClass(l.options.icons.time+" "+l.options.icons.date),l.element.find(".input-group-addon span").toggleClass(l.options.icons.time+" "+l.options.icons.date)}}),l.isInput?l.element.on({focus:e.proxy(l.show,this),change:e.proxy(N,this),blur:e.proxy(l.hide,this)}):(l.element.on({change:e.proxy(N,this)},"input"),l.component?l.component.on("click",e.proxy(l.show,this)):l.element.on("click",e.proxy(l.show,this)))},S=function(){e(window).on("resize.datetimepicker"+l.id,e.proxy(p,this)),l.isInput||e(document).on("mousedown.datetimepicker"+l.id,e.proxy(l.hide,this))},D=function(){l.widget.off("click",".datepicker *",l.click),l.widget.off("click","[data-action]"),l.widget.off("mousedown",l.stopEvent),l.options.pickDate&&l.options.pickTime&&l.widget.off("click.togglePicker"),l.isInput?l.element.off({focus:l.show,change:l.change}):(l.element.off({change:l.change},"input"),l.component?l.component.off("click",l.show):l.element.off("click",l.show))},E=function(){e(window).off("resize.datetimepicker"+l.id),l.isInput||e(document).off("mousedown.datetimepicker"+l.id)},P=function(){if(l.element){var t,i=l.element.parents(),n=!1;for(t=0;t<i.length;t++)if("fixed"==e(i[t]).css("position")){n=!0;break}return n}return!1},R=function(){r.lang(l.options.language);var e="";l.unset||(e=r(l.date).format(l.format)),d().val(e),l.element.data("date",e),l.options.pickTime||l.hide()},j=function(e,t,i){r.lang(l.options.language);var n;return"add"==e?(n=r(l.date),23==n.hours()&&n.add(i,t),n.add(i,t)):n=r(l.date).subtract(i,t),z(r(n.subtract(i,t)))||z(n)?void f(n.format(l.format)):("add"==e?l.date.add(i,t):l.date.subtract(i,t),void(l.unset=!1))},z=function(e){return r.lang(l.options.language),e.isAfter(l.options.maxDate)||e.isBefore(l.options.minDate)?!0:l.options.disabledDates===!1?!1:l.options.disabledDates[r(e).format("YYYY-MM-DD")]===!0},F=function(e){return r.lang(l.options.language),l.options.enabledDates===!1?!0:l.options.enabledDates[r(e).format("YYYY-MM-DD")]===!0},L=function(e){var t={},n=0;for(i=0;i<e.length;i++)dDate=r(e[i]),dDate.isValid()&&(t[dDate.format("YYYY-MM-DD")]=!0,n++);return n>0?t:!1},B=function(e){return e=e.toString(),e.length>=2?e:"0"+e},O=function(){if(l.options.pickDate&&l.options.pickTime){var e="";return e='<div class="bootstrap-datetimepicker-widget'+(l.options.sideBySide?" timepicker-sbs":"")+' dropdown-menu" style="z-index:9999 !important;">',e+=l.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+G.template+'</div><div class="col-sm-6 timepicker">'+V.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(l.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+G.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+l.options.icons.time+'"></span></a></li><li'+(l.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+V.getTemplate()+"</div></li></ul>",e+="</div>"}return l.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+V.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+G.template+"</div></div>"},G={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},V={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};G.template='<div class="datepicker-days"><table class="table-condensed">'+G.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+G.headTemplate+G.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+G.headTemplate+G.contTemplate+"</table></div>",V.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+l.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(l.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+l.options.icons.up+'"></span></a>':"")+"</td>"+(l.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+l.options.icons.up+'"></span></a></td>':"")+(l.use24hours?"":'<td class="separator"></td>')+'</tr><tr><td> <a href="#" class="btn">'+V.hourTemplate+'</a></td> <td class="separator">:</td><td> <a href="#" class="btn">'+(l.options.useMinutes?V.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</a></td> "+(l.options.useSeconds?'<td class="separator">:</td><td>'+V.secondTemplate+"</td>":"")+(l.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+l.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(l.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+l.options.icons.down+'"></span></a>':"")+"</td>"+(l.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+l.options.icons.down+'"></span></a></td>':"")+(l.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(l.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},l.destroy=function(){D(),E(),l.widget.remove(),l.element.removeData("DateTimePicker"),l.component&&l.component.removeData("DateTimePicker")},l.show=function(e){if(l.options.useCurrent&&""==d().val())if(1!==l.options.minuteStepping){var t=r(),i=l.options.minuteStepping;t.minutes(Math.round(t.minutes()/i)*i%60).seconds(0),l.setValue(t.format(l.format))}else l.setValue(r().format(l.format));l.widget.hasClass("picker-open")?(l.widget.hide(),l.widget.removeClass("picker-open")):(l.widget.show(),l.widget.addClass("picker-open")),l.height=l.component?l.component.outerHeight():l.element.outerHeight(),p(),l.element.trigger({type:"dp.show",date:r(l.date)}),S(),e&&k(e)},l.disable=function(){var e=l.element.find("input");e.prop("disabled")||(e.prop("disabled",!0),D())},l.enable=function(){var e=l.element.find("input");e.prop("disabled")&&(e.prop("disabled",!1),_())},l.hide=function(t){if(!t||!e(t.target).is(l.element.attr("id"))){var i,n,a=l.widget.find(".collapse");for(i=0;i<a.length;i++)if(n=a.eq(i).data("collapse"),n&&n.date-transitioning)return;l.widget.hide(),l.widget.removeClass("picker-open"),l.viewMode=l.startViewMode,T(),l.element.trigger({type:"dp.hide",date:r(l.date)}),E()}},l.setValue=function(e){r.lang(l.options.language),e?l.unset=!1:(l.unset=!0,R()),r.isMoment(e)||(e=r(e,l.format)),e.isValid()?(l.date=e,R(),l.viewDate=r({y:l.date.year(),M:l.date.month()}),b(),x()):f(e)},l.getDate=function(){return l.unset?null:l.date},l.setDate=function(e){var t=r(l.date);l.setValue(e?e:null),h(t,"function")},l.setDisabledDates=function(e){l.options.disabledDates=L(e),l.viewDate&&m()},l.setEnabledDates=function(e){l.options.enabledDates=L(e),l.viewDate&&m()},l.setMaxDate=function(e){void 0!=e&&(l.options.maxDate=r(e),l.viewDate&&m())},l.setMinDate=function(e){void 0!=e&&(l.options.minDate=r(e),l.viewDate&&m())},c()};e.fn.datetimepicker=function(t){return this.each(function(){var i=e(this),n=i.data("DateTimePicker");n||i.data("DateTimePicker",new a(this,t))})},e.fn.datetimepicker.defaults={pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,minuteStepping:1,minDate:new r({y:1900}),maxDate:(new r).add(100,"y"),showToday:!0,collapse:!0,language:"en",defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:!1}}),function(e){"function"==typeof define&&define.amd?define("datetimepicker_lang_pt_BR",["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(e){define("jqueryUI",[],function(){return function(){!function(e,t){function i(t,i){var r,a,o,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,r,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function r(t,i,n,r){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var r,a=e.ui[t].prototype;for(r in n)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,n[r]])},call:function(e,t,i){var n,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(a){}r(t)},e.widget=function(i,n,r){var a,o,s,l,c={},d=i.split(".")[0];i=i.split(".")[1],a=d+"-"+i,r||(r=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[d]=e[d]||{},o=e[d][i],s=e[d][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new s(e,i)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new n,l.options=e.widget.extend({},l.options),e.each(r,function(i,r){return e.isFunction(r)?(c[i]=function(){var e=function(){return n.prototype[i].apply(this,arguments)},t=function(e){return n.prototype[i].apply(this,e)};return function(){var i,n=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=r.apply(this,arguments),this._super=n,this._superApply=a,i}}(),t):(c[i]=r,t)}),s.prototype=e.widget.extend(l,{widgetEventPrefix:o?l.widgetEventPrefix||i:i},c,{constructor:s,namespace:d,widgetName:i,widgetFullName:a}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(i,s)},e.widget.extend=function(i){for(var r,a,o=n.call(arguments,1),s=0,l=o.length;l>s;s++)for(r in o[s])a=o[s][r],o[s].hasOwnProperty(r)&&a!==t&&(i[r]=e.isPlainObject(a)?e.isPlainObject(i[r])?e.widget.extend({},i[r],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,r){var a=r.prototype.widgetFullName||i;e.fn[i]=function(o){var s="string"==typeof o,l=n.call(arguments,1),c=this;return o=!s&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,this.each(s?function(){var n,r=e.data(this,a);return r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):t):e.error("no such method '"+o+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,a);t?t.option(o||{})._init():e.data(this,a,new r(o,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r,a,o,s=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(s={},r=i.split("."),i=r.shift(),r.length){for(a=s[i]=e.widget.extend({},this.options[i]),o=0;r.length-1>o;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(i=r.pop(),1===arguments.length)return a[i]===t?null:a[i];a[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];s[i]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var a,o=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=a=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,a=this.widget()),e.each(r,function(r,s){function l(){return i||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):t}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||e.guid++);var c=r.match(/^(\w+)\s*(.*)$/),d=c[1]+o.eventNamespace,u=c[2];u?a.delegate(u,d,l):n.bind(d,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,a,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,a):n.queue(function(i){e(this)[t](),a&&a.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return r&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,r,a,o=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),r=n.options,a=e.extend({},i,{item:n.element});n.sortables=[],e(r.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var n=e(this).data("ui-draggable"),r=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,i){var n=e(this).data("ui-draggable"),r=this;e.each(n.sortables,function(){var a=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,r,a,o,s,l,c,d,u,p,h=e(this).data("ui-draggable"),f=h.options,m=f.snapTolerance,g=i.offset.left,v=g+h.helperProportions.width,b=i.offset.top,y=b+h.helperProportions.height;for(u=h.snapElements.length-1;u>=0;u--)s=h.snapElements[u].left,l=s+h.snapElements[u].width,c=h.snapElements[u].top,d=c+h.snapElements[u].height,s-m>v||g>l+m||c-m>y||b>d+m||!e.contains(h.snapElements[u].item.ownerDocument,h.snapElements[u].item)?(h.snapElements[u].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(c-y),r=m>=Math.abs(d-b),a=m>=Math.abs(s-v),o=m>=Math.abs(l-g),n&&(i.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),r&&(i.position.top=h._convertPositionTo("relative",{top:d,left:0}).top-h.margins.top),a&&(i.position.left=h._convertPositionTo("relative",{top:0,left:s-h.helperProportions.width}).left-h.margins.left),o&&(i.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left)),p=n||r||a||o,"outer"!==f.snapMode&&(n=m>=Math.abs(c-b),r=m>=Math.abs(d-y),a=m>=Math.abs(s-g),o=m>=Math.abs(l-v),n&&(i.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),r&&(i.position.top=h._convertPositionTo("relative",{top:d-h.helperProportions.height,left:0}).top-h.margins.top),a&&(i.position.left=h._convertPositionTo("relative",{top:0,left:s}).left-h.margins.left),o&&(i.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[u].snapping&&(n||r||a||o||p)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=n||r||a||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[i.scope]=e.ui.ddmanager.droppables[i.scope]||[],e.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var r,a,o=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,l=o+e.helperProportions.width,c=s+e.helperProportions.height,d=i.offset.left,u=i.offset.top,p=d+i.proportions().width,h=u+i.proportions().height;switch(n){case"fit":return o>=d&&p>=l&&s>=u&&h>=c;case"intersect":return o+e.helperProportions.width/2>d&&p>l-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&h>c-e.helperProportions.height/2;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,a=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(a,u,i.proportions().height)&&t(r,d,i.proportions().width);case"touch":return(s>=u&&h>=s||c>=u&&h>=c||u>s&&c>h)&&(o>=d&&p>=o||l>=d&&p>=l||d>o&&l>p);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;a.length>n;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(r=0;s.length>r;r++)if(s[r]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===o&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,a,o=e.ui.intersect(t,this,this.options.tolerance),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),a.length&&(n=e.data(a[0],"ui-droppable"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,r,a,o=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),a="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+a+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,a,o=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),n=t(this.helper.css("left")),r=t(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,r={},a=this.originalMousePosition,o=this.axis,s=this.position.top,l=this.position.left,c=this.size.width,d=this.size.height,u=t.pageX-a.left||0,p=t.pageY-a.top||0,h=this._change[o];return h?(i=h.apply(this,[t,u,p]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==d&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,r,a,o,s,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&e.ui.hasScroll(i[0],"left")?0:d.sizeDiff.height,a=n?0:d.sizeDiff.width,o={width:d.helper.width()-a,height:d.helper.height()-r},s=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:s})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,a,o,s=this.options;o={minWidth:i(s.minWidth)?s.minWidth:0,maxWidth:i(s.maxWidth)?s.maxWidth:1/0,minHeight:i(s.minHeight)?s.minHeight:0,maxHeight:i(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=i(e.width)&&t.minWidth&&t.minWidth>e.width,s=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),o&&d&&(e.left=l-t.minWidth),r&&d&&(e.left=l-t.maxWidth),s&&u&&(e.top=c-t.minHeight),a&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,r,a=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);r.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,s=a?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,a,o,s,l,c=e(this).data("ui-resizable"),d=c.options,u=c.element,p=d.containment,h=p instanceof e?p.get(0):/parent/.test(p)?u.parent().get(0):p;h&&(c.containerElement=e(h),/document/.test(p)||p===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=t(i.css("padding"+r))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=c.containerOffset,a=c.containerSize.height,o=c.containerSize.width,s=e.ui.hasScroll(h,"left")?h.scrollWidth:o,l=e.ui.hasScroll(h)?h.scrollHeight:a,c.parentData={element:h,left:r.left,top:r.top,width:s,height:l}))},resize:function(t){var i,n,r,a,o=e(this).data("ui-resizable"),s=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||t.shiftKey,u={top:0,left:0},p=o.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),d&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=s.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),n=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-l.top)+o.sizeDiff.height),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,d&&(o.size.height=o.size.width/o.aspectRatio)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio))
},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,r=t.containerPosition,a=t.containerElement,o=e(t.helper),s=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),r=n.options,a=n.originalSize,o=n.originalPosition,s={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(t,n){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),a={},o=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(r[t]||0)+(s[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,r=t.originalSize,a=t.originalPosition,o=t.axis,s="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=s[0]||1,c=s[1]||1,d=Math.round((n.width-r.width)/l)*l,u=Math.round((n.height-r.height)/c)*c,p=r.width+d,h=r.height+u,f=i.maxWidth&&p>i.maxWidth,m=i.maxHeight&&h>i.maxHeight,g=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>h;i.grid=s,g&&(p+=l),v&&(h+=c),f&&(p-=l),m&&(h-=c),/^(se|s|e)$/.test(o)?(t.size.width=p,t.size.height=h):/^(ne)$/.test(o)?(t.size.width=p,t.size.height=h,t.position.top=a.top-u):/^(sw)$/.test(o)?(t.size.width=p,t.size.height=h,t.position.left=a.left-d):(h-c>0?(t.size.height=h,t.position.top=a.top-u):(t.size.height=c,t.position.top=a.top+r.height-c),p-l>0?(t.size.width=p,t.position.left=a.left-d):(t.size.width=l,t.position.left=a.left+r.width-l))}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");return r?(n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,a=this.opos[0],o=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(i=s,s=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?c=!(i.left>s||a>i.right||i.top>l||o>i.bottom):"fit"===r.tolerance&&(c=i.left>a&&s>i.right&&i.top>o&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,r=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(n=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],a=this._intersectsWithPointer(n),a&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>s&&l>n+c,p="y"===this.options.axis||t+d>a&&o>t+d,h=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=i&&n,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&n||"left"===a&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){s.push(this)}var n,r,a,o,s=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(a=e(c[n]),r=a.length-1;r>=0;r--)o=e.data(a[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,a,o,s,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(r=e(p[i]),n=r.length-1;n>=0;n--)a=e.data(r[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=u.length-1;i>=0;i--)for(o=u[i][1],s=u[i][0],n=0,c=s.length;c>n;n++)l=e(s[n]),l.data(this.widgetName+"-item",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,a;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),a=r.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var r,a,o,s,l,c,d,u,p,h,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(o=1e4,s=null,h=f.floating||i(this.currentItem),l=h?"left":"top",c=h?"width":"height",d=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)e.contains(this.containers[m].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!h||t(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[l],p=!1,Math.abs(u-d)>Math.abs(u+this.items[a][c]-d)&&(p=!0,u+=this.items[a][c]),o>Math.abs(u-d)&&(o=Math.abs(u-d),s=this.items[a],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(n,s,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,a=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var n=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(i){var n=c(),r=n._rgba=[];return i=i.toLowerCase(),f(l,function(e,a){var o,s=a.re.exec(i),l=s&&a.parse(s),c=a.space||"rgba";return l?(o=n[c](l),n[d[c].cache]=o[d[c].cache],r=n._rgba=o._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,a.transparent),n):a[i]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]
}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},h=e("<p>")[0],f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,o,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var u=this,p=e.type(r),h=this._rgba=[];return o!==t&&(r=[r,o,s,l],p="array"),"string"===p?this.parse(n(r)||a._default):"array"===p?(f(d.rgba.props,function(e,t){h[t.idx]=i(r[t.idx],t)}),this):"object"===p?(r instanceof c?f(d,function(e,t){r[t.cache]&&(u[t.cache]=r[t.cache].slice())}):f(d,function(t,n){var a=n.cache;f(n.props,function(e,t){if(!u[a]&&n.to){if("alpha"===e||null==r[e])return;u[a]=n.to(u._rgba)}u[a][t.idx]=i(r[e],t,!0)}),u[a]&&0>e.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,n.from&&(u._rgba=n.from(u[a])))}),this):t},is:function(e){var i=c(e),n=!0,r=this;return f(d,function(e,a){var o,s=i[a.cache];return s&&(o=r[a.cache]||a.to&&a.to(r._rgba)||[],f(a.props,function(e,i){return null!=s[i.idx]?n=s[i.idx]===o[i.idx]:t})),n}),n},_space:function(){var e=[],t=this;return f(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),r=n._space(),a=d[r],o=0===this.alpha()?c("transparent"):this,s=o[a.cache]||a.to(o._rgba),l=s.slice();return n=n[a.cache],f(a.props,function(e,r){var a=r.idx,o=s[a],c=n[a],d=u[r.type]||{};null!==c&&(null===o?l[a]=c:(d.mod&&(c-o>d.mod/2?o+=d.mod:o-c>d.mod/2&&(o-=d.mod)),l[a]=i((c-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(n,r,a),l=Math.min(n,r,a),c=s-l,d=s+l,u=.5*d;return t=l===s?0:n===s?60*(r-a)/c+360:r===s?60*(a-n)/c+120:60*(n-r)/c+240,i=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(t)%360,i,u,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],o=.5>=n?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},f(d,function(n,r){var a=r.props,o=r.cache,l=r.to,d=r.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var r,s=e.type(n),u="array"===s||"object"===s?n:arguments,p=this[o].slice();return f(a,function(e,t){var n=u["object"===s?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=i(n,t)}),d?(r=c(d(p)),r[o]=p,r):c(p)},f(a,function(t,i){c.fn[t]||(c.fn[t]=function(r){var a,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),d=c[i.idx];return"undefined"===o?d:("function"===o&&(r=r.call(this,d),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(a=s.exec(r),a&&(r=d+parseFloat(a[2])*("+"===a[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var a,o,s="";if("transparent"!==r&&("string"!==e.type(r)||(a=n(r)))){if(r=c(a||r),!p.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&o&&o.style;)try{s=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(a[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(a[i]=r[i]);return a}function n(t,i){var n,r,o={};for(n in i)r=i[n],t[n]!==r&&(a[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(o[n]=r));return o}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,a,o,s){var l=e.speed(a,o,s);return this.queue(function(){var a,o=e(this),s=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){var t=e(this);return{el:t,start:i(this)}}),a=function(){e.each(r,function(e,i){t[i]&&o[i+"Class"](t[i])})},a(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",s),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,a){return n?e.effects.animateClass.call(this,{add:i},n,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(n,r,a,o,s){return"boolean"==typeof r||r===t?a?e.effects.animateClass.call(this,r?{add:n}:{remove:n},a,o,s):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,a,o)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,a){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,a)}})}(),function(){function n(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var r,a;for(a=0;n.length>a;a++)null!==n[a]&&(r=e.data(i+n[a]),r===t&&(r=""),e.css(n[a],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(r[i]=a[0]*n+a[1])}),r}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(a)&&a.call(r[0]),e.isFunction(t)&&t()}var r=e(this),a=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):o.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,a=i.queue,o=e.effects.effect[i.effect];return e.fx.off||!o?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(t):this.queue(a||"fx",t)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,r){var a,o,s,l=e(this),c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(l,n.mode||"hide"),u=n.direction||"up",p=t.test(u),h=p?"height":"width",f=p?"top":"left",m=i.test(u),g={},v="show"===d;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),a=e.effects.createWrapper(l).css({overflow:"hidden"}),o=a[h](),s=parseFloat(a.css(f))||0,g[h]=v?o:0,m||(l.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),g[f]=v?s:o+s),v&&(a.css(h,0),m||a.css(f,s+o)),a.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===d&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),r()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",p=t.distance,h=t.times||5,f=2*h+(d||c?1:0),m=t.duration/f,g=t.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=o.queue(),w=y.length;for((d||c)&&s.push("opacity"),e.effects.save(o,s),o.show(),e.effects.createWrapper(o),p||(p=o["top"===v?"outerHeight":"outerWidth"]()/3),d&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,b?2*-p:2*p).animate(a,m,g)),c&&(p/=Math.pow(2,h-1)),a={},a[v]=0,n=0;h>n;n++)r={},r[v]=(b?"-=":"+=")+p,o.animate(r,m,g).animate(a,m,g),p=c?2*p:p/2;c&&(r={opacity:0},r[v]=(b?"-=":"+=")+p,o.animate(r,m,g)),o.queue(function(){c&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c="show"===l,d=t.direction||"vertical",u="vertical"===d,p=u?"height":"width",h=u?"top":"left",f={};e.effects.save(o,s),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?n:o,a=r[p](),c&&(r.css(p,0),r.css(h,a/2)),f[p]=c?a:0,f[h]=c?0:a/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(r,t.mode||"hide"),s="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:s?1:0};e.effects.save(r,a),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(c,"pos"===d?-n:n),u[c]=(s?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+n,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,i){function n(){y.push(this),y.length===u*p&&r()}function r(){h.css({visibility:"visible"}),e(y).remove(),m||h.hide(),i()}var a,o,s,l,c,d,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,p=u,h=e(this),f=e.effects.setMode(h,t.mode||"hide"),m="show"===f,g=h.show().css("visibility","hidden").offset(),v=Math.ceil(h.outerWidth()/p),b=Math.ceil(h.outerHeight()/u),y=[];for(a=0;u>a;a++)for(l=g.top+a*b,d=a-(u-1)/2,o=0;p>o;o++)s=g.left+o*v,c=o-(p-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:s+(m?c*v:0),top:l+(m?d*b:0),opacity:m?0:1}).animate({left:s+(m?0:c*v),top:l+(m?0:d*b),opacity:m?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e){e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e){e.effects.effect.fold=function(t,i){var n,r,a=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(a,t.mode||"hide"),l="show"===s,c="hide"===s,d=t.size||15,u=/([0-9]+)%/.exec(d),p=!!t.horizFirst,h=l!==p,f=h?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),r=h?[n.width(),n.height()]:[n.height(),n.width()],u&&(d=parseInt(u[1],10)/100*r[c?0:1]),l&&n.css(p?{height:0,width:d}:{height:d,width:0}),g[f[0]]=l?r[0]:d,v[f[1]]=l?r[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&n.hide(),e.effects.restore(n,r),i()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,i){var n,r=e(this),a=e.effects.setMode(r,t.mode||"show"),o="show"===a,s="hide"===a,l=o||"hide"===a,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,p=r.queue(),h=p.length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),n=1;c>n;n++)r.animate({opacity:u},d,t.easing),u=1-u;r.animate({opacity:u},d,t.easing),r.queue(function(){s&&r.hide(),i()}),h>1&&p.splice.apply(p,[1,0].concat(p.splice(h,c+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),a="hide"===r,o=parseInt(t.percent,10)||150,s=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:a?o:100,from:a?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),a=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),s=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},d={y:"horizontal"!==s?o/100:1,x:"vertical"!==s?o/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==a&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},r.fade&&("show"===a&&(r.from.opacity=0,r.to.opacity=1),"hide"===a&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.size=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==h,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),b=f?s:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===h?(o.from=t.to||y,o.to=t.from||n):(o.from=t.from||("show"===h?y:n),o.to=t.to||("hide"===h?y:n)),a={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(b=b.concat(u),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(b=b.concat(p),o.from=e.effects.setTransition(o,p,a.from.x,o.from),o.to=e.effects.setTransition(o,p,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(b=b.concat(d).concat(c),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),e.effects.save(o,b),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(r=e.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*r.y,o.from.left=(n.outerWidth-o.outerWidth())*r.x,o.to.top=(n.outerHeight-o.to.outerHeight)*r.y,o.to.left=(n.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(d),p=p.concat(["marginLeft","marginRight"]),c=s.concat(u).concat(p),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*a.from.y,width:n.width*a.from.x,outerHeight:n.outerHeight*a.from.y,outerWidth:n.outerWidth*a.from.x},i.to={height:n.height*a.to.y,width:n.width*a.to.x,outerHeight:n.height*a.to.y,outerWidth:n.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,u,a.from.y,i.from),i.to=e.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,p,a.from.x,i.from),i.to=e.effects.setTransition(i,p,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===h&&o.hide(),e.effects.restore(o,b),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),r=e?o.to.left:o.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),p="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,f={},m={},g={},v=r.queue(),b=v.length;for(e.effects.save(r,a),r.show(),e.effects.createWrapper(r),f[p]=(h?"-=":"+=")+l,m[p]=(h?"+=":"-=")+2*l,g[p]=(h?"-=":"+=")+2*l,r.animate(f,u,t.easing),n=1;c>n;n++)r.animate(m,u,t.easing).animate(g,u,t.easing);r.animate(m,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,d+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(r,t.mode||"show"),s="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(r,a),r.show(),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(c,d?isNaN(n)?"-"+n:-n:n),u[c]=(s?d?"+=":"-=":d?"-=":"+=")+n,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),a="fixed"===r.css("position"),o=e("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=r.offset(),d={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},u=n.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-s,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){p.remove(),i()})}}(jQuery)}.apply(e,arguments)})}(this),function(e,t){"function"==typeof define&&define.amd?define("nprogress",t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){function e(e,t,i){return t>e?t:e>i?i:e}function t(e){return 100*(-1+e)}function i(e,i,n){var r;return r="translate3d"===c.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},r.transition="all "+i+"ms "+n,r}function n(e,t){var i="string"==typeof e?e:o(e);return i.indexOf(" "+t+" ")>=0}function r(e,t){var i=o(e),r=i+t;n(i,t)||(e.className=r.substring(1))}function a(e,t){var i,r=o(e);n(e,t)&&(i=r.replace(" "+t+" "," "),e.className=i.substring(1,i.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function s(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l={};l.version="0.1.6",l.callNumbers=0;var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div  class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-ico"><img src="images/loading-bars.svg" width="40" height="40"></div></div>'};l.setBlockerPanel=function(e){l.blockerPanel=$("#"+e)},l.configure=function(e){var t,i;for(t in e)i=e[t],void 0!==i&&e.hasOwnProperty(t)&&(c[t]=i);return this},l.status=null,l.set=function(t){var n=l.isStarted();t=e(t,c.minimum,1),l.status=1===t?null:t;var r=l.render(!n),a=r.querySelector(c.barSelector),o=c.speed,s=c.easing;return r.offsetWidth,d(function(e){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),u(a,i(t,o,s)),1===t?(u(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){u(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){l.remove(),e()},o)},o)):setTimeout(e,o)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(e){e&&l.callNumbers++,l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},l.done=function(e,t){return t&&--l.callNumbers>0?l.inc(.3+.5*Math.random()).set(.6):e||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(t){var i=l.status;return i?("number"!=typeof t&&(t=(1-i)*e(Math.random()*i,.1,.95)),i=e(i+t,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var e=0,t=0;l.promise=function(i){return i&&"resolved"!=i.state()?(0==t&&l.start(),e++,t++,i.always(function(){t--,0==t?(e=0,l.done()):l.set((e-t)/e)}),this):this}}(),l.render=function(e){if(l.blockerPanel&&(l.blockerPanel.css("z-index",999999999999),l.blockerPanel.css("height","1200px")),l.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=c.template;var n,a=i.querySelector(c.barSelector),o=e?"-100":t(l.status||0),d=document.querySelector(c.parent);return u(a,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),c.showSpinner||(n=i.querySelector(c.spinnerSelector),n&&s(n)),d!=document.body&&r(d,"nprogress-custom-parent"),d.appendChild(i),i},l.remove=function(){l.blockerPanel&&(l.blockerPanel.on("transitionend",function(){l.blockerPanel.css("height","0px"),l.blockerPanel.css("position","static"),l.blockerPanel.css("z-index",-999999999999)}),l.blockerPanel.hasClass("fadedOut")?(l.blockerPanel.css("z-index",-999999999999),l.blockerPanel.css("position","static"),l.blockerPanel.css("height","0px")):l.blockerPanel.addClass("fadedOut")),a(document.documentElement,"nprogress-busy"),a(document.querySelector(c.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&s(e)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var d=function(){function e(){var i=t.shift();i&&i(e)}var t=[];return function(i){t.push(i),1==t.length&&e()}}(),u=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var i,n=r.length,a=e.charAt(0).toUpperCase()+e.slice(1);n--;)if(i=r[n]+a,i in t)return i;return e}function i(i){return i=e(i),a[i]||(a[i]=t(i))}function n(e,t,n){t=i(t),e.style[t]=n}var r=["Webkit","O","Moz","ms"],a={};return function(e,t){var i,r,a=arguments;if(2==a.length)for(i in t)r=t[i],void 0!==r&&t.hasOwnProperty(i)&&n(e,i,r);else n(e,a[1],a[2])}}();return l}),function(e){define("slimscroll",[],function(){return function(){!function(e){jQuery.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function r(t){if(d){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(w.parent())&&a(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function a(e,t,i){y=!1;var r=e,a=w.outerHeight()-x.outerHeight();t&&(r=parseInt(x.css("top"))+e*parseInt(n.wheelStep)/100*x.outerHeight(),r=Math.min(Math.max(r,0),a),r=e>0?Math.ceil(r):Math.floor(r),x.css({top:r+"px"})),g=parseInt(x.css("top"))/(w.outerHeight()-x.outerHeight()),r=g*(w[0].scrollHeight-w.outerHeight()),i&&(r=e,e=r/w[0].scrollHeight*w.outerHeight(),e=Math.min(Math.max(e,0),a),x.css({top:e+"px"})),w.scrollTop(r),w.trigger("slimscrolling",~~r),l(),c()}function o(){window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1),this.addEventListener("MozMousePixelScroll",null,!1)):document.attachEvent("onmousewheel",r)}function s(){m=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),x.css({height:m+"px"});var e=m==w.outerHeight()?"none":"block";x.css({display:e})}function l(){s(),clearTimeout(h),g==~~g?(y=n.allowPageScroll,v!=g&&w.trigger("slimscroll",0==~~g?"top":"bottom")):y=!1,v=g,m>=w.outerHeight()?y=!0:(x.stop(!0,!0).fadeIn("fast"),n.railVisible&&I.stop(!0,!0).fadeIn("fast"))}function c(){n.alwaysVisible||(h=setTimeout(function(){n.disableFadeOut&&d||u||p||(x.fadeOut("slow"),I.fadeOut("slow"))},1e3))}var d,u,p,h,f,m,g,v,b=30,y=!1,w=e(this);if(w.parent().hasClass(n.wrapperClass)){var C=w.scrollTop(),x=w.parent().find("."+n.barClass),I=w.parent().find("."+n.railClass);if(s(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var M=w.parent().parent().height();w.parent().css("height",M),w.css("height",M)}if("scrollTo"in i)C=parseInt(n.scrollTo);else if("scrollBy"in i)C+=parseInt(n.scrollBy);else if("destroy"in i)return x.remove(),I.remove(),void w.unwrap();a(C,!1,!0)}}else{n.height="auto"==n.height?w.parent().height():n.height,C=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),w.css({overflow:"hidden",width:n.width,height:n.height});var I=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),x=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),M="right"==n.position?{right:n.distance}:{left:n.distance};I.css(M),x.css(M),w.wrap(C),w.parent().append(x),w.parent().append(I),n.railDraggable&&x.bind("mousedown",function(i){var n=e(document);return p=!0,t=parseFloat(x.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),a(0,x.position().top,!1)
}),n.bind("mouseup.slimscroll",function(){p=!1,c(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),I.hover(function(){l()},function(){c()}),x.hover(function(){u=!0},function(){u=!1}),w.hover(function(){d=!0,l(),c()},function(){d=!1,c()}),w.bind("touchstart",function(e){e.originalEvent.touches.length&&(f=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){y||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(a((f-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=e.originalEvent.touches[0].pageY)}),s(),"bottom"===n.start?(x.css({top:w.outerHeight()-x.outerHeight()}),a(0,!0)):"top"!==n.start&&(a(e(n.start).position().top,null,!0),n.alwaysVisible||x.hide()),o()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery)}.apply(e,arguments)})}(this),function(e){define("slimscrollHorizontal",[],function(){return function(){!function(e){jQuery.fn.extend({slimScrollHorizontal:function(t){var i={wheelStep:20,height:"auto",width:"250px",size:"7px",color:"#000",position:"bottom",distance:"1px",start:"left",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:"0.2",railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,scroll:0,touchScrollStep:200},n=e.extend(i,t);return this.each(function(){function t(e,t,i){var o=e;if("auto"==w.css("left")&&w.css("left","0px"),t){o=parseInt(w.css("left"))+e*parseInt(n.wheelStep)/100*w.outerWidth();var s=v.outerWidth()-w.outerWidth();o=Math.min(Math.max(o,0),s),w.css({left:o+"px"})}if(p=parseInt(w.css("left"))/(v.outerWidth()-w.outerWidth()),o=p*(v[0].scrollWidth-v.outerWidth()),i){o=e;var l=o/v[0].scrollWidth*v.outerWidth();w.css({left:l+"px"})}v.scrollLeft(o),r(),a()}function i(){u=Math.max(v.outerWidth()/v[0].scrollWidth*v.outerWidth(),m),w.css({width:u+"px"})}function r(){if(i(),clearTimeout(c),p==~~p&&(g=n.allowPageScroll,h!=p)){var e=0==~~p?"left":"right";v.trigger("slimscroll",e)}return h=p,u>=v.outerWidth()?void(g=!0):(w.stop(!0,!0).fadeIn("fast"),void(n.railVisible&&y.stop(!0,!0).fadeIn("fast")))}function a(){n.alwaysVisible||(c=setTimeout(function(){n.disableFadeOut&&o||s||l||(w.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var o,s,l,c,d,u,p,h,f="<div></div>",m=30,g=!1,v=e(this);if(v.parent().hasClass("slimScrollDiv"))return void(scroll&&(w=v.parent().find(".slimScrollBar"),y=v.parent().find(".slimScrollRail"),t(v.scrollLeft()+parseInt(scroll),!1,!0)));var b=e(f).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});v.css({overflow:"hidden",width:n.width,height:n.height});var y=e(f).addClass(n.railClass).css({width:"100%",height:n.size,position:"absolute",bottom:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.size,background:n.railColor,opacity:n.railOpacity,zIndex:90}),w=e(f).addClass(n.barClass).css({background:n.color,height:n.size,position:"absolute",bottom:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.size,BorderRadius:n.size,MozBorderRadius:n.size,WebkitBorderRadius:n.size,zIndex:99}),C="top"==n.position?{top:n.distance}:{bottom:n.distance};y.css(C),w.css(C),v.wrap(b),v.parent().append(w),v.parent().append(y),w.draggable({axis:"x",containment:"parent",start:function(){l=!0},stop:function(){l=!1,a()},drag:function(){t(0,e(this).position().left,!1)}}),y.hover(function(){r()},function(){a()}),w.hover(function(){s=!0},function(){s=!1}),v.hover(function(){o=!0,r(),a()},function(){o=!1,a()}),v.bind("touchstart",function(e){e.originalEvent.touches.length&&(d=e.originalEvent.touches[0].pageX)}),v.bind("touchmove",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.touches.length){var i=(d-e.originalEvent.touches[0].pageX)/n.touchScrollStep;t(i,!0)}});var x=function(e){if(o){var e=e||window.event,i=0;e.wheelDelta&&(i=-e.wheelDelta/120),e.detail&&(i=e.detail/3),t(i,!0),e.preventDefault&&!g&&e.preventDefault(),g||(e.returnValue=!1)}},I=function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",x,!1),this.addEventListener("mousewheel",x,!1)):document.attachEvent("onmousewheel",x)};I(),i(),"right"==n.start?(w.css({left:v.outerWidth()-w.outerWidth()}),t(0,!0)):"object"==typeof n.start&&(t(e(n.start).position().left,null,!0),n.alwaysVisible||w.hide())}),this}}),jQuery.fn.extend({slimscrollHorizontal:jQuery.fn.slimScrollHorizontal})}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jqueryGritter",[],function(){return function(){!function(e){e.gritter={},e.gritter.options={position:"",class_name:"",icon:"",close_icon:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return t.add(e||{})}catch(i){var n="Gritter Error: "+i;"undefined"!=typeof console&&console.error?console.error(n,e):alert(n)}},e.gritter.remove=function(e,i){t.removeSpecific(e,i||{})},e.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",close_icon:"",icon:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1"></a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),null===i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var n=i.title,r=i.text,a=i.image||"",o=i.sticky||!1,s=i.class_name||e.gritter.options.class_name,l=i.icon||e.gritter.options.icon,c=i.close_icon||e.gritter.options.close_icon,d=e.gritter.options.position,u=i.time||"";this._verifyWrapper(),this._item_count++;var p=this._item_count,h=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(n,r){t["_"+r+"_"+p]=e.isFunction(i[r])?i[r]:function(){}}),this._custom_timer=0,u&&(this._custom_timer=u);var f=""!=a?'<img src="'+a+'" class="gritter-image" />':"",m=""!=a?"gritter-with-image":"gritter-without-image";if(""==a)var f='<i class="'+l+' gritter-icon"></i>';if(n=n?this._str_replace("[[title]]",n,this._tpl_title):"",h=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[n,r,this._tpl_close,f,this._item_count,m,s],h),this["_before_open_"+p]()===!1)return!1;e("#gritter-notice-wrapper").addClass(d).append(h);var g=e("#gritter-item-"+this._item_count);return g.fadeIn(this.fade_in_speed,function(){t["_after_open_"+p](e(this))}),o||this._setFadeTimer(g,p),e(g).find(".gritter-close").append('<i class="'+c+'"></i>'),e(g).find(".gritter-close").click(function(){return t.removeSpecific(p,{},null,!0),!1}),p},_countRemoveWrapper:function(t,i,n){i.remove(),this["_after_close_"+t](i,n),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,i,n,r){var n=n||{},a="undefined"!=typeof n.fade?n.fade:!0,o=n.speed||this.fade_out_speed,s=r;this["_before_close_"+i](e,s),r&&e.unbind("mouseenter mouseleave"),a?e.animate({opacity:0},o,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(i,e,s)})}):this._countRemoveWrapper(i,e)},_hoverState:function(e,t){"mouseenter"==t?(e.addClass("hover"),e.find(".gritter-close").show()):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,i,n,r){if(!n)var n=e("#gritter-item-"+t);this._fade(n,t,i||{},r)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,i){var n=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(e,i)},n)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},n=e.isFunction(t.after_close)?t.after_close:function(){},r=e("#gritter-notice-wrapper");i(r),r.fadeOut(function(){e(this).remove(),n()})},_str_replace:function(e,t,i,n){var r=0,a=0,o="",s="",l=0,c=0,d=[].concat(e),u=[].concat(t),p=i,h=u instanceof Array,f=p instanceof Array;for(p=[].concat(p),n&&(this.window[n]=0),r=0,l=p.length;l>r;r++)if(""!==p[r])for(a=0,c=d.length;c>a;a++)o=p[r]+"",s=h?void 0!==u[a]?u[a]:"":u[0],p[r]=o.split(d[a]).join(s),n&&p[r]!==o&&(this.window[n]+=(o.length-p[r].length)/d[a].length);return f?p:p[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery)}.apply(e,arguments)})}(this),function(e){define("metisMenu",[],function(){return function(){!function(e){function t(){var e=document.createElement("mm"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}function i(t){return this.each(function(){var i=e(this),n=i.data("mm"),a=e.extend({},r.DEFAULTS,i.data(),"object"==typeof t&&t);n||i.data("mm",n=new r(this,a)),"string"==typeof t&&n[t]()})}e.fn.emulateTransitionEnd=function(t){var i=!1,r=this;e(this).one("mmTransitionEnd",function(){i=!0});var a=function(){i||e(r).trigger(n.end)};return setTimeout(a,t),this};var n=t();n&&(e.event.special.mmTransitionEnd={bindType:n.end,delegateType:n.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}});var r=function(t,i){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,i),this.transitioning=null,this.options.toggle,this.init()};r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,doubleTapToGo:!1},r.prototype.init=function(){var t=this;this.$element.find("li.active").has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not(".active").has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(i){var n=e(this),r=n.parent("li"),a=r.children("ul");return i.preventDefault(),r.hasClass("active")?t.hide(a):t.show(a),t.options.doubleTapToGo&&t.doubleTapToGo(n)&&"#"!==n.attr("href")&&""!==n.attr("href")?(i.stopPropagation(),void(document.location=n.attr("href"))):void 0})},r.prototype.doubleTapToGo=function(e){var t=this.$element;return e.hasClass("doubleTapToGo")?(e.removeClass("doubleTapToGo"),!0):e.parent().children("ul").length?(t.find(".doubleTapToGo").removeClass("doubleTapToGo"),e.addClass("doubleTapToGo"),!1):void 0},r.prototype.show=function(t){var i=e(t),a=i.parent("li");if(!this.transitioning&&!i.hasClass("in")){a.addClass("active"),this.options.toggle&&this.hide(a.siblings().children("ul.in")),i.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var o=function(){i.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return n?void i.one("mmTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(r.TRANSITION_DURATION).height(i[0].scrollHeight):o.call(this)}},r.prototype.hide=function(t){var i=e(t);if(!this.transitioning&&i.hasClass("in")){i.parent("li").removeClass("active"),i.height(i.height())[0].offsetHeight,i.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,i.removeClass("collapsing").addClass("collapse")};return n?void i.height(0).one("mmTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(r.TRANSITION_DURATION):a.call(this)}};var a=e.fn.metisMenu;e.fn.metisMenu=i,e.fn.metisMenu.Constructor=r,e.fn.metisMenu.noConflict=function(){return e.fn.metisMenu=a,this}}(jQuery)}.apply(e,arguments)})}(this),function(e){define("editable",[],function(){return function(){!function(e){var t=function(t,i){this.options=e.extend({},e.fn.editableform.defaults,i),this.$div=e(t),this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=e(e.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),e.when(this.input.render()).then(e.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(e){e.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;this.$form?(e=this.$form.outerWidth(),t=this.$form.outerHeight(),e&&this.$loading.width(e),t&&this.$loading.height(t),this.$form.hide()):(e=this.$loading.parent().width(),e&&this.$loading.width(e)),this.$loading.show()},showForm:function(e){this.$loading.hide(),this.$form.show(),e!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var i,n=this.$form.find(".control-group"),r=this.$form.find(".editable-error-block");if(t===!1)n.removeClass(e.fn.editableform.errorGroupClass),r.removeClass(e.fn.editableform.errorBlockClass).empty().hide();else{if(t){i=(""+t).split("\n");for(var a=0;a<i.length;a++)i[a]=e("<div>").text(i[a]).html();t=i.join("<br>")}n.addClass(e.fn.editableform.errorGroupClass),r.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var i=this.input.input2value(),n=this.validate(i);if("object"===e.type(n)&&void 0!==n.newValue){if(i=n.newValue,this.input.value2input(i),"string"==typeof n.msg)return this.error(n.msg),void this.showForm()}else if(n)return this.error(n),void this.showForm();if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var r=this.input.value2submit(i);this.isSaving=!0,e.when(this.save(r)).done(e.proxy(function(e){this.isSaving=!1;var t="function"==typeof this.options.success?this.options.success.call(this.options.scope,e,i):null;return t===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof t?(this.error(t),void this.showForm()):(t&&"object"==typeof t&&t.hasOwnProperty("newValue")&&(i=t.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:r,response:e}))},this)).fail(e.proxy(function(e){this.isSaving=!1;var t;t="function"==typeof this.options.error?this.options.error.call(this.options.scope,e,i):"string"==typeof e?e:e.responseText||e.statusText||"Unknown error!",this.error(t),this.showForm()},this))},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,r=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n));return r?(this.showLoading(),i={name:this.options.name||"",value:t,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=e.fn.editableutils.tryParseJson(this.options.params,!0),e.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):e.ajax(e.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(e){return void 0===e&&(e=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,e):void 0},option:function(e,t){e in this.options&&(this.options[e]=t),"value"===e&&this.setValue(t)},setValue:function(e,t){this.value=t?this.input.str2value(e):e,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},e.fn.editableform=function(i){var n=arguments;return this.each(function(){var r=e(this),a=r.data("editableform"),o="object"==typeof i&&i;a||r.data("editableform",a=new t(this,o)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(n,1))})},e.fn.editableform.Constructor=t,e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},e.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',e.fn.editableform.loading='<div class="editableform-loading"></div>',e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',e.fn.editableform.errorGroupClass=null,e.fn.editableform.errorBlockClass="editable-error",e.fn.editableform.engine="jquery"}(window.jQuery),function(e){e.fn.editableutils={inherit:function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},tryParseJson:function(e,t){if("string"==typeof e&&e.length&&e.match(/^[\{\[].*[\}\]]$/))if(t)try{e=new Function("return "+e)()}catch(i){}finally{return e}else e=new Function("return "+e)();return e},sliceObj:function(t,i,n){var r,a,o={};if(!e.isArray(i)||!i.length)return o;for(var s=0;s<i.length;s++)r=i[s],t.hasOwnProperty(r)&&(o[r]=t[r]),n!==!0&&(a=r.toLowerCase(),t.hasOwnProperty(a)&&(o[r]=t[a]));return o},getConfigData:function(t){var i={};return e.each(t.data(),function(e,t){("object"!=typeof t||t&&"object"==typeof t&&(t.constructor===Object||t.constructor===Array))&&(i[e]=t)}),i},objectKeys:function(e){if(Object.keys)return Object.keys(e);if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,i,n){if(!i||null===t)return[];if("function"!=typeof n){var r=n||"value";n=function(e){return e[r]}}var a=e.isArray(t),o=[],s=this;return e.each(i,function(i,r){if(r.children)o=o.concat(s.itemsByValue(t,r.children,n));else if(a)e.grep(t,function(e){return e==(r&&"object"==typeof r?n(r):r)}).length&&o.push(r);else{var l=r&&"object"==typeof r?n(r):r;t==l&&o.push(r)}}),o},createInput:function(t){var i,n,r,a=t.type;return"date"===a&&("inline"===t.mode?e.fn.editabletypes.datefield?a="datefield":e.fn.editabletypes.dateuifield&&(a="dateuifield"):e.fn.editabletypes.date?a="date":e.fn.editabletypes.dateui&&(a="dateui"),"date"!==a||e.fn.editabletypes.date||(a="combodate")),"datetime"===a&&"inline"===t.mode&&(a="datetimefield"),"wysihtml5"!==a||e.fn.editabletypes[a]||(a="textarea"),"function"==typeof e.fn.editabletypes[a]?(i=e.fn.editabletypes[a],n=this.sliceObj(t,this.objectKeys(i.defaults)),r=new i(n)):(e.error("Unknown type: "+a),!1)},supportsTransitions:function(){var e=document.body||document.documentElement,t=e.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<n.length;r++)if("string"==typeof t[n[r]+i])return!0;return!1}}}(window.jQuery),function(e){var t=function(e,t){this.init(e,t)},i=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=e(i),this.options=e.extend({},e.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",e.proxy(function(){this.destroy()},this)),e(document).data("editable-handlers-attached")||(e(document).on("keyup.editable",function(t){27===t.which&&e(".editable-open").editableContainer("hide")}),e(document).on("click.editable",function(i){var n,r=e(i.target),a=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(e.contains(document.documentElement,i.target)&&!r.is(document)){for(n=0;n<a.length;n++)if(r.is(a[n])||r.parents(a[n]).length)return;t.prototype.closeOthers(i.target)}}),e(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!e.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;return this.containerDataName&&(e=this.$element.data(this.containerDataName))?e:e=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),t!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=e("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(e){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:e});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",e||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(e){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(e)},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t),this.hide("save")},option:function(e,t){this.options[e]=t,e in this.containerOptions?(this.containerOptions[e]=t,this.setContainerOption(e,t)):(this.formOptions[e]=t,this.$form&&this.$form.editableform("option",e,t))},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(i,n){if(n!==t&&!e(n).find(t).length){var r=e(n),a=r.data("editableContainer");a&&("cancel"===a.options.onblur?r.data("editableContainer").hide("onblur"):"submit"===a.options.onblur&&r.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},e.fn.editableContainer=function(n){var r=arguments;return this.each(function(){var a=e(this),o="editableContainer",s=a.data(o),l="object"==typeof n&&n,c="inline"===l.mode?i:t;s||a.data(o,s=new c(this,l)),"string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(r,1))})},e.fn.editableContainer.Popup=t,e.fn.editableContainer.Inline=i,e.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(window.jQuery),function(e){e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(e){var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.editable.defaults,i,e.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!e.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var t,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=e.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(e.trim(this.$element.html())),i=!0):(this.options.value=e.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(this.options.disabled||e.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var t="click"!==this.options.toggle;this.toggle(t)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!e.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:t=!1}e.when(t?this.render():!0).then(e.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var i=e(t.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(t))},this))},render:function(e){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,e):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,e):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,i){return t&&"object"==typeof t?void e.each(t,e.proxy(function(t,i){this.option(e.trim(t),i)},this)):(this.options[t]=i,"disabled"===t?i?this.disable():this.enable():("value"===t&&this.setValue(i),this.container&&this.container.option(t,i),void(this.input.option&&this.input.option(t,i))))},handleEmpty:function(t){this.options.display!==!1&&(this.isEmpty=void 0!==t?t:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===e.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",e.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(e){this.container&&this.container.tip().is(":visible")?this.hide():this.show(e)},save:function(e,t){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||this.options.display===!1,i=i||void 0!==t.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,r=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===r&&(r=""),n.css("background-color",r),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,!1,t.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(t,i,n){this.value=i?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),e.when(this.render(n)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},e.fn.editable=function(i){var n={},r=arguments,a="editable";switch(i){case"validate":return this.each(function(){var t,i=e(this),r=i.data(a);r&&(t=r.validate())&&(n[r.options.name]=t)}),n;case"getValue":return 2===arguments.length&&arguments[1]===!0?n=this.eq(0).data(a).value:this.each(function(){var t=e(this),i=t.data(a);i&&void 0!==i.value&&null!==i.value&&(n[i.options.name]=i.input.value2submit(i.value))}),n;case"submit":var o=arguments[1]||{},s=this,l=this.editable("validate");if(e.isEmptyObject(l)){var c={};if(1===s.length){var d=s.data("editable"),u={name:d.options.name||"",value:d.input.value2submit(d.value),pk:"function"==typeof d.options.pk?d.options.pk.call(d.options.scope):d.options.pk};
"function"==typeof d.options.params?u=d.options.params.call(d.options.scope,u):(d.options.params=e.fn.editableutils.tryParseJson(d.options.params,!0),e.extend(u,d.options.params)),c={url:d.options.url,data:u,type:"POST"},o.success=o.success||d.options.success,o.error=o.error||d.options.error}else{var p=this.editable("getValue");c={url:o.url,data:p,type:"POST"}}c.success="function"==typeof o.success?function(e){o.success.call(s,e,o)}:e.noop,c.error="function"==typeof o.error?function(){o.error.apply(s,arguments)}:e.noop,o.ajaxOptions&&e.extend(c,o.ajaxOptions),o.data&&e.extend(c.data,o.data),e.ajax(c)}else"function"==typeof o.error&&o.error.call(s,l);return this}return this.each(function(){var n=e(this),o=n.data(a),s="object"==typeof i&&i;return s&&s.selector?void(o=new t(this,s)):(o||n.data(a,o=new t(this,s)),void("string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(r,1))))})},e.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(e){e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,n){this.type=t,this.options=e.extend({},n,i)},prerender:function(){this.$tpl=e(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,i){e(i)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(e){void 0!==this.options[e]&&null!==this.options[e]&&this.$input.attr(e,this.options[e])},option:function(e,t){this.options[e]=t}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},e.extend(e.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(e){var t=function(){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){var t=e.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(){return null},value2html:function(t,i,n,r){var a=e.Deferred(),o=function(){"function"==typeof n?n.call(i,t,this.sourceData,r):this.value2htmlFinal(t,i),a.resolve()};return null===t?o.call(this):this.onSourceReady(o,function(){a.resolve()}),a.promise()},onSourceReady:function(t,i){var n;if(e.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&e.isArray(this.sourceData))return void t.call(this);try{n=e.fn.editableutils.tryParseJson(n,!1)}catch(r){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var a,o=n;if(e(document).data(o)||e(document).data(o,{}),a=e(document).data(o),a.loading===!1&&a.sourceData)return this.sourceData=a.sourceData,this.doPrepend(),void t.call(this);if(a.loading===!0)return a.callbacks.push(e.proxy(function(){this.sourceData=a.sourceData,this.doPrepend(),t.call(this)},this)),void a.err_callbacks.push(e.proxy(i,this));a.loading=!0,a.callbacks=[],a.err_callbacks=[]}var s=e.extend({url:n,type:"get",cache:!1,dataType:"json",success:e.proxy(function(n){a&&(a.loading=!1),this.sourceData=this.makeArray(n),e.isArray(this.sourceData)?(a&&(a.sourceData=this.sourceData,e.each(a.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(i.call(this),a&&e.each(a.err_callbacks,function(){this.call()}))},this),error:e.proxy(function(){i.call(this),a&&(a.loading=!1,e.each(a.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);e.ajax(s)}else this.sourceData=this.makeArray(n),e.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(e.isArray(this.prependData)||(e.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),e.isArray(this.prependData)&&e.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var i,n,r,a,o=[];if(!t||"string"==typeof t)return null;if(e.isArray(t)){a=function(e,t){return n={value:e,text:t},i++>=2?!1:void 0};for(var s=0;s<t.length;s++)r=t[s],"object"==typeof r?(i=0,e.each(r,a),1===i?o.push(n):i>1&&(r.children&&(r.children=this.makeArray(r.children)),o.push(r))):o.push({value:r,text:r})}else e.each(t,function(e,t){o.push({value:e,text:t})});return o},option:function(e,t){this.options[e]=t,"source"===e&&(this.sourceData=null),"prepend"===e&&(this.prependData=null)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),e.fn.editabletypes.list=t}(window.jQuery),function(e){var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=e('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(!~e.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(e.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var e=this.$input.val().length,t=this.$clear.is(":visible");e&&!t&&this.$clear.show(),!e&&t&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),e.fn.editabletypes.text=t}(window.jQuery),function(e){var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=t}(window.jQuery),function(e){var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,n){var r;if(e.isArray(n))for(var a=0;a<n.length;a++)r={},n[a].children?(r.label=n[a].text,i.append(t(e("<optgroup>",r),n[a].children))):(r.value=n[a].value,n[a].disabled&&(r.disabled=!0),i.append(e("<option>",r).text(n[a].text)));return i};t(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&e(this).closest("form").submit()})},value2htmlFinal:function(t,i){var n="",r=e.fn.editableutils.itemsByValue(t,this.sourceData);r.length&&(n=r[0].text),e.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),e.fn.editabletypes.select=t}(window.jQuery),function(e){var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){var t;if(this.$tpl.empty(),e.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(e("<span>").text(" "+this.sourceData[i].text)),e("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var i,n=null;return"string"==typeof t&&t.length?(i=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*"),n=t.split(i)):n=e.isArray(t)?t:[t],n},value2input:function(t){this.$input.prop("checked",!1),e.isArray(t)&&t.length&&this.$input.each(function(i,n){var r=e(n);e.each(t,function(e,t){r.val()==t&&r.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(i,n){t.push(e(n).val())}),t},value2htmlFinal:function(t,i){var n=[],r=e.fn.editableutils.itemsByValue(t,this.sourceData),a=this.options.escape;r.length?(e.each(r,function(t,i){var r=a?e.fn.editableutils.escape(i.text):i.text;n.push(r)}),e(i).html(n.join("<br>"))):e(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),e.fn.editabletypes.checklist=t}(window.jQuery),function(e){var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{value2html:function(t,i){t?e(i).text("[hidden]"):e(i).empty()},html2value:function(){return null}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),e.fn.editabletypes.password=t}(window.jQuery),function(e){var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),e.fn.editabletypes.email=t}(window.jQuery),function(e){var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),e.fn.editabletypes.url=t}(window.jQuery),function(e){var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),e.fn.editabletypes.tel=t}(window.jQuery),function(e){var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{render:function(){t.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),e.fn.editabletypes.number=t}(window.jQuery),function(e){var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}}),t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),e.fn.editabletypes.range=t}(window.jQuery),function(e){var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),e.fn.editabletypes.time=t}(window.jQuery),function(e){var t=function(i){if(this.init("select2",i,t.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;e.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(e){return{query:e}}),i.select2.ajax.results||(i.select2.ajax.results=function(e){return{results:e}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=e.extend({},t.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var r=this.idFunc||"id";this.idFunc=function(e){return e[r]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this)),this.isMultiple&&this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,n){var r,a="",o=this;this.options.select2.tags?r=i:this.sourceData&&(r=e.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),e.isArray(r)?(a=[],e.each(r,function(e,t){a.push(t&&"object"==typeof t?o.formatSelection(t):t)})):r&&(a=o.formatSelection(r)),a=e.isArray(a)?a.join(this.options.viewseparator):a,t.superclass.value2html.call(this,a,n)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var r=e(this.options.scope);if(!r.data("editable").isEmpty){var a={id:t,text:r.text()};this.$input.select2("data",a)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if("string"!=typeof t||!this.isMultiple)return t;i=i||this.getSeparator();var n,r,a;if(null===t||t.length<1)return null;for(n=t.split(i),r=0,a=n.length;a>r;r+=1)n[r]=e.trim(n[r]);return n},autosubmit:function(){this.$input.on("change",function(t,i){i||e(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&void 0!==t[0].value)for(var i=0;i<t.length;i++)void 0!==t[i].value&&(t[i].id=t[i].value,delete t[i].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),e.fn.editabletypes.select2=t}(window.jQuery),function(e){var t=function(t,i){return this.$element=e(t),this.$element.is("input")?(this.options=e.extend({},e.fn.combodate.defaults,i,this.$element.data()),void this.init()):void e.error("Combodate should be applied to INPUT element")};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=e('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&(e(t.target).is(".month")||e(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return e.each(this.map,function(e,i){i=i[0];var n=new RegExp(i+"+"),r=i.length>1?i.substring(1,2):i;t=t.replace(n,"{"+r+"}")}),t=t.replace(/ /g,"&nbsp;"),e.each(this.map,function(e,i){i=i[0];var n=i.length>1?i.substring(1,2):i;t=t.replace("{"+n+"}",'<select class="'+e+'"></select>')}),t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var i="fill"+e.charAt(0).toUpperCase()+e.slice(1),n=this[i](),r=t.val();t.empty();for(var a=0;a<n.length;a++)t.append('<option value="'+n[a][0]+'">'+n[a][1]+"</option>");t.val(r)}},fillCommon:function(e){var t,i=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var e,t,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),r=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(r=moment([o,a]).daysInMonth())}for(t=1;r>=t;t++)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillMonth:function(){var e,t,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(t=0;11>=t;t++)e=n?moment().date(1).month(t).format("MMMM"):r?moment().date(1).month(t).format("MMM"):a?this.leadZero(t+1):t+1,i.push([t,e]);return i},fillYear:function(){var e,t,i=[],n=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=n?t:(t+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([t,e]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var e,t,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),r=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=n?1:0,o=n?12:23;for(t=a;o>=t;t++)e=r?this.leadZero(t):t,i.push([t,e]);return i},fillMinute:function(){var e,t,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(t=0;59>=t;t+=this.options.minuteStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillSecond:function(){var e,t,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(t=0;59>=t;t+=this.options.secondStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a"),t=(-1!==this.options.template.indexOf("A"),[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]);return t},getValue:function(t){var i,n={},r=this,a=!1;return e.each(this.map,function(e){if("ampm"!==e){var t="day"===e?1:0;return n[e]=r["$"+e]?parseInt(r["$"+e].val(),10):t,isNaN(n[e])?(a=!0,!1):void 0}}),a?"":(this.$ampm&&(n.hour=12===n.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),t=void 0===t?this.options.format:t,null===t?i.isValid()?i:null:i.isValid()?i.format(t):"")},setValue:function(t){function i(t,i){var n={};return t.children("option").each(function(t,r){var a,o=e(r).attr("value");""!==o&&(a=Math.abs(o-i),("undefined"==typeof n.distance||a<n.distance)&&(n={value:o,distance:a}))}),n.value}if(t){var n="string"==typeof t?moment(t,this.options.format):moment(t),r=this,a={};n.isValid()&&(e.each(this.map,function(e,t){"ampm"!==e&&(a[e]=n[t[1]]())}),this.$ampm&&(a.hour>=12?(a.ampm="pm",a.hour>12&&(a.hour-=12)):(a.ampm="am",0===a.hour&&(a.hour=12))),e.each(a,function(e,t){r["$"+e]&&("minute"===e&&r.options.minuteStep>1&&r.options.roundTime&&(t=i(r["$"+e],t)),"second"===e&&r.options.secondStep>1&&r.options.roundTime&&(t=i(r["$"+e],t)),r["$"+e].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).change())}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return 9>=e?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},e.fn.combodate=function(i){var n,r=Array.apply(null,arguments);return r.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,r):this.each(function(){var n=e(this),a=n.data("combodate"),o="object"==typeof i&&i;a||n.data("combodate",a=new t(this,o)),"string"==typeof i&&"function"==typeof a[i]&&a[i].apply(a,r)})},e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(e){var t=function(i){this.init("combodate",i,t.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=e.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=e.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(e,i){var n=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=t}(window.jQuery),function(e){var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var i=null===this.input.options.inputclass||this.input.options.inputclass===!1,n="input-sm",r="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~e.inArray(this.input.type,r)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass=n,this.input.$input.addClass(n)));for(var a=this.$form.find(".editable-buttons"),o=i?[n]:this.input.options.inputclass.split(" "),s=0;s<o.length;s++)"input-lg"===o[s].toLowerCase()&&a.find("button").removeClass("btn-sm").addClass("btn-lg")}}),e.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',e.fn.editableform.errorGroupClass="has-error",e.fn.editableform.errorBlockClass=null,e.fn.editableform.engine="bs3"}(window.jQuery),function(e){e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){e.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){(function(){var e=this.tip(),t="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,n=i.test(t);n&&(t=t.replace(i,"")||"top");var r=this.getPosition(),a=e[0].offsetWidth,o=e[0].offsetHeight;if(n){var s=this.$element.parent(),l=t,c=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:s.outerWidth(),u="body"==this.options.container?window.innerHeight:s.outerHeight(),p="body"==this.options.container?0:s.offset().left;t="bottom"==t&&r.top+r.height+o-c>u?"top":"top"==t&&r.top-c-o<0?"bottom":"right"==t&&r.right+a>d?"left":"left"==t&&r.left-a<p?"right":t,e.removeClass(l).addClass(t)}var h=this.getCalculatedOffset(t,r,a,o);this.applyPlacement(h,t)}).call(this.container())}})}(window.jQuery),function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(t,i){var n,r=e(t).data(),a={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var s in r)i.test(s)&&(n=s.replace(o,function(e,t){return t.toLowerCase()}),a[n]=r[s]);return a}function n(t){var i={};if(d[t]||(t=t.split("-")[0],d[t])){var n=d[t];return e.each(c,function(e,t){t in n&&(i[t]=n[t])}),i}}var r=function(t,i){this._process_options(i),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};r.prototype={constructor:r,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),n=i.language;switch(d[n]||(n=n.split("-")[0],d[n]||(n=l.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var r=u.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=u.parseDate(i.startDate,r,i.language)),1/0!==i.endDate&&(i.endDate=u.parseDate(i.endDate,r,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],e.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.on(i)},_unapplyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,r=new Date(n.getTime()+6e4*n.getTimezoneOffset());this.element.trigger({type:t,date:r,format:e.proxy(function(e){var t=e||this.o.format;return u.formatDate(n,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e)},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),u.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:t})
}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(e,this.o.format,this.o.language),t&&this.setValue(),this.viewDate=new Date(this.date<this.o.startDate?this.o.startDate:this.date>this.o.endDate?this.o.endDate:this.date),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+d[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+d[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a=this.date.valueOf(),o=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<r?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>r)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==o.getFullYear()&&t.getUTCMonth()==o.getMonth()&&t.getUTCDate()==o.getDate()&&i.push("today"),a&&t.valueOf()==a&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){{var i,n=new Date(this.viewDate),r=n.getUTCFullYear(),a=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf()}this.picker.find(".datepicker-days thead th.datepicker-switch").text(d[this.o.language].months[a]+" "+r),this.picker.find("tfoot th.today").text(d[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=t(r,a-1,28,0,0,0,0),h=u.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(h),p.setUTCDate(h-(p.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(p);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];p.valueOf()<f;){if(p.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),b=new Date(+v+(11-v.getUTCDay())%7*864e5),y=new Date(+(y=t(b.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),w=(b-y)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(p),m.push("day");var C=this.o.beforeShowDay(p);void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&m.push("disabled"),C.classes&&(m=m.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip),m=e.unique(m),g.push('<td class="'+m.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var x=this.date&&this.date.getUTCFullYear(),I=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");x&&x==r&&I.eq(this.date.getUTCMonth()).addClass("active"),(o>r||r>l)&&I.addClass("disabled"),r==o&&I.slice(0,s).addClass("disabled"),r==l&&I.slice(c+1).addClass("disabled"),g="",r=10*parseInt(r/10,10);var M=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var A=-1;11>A;A++)g+='<span class="year'+(-1==A?" old":10==A?" new":"")+(x==r?" active":"")+(o>r||r>l?" disabled":"")+'">'+r+"</span>",r+=1;M.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(i){i.preventDefault();var n=e(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=u.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r)}this.fill();break;case"today":var a=new Date;a=t(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var o="linked"==this.o.todayBtn?null:"view";this._setDate(a,o);break;case"clear":var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=1,c=n.parent().find("span").index(n),d=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}else{var d=parseInt(n.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(d),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1,d=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();n.is(".old")?0===c?(c=11,d-=1):c-=1:n.is(".new")&&(11==c?(c=0,d+=1):c+=1),this._setDate(t(d,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var i,n,r=new Date(e.valueOf()),a=r.getUTCDate(),o=r.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1==s)n=-1==t?function(){return r.getUTCMonth()==o}:function(){return r.getUTCMonth()!=i},i=o+t,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;s>l;l++)r=this.moveMonth(r,t);i=r.getUTCMonth(),r.setUTCDate(a),n=function(){return i!=r.getUTCMonth()}}for(;n();)r.setUTCDate(--a),r.setUTCMonth(i);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,i,n,r=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*t),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(r){this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var a=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};a.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker"),n=i.getUTCDate(),r=e.inArray(t.target,this.inputs),a=this.inputs.length;if(-1!=r){if(n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[r])for(;a>r&&n>this.dates[r];)this.pickers[r++].setUTCDate(n);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var o=e.fn.datepicker,s=e.fn.datepicker=function(t){var o=Array.apply(null,arguments);o.shift();var s;return this.each(function(){var c=e(this),d=c.data("datepicker"),u="object"==typeof t&&t;if(!d){var p=i(this,"date"),h=e.extend({},l,p,u),f=n(h.language),m=e.extend({},l,f,p,u);if(c.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||c.find("input").toArray()};c.data("datepicker",d=new a(this,e.extend(m,g)))}else c.data("datepicker",d=new r(this,m))}return"string"==typeof t&&"function"==typeof d[t]&&(s=d[t].apply(d,o),void 0!==s)?!1:void 0}),void 0!==s?s:this},l=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=r;var d=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,u.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,n,a){if(i instanceof Date)return i;if("string"==typeof n&&(n=u.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var o,s,l=/([\-+]\d+)([dmwy])/,c=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var p=0;p<c.length;p++)switch(o=l.exec(c[p]),s=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+s);break;case"m":i=r.prototype.moveMonth.call(r.prototype,i,s);break;case"w":i.setUTCDate(i.getUTCDate()+7*s);break;case"y":i=r.prototype.moveYear.call(r.prototype,i,s)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var h,f,o,c=i&&i.match(this.nonpunctuation)||[],i=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=n.parts.slice();if(c.length!=b.length&&(b=e(b).filter(function(t,i){return-1!==e.inArray(i,g)}).toArray()),c.length==b.length){for(var p=0,y=b.length;y>p;p++){if(h=parseInt(c[p],10),o=b[p],isNaN(h))switch(o){case"MM":f=e(d[a].months).filter(function(){var e=this.slice(0,c[p].length),t=c[p].slice(0,e.length);return e==t}),h=e.inArray(f[0],d[a].months)+1;break;case"M":f=e(d[a].monthsShort).filter(function(){var e=this.slice(0,c[p].length),t=c[p].slice(0,e.length);return e==t}),h=e.inArray(f[0],d[a].monthsShort)+1}m[o]=h}for(var w,p=0;p<g.length;p++)w=g[p],w in m&&!isNaN(m[w])&&v[w](i,m[w])}return i},formatDate:function(t,i,n){"string"==typeof i&&(i=u.parseFormat(i));var r={d:t.getUTCDate(),D:d[n].daysShort[t.getUTCDay()],DD:d[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:d[n].monthsShort[t.getUTCMonth()],MM:d[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;for(var t=[],a=e.extend([],i.separators),o=0,s=i.parts.length;s>=o;o++)a.length&&t.push(a.shift()),t.push(r[i.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=u,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=o,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),s.call(i,"show"))}),e(function(){s.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){e.fn.bdatepicker=e.fn.datepicker.noConflict(),e.fn.datepicker||(e.fn.datepicker=e.fn.bdatepicker);var t=function(e){this.init("date",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=e.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=e.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var n=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!e(t.currentTarget).is(".old")&&!e(t.currentTarget).is(".new")){var i=e(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(e,t){var i,n=null;return e&&(n=this.dpg.parseDate(e,t,this.options.datepicker.language),"string"==typeof e&&(i=this.dpg.formatDate(n,t,this.options.datepicker.language),e!==i&&(n=null))),n}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.date=t}(window.jQuery),function(e){var t=function(e){this.init("datefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),e.fn.editabletypes.datefield=t}(window.jQuery),function(e){var t=function(e){this.init("datetime",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=e.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=e.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var t=e(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var n=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void t.superclass.value2html.call(this,n,i):n},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){e&&this.$input.data("datetimepicker").setDate(e)},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=e(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-6e4*e.getTimezoneOffset()):e},fromUTC:function(e){return e?new Date(e.valueOf()+6e4*e.getTimezoneOffset()):e},parseDate:function(e,t){var i,n=null;return e&&(n=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType),"string"==typeof e&&(i=this.dpg.formatDate(n,t,this.options.datetimepicker.language,this.options.formatType),e!==i&&(n=null))),n}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.datetime=t}(window.jQuery),function(e){var t=function(e){this.init("datetimefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),e.fn.editabletypes.datetimefield=t}(window.jQuery)}.apply(e,arguments)})}(this),function(e){define("underscore",[],function(){return function(){return function(){var e=this,t=e._,i={},n=Array.prototype,r=Object.prototype,a=Function.prototype,o=n.push,s=n.slice,l=n.concat,c=r.toString,d=r.hasOwnProperty,u=n.forEach,p=n.map,h=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,b=n.indexOf,y=n.lastIndexOf,w=Array.isArray,C=Object.keys,x=a.bind,I=function(e){return e instanceof I?e:this instanceof I?void(this._wrapped=e):new I(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=I),exports._=I):e._=I,I.VERSION="1.5.1";var M=I.each=I.forEach=function(e,t,n){if(null!=e)if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o in e)if(I.has(e,o)&&t.call(n,e[o],o,e)===i)return};I.map=I.collect=function(e,t,i){var n=[];return null==e?n:p&&e.map===p?e.map(t,i):(M(e,function(e,r,a){n.push(t.call(i,e,r,a))}),n)};var A="Reduce of empty array with no initial value";I.reduce=I.foldl=I.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return n&&(t=I.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(M(e,function(e,a,o){r?i=t.call(n,i,e,a,o):(i=e,r=!0)}),!r)throw new TypeError(A);return i},I.reduceRight=I.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return n&&(t=I.bind(t,n)),r?e.reduceRight(t,i):e.reduceRight(t);var a=e.length;if(a!==+a){var o=I.keys(e);a=o.length}if(M(e,function(s,l,c){l=o?o[--a]:--a,r?i=t.call(n,i,e[l],l,c):(i=e[l],r=!0)}),!r)throw new TypeError(A);return i},I.find=I.detect=function(e,t,i){var n;return k(e,function(e,r,a){return t.call(i,e,r,a)?(n=e,!0):void 0}),n},I.filter=I.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(M(e,function(e,r,a){t.call(i,e,r,a)&&n.push(e)}),n)},I.reject=function(e,t,i){return I.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)},I.every=I.all=function(e,t,n){t||(t=I.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,n):(M(e,function(e,a,o){return(r=r&&t.call(n,e,a,o))?void 0:i}),!!r)};var k=I.some=I.any=function(e,t,n){t||(t=I.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(M(e,function(e,a,o){return r||(r=t.call(n,e,a,o))?i:void 0}),!!r)};I.contains=I.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):k(e,function(e){return e===t})},I.invoke=function(e,t){var i=s.call(arguments,2),n=I.isFunction(t);return I.map(e,function(e){return(n?t:e[t]).apply(e,i)})},I.pluck=function(e,t){return I.map(e,function(e){return e[t]})},I.where=function(e,t,i){return I.isEmpty(t)?i?void 0:[]:I[i?"find":"filter"](e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},I.findWhere=function(e,t){return I.where(e,t,!0)},I.max=function(e,t,i){if(!t&&I.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&I.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return M(e,function(e,r,a){var o=t?t.call(i,e,r,a):e;o>n.computed&&(n={value:e,computed:o})}),n.value},I.min=function(e,t,i){if(!t&&I.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&I.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return M(e,function(e,r,a){var o=t?t.call(i,e,r,a):e;o<n.computed&&(n={value:e,computed:o})}),n.value},I.shuffle=function(e){var t,i=0,n=[];return M(e,function(e){t=I.random(i++),n[i-1]=n[t],n[t]=e}),n};var N=function(e){return I.isFunction(e)?e:function(t){return t[e]}};I.sortBy=function(e,t,i){var n=N(t);return I.pluck(I.map(e,function(e,t,r){return{value:e,index:t,criteria:n.call(i,e,t,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index<t.index?-1:1}),"value")};var T=function(e,t,i,n){var r={},a=N(null==t?I.identity:t);return M(e,function(t,o){var s=a.call(i,t,o,e);n(r,s,t)}),r};I.groupBy=function(e,t,i){return T(e,t,i,function(e,t,i){(I.has(e,t)?e[t]:e[t]=[]).push(i)})},I.countBy=function(e,t,i){return T(e,t,i,function(e,t){I.has(e,t)||(e[t]=0),e[t]++})},I.sortedIndex=function(e,t,i,n){i=null==i?I.identity:N(i);for(var r=i.call(n,t),a=0,o=e.length;o>a;){var s=a+o>>>1;i.call(n,e[s])<r?a=s+1:o=s}return a},I.toArray=function(e){return e?I.isArray(e)?s.call(e):e.length===+e.length?I.map(e,I.identity):I.values(e):[]},I.size=function(e){return null==e?0:e.length===+e.length?e.length:I.keys(e).length},I.first=I.head=I.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:s.call(e,0,t)},I.initial=function(e,t,i){return s.call(e,0,e.length-(null==t||i?1:t))},I.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},I.rest=I.tail=I.drop=function(e,t,i){return s.call(e,null==t||i?1:t)},I.compact=function(e){return I.filter(e,I.identity)};var _=function(e,t,i){return t&&I.every(e,I.isArray)?l.apply(i,e):(M(e,function(e){I.isArray(e)||I.isArguments(e)?t?o.apply(i,e):_(e,t,i):i.push(e)}),i)};I.flatten=function(e,t){return _(e,t,[])},I.without=function(e){return I.difference(e,s.call(arguments,1))},I.uniq=I.unique=function(e,t,i,n){I.isFunction(t)&&(n=i,i=t,t=!1);var r=i?I.map(e,i,n):e,a=[],o=[];return M(r,function(i,n){(t?n&&o[o.length-1]===i:I.contains(o,i))||(o.push(i),a.push(e[n]))}),a},I.union=function(){return I.uniq(I.flatten(arguments,!0))},I.intersection=function(e){var t=s.call(arguments,1);return I.filter(I.uniq(e),function(e){return I.every(t,function(t){return I.indexOf(t,e)>=0})})},I.difference=function(e){var t=l.apply(n,s.call(arguments,1));return I.filter(e,function(e){return!I.contains(t,e)})},I.zip=function(){for(var e=I.max(I.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=I.pluck(arguments,""+i);return t},I.object=function(e,t){if(null==e)return{};for(var i={},n=0,r=e.length;r>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},I.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if("number"!=typeof i)return n=I.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,r+i):i}if(b&&e.indexOf===b)return e.indexOf(t,i);for(;r>n;n++)if(e[n]===t)return n;return-1},I.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(y&&e.lastIndexOf===y)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},I.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,a=new Array(n);n>r;)a[r++]=e,e+=i;return a};var S=function(){};I.bind=function(e,t){var i,n;if(x&&e.bind===x)return x.apply(e,s.call(arguments,1));if(!I.isFunction(e))throw new TypeError;return i=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(s.call(arguments)));S.prototype=e.prototype;var r=new S;S.prototype=null;var a=e.apply(r,i.concat(s.call(arguments)));return Object(a)===a?a:r}},I.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},I.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return M(t,function(t){e[t]=I.bind(e[t],e)}),e},I.memoize=function(e,t){var i={};return t||(t=I.identity),function(){var n=t.apply(this,arguments);return I.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},I.delay=function(e,t){var i=s.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},I.defer=function(e){return I.delay.apply(I,[e,1].concat(s.call(arguments,1)))},I.throttle=function(e,t,i){var n,r,a,o=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:new Date,o=null,a=e.apply(n,r)};return function(){var c=new Date;s||i.leading!==!1||(s=c);var d=t-(c-s);return n=this,r=arguments,0>=d?(clearTimeout(o),o=null,s=c,a=e.apply(n,r)):o||i.trailing===!1||(o=setTimeout(l,d)),a}},I.debounce=function(e,t,i){var n,r=null;return function(){var a=this,o=arguments,s=function(){r=null,i||(n=e.apply(a,o))},l=i&&!r;return clearTimeout(r),r=setTimeout(s,t),l&&(n=e.apply(a,o)),n}},I.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},I.wrap=function(e,t){return function(){var i=[e];return o.apply(i,arguments),t.apply(this,i)}},I.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},I.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},I.keys=C||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)I.has(e,i)&&t.push(i);return t},I.values=function(e){var t=[];for(var i in e)I.has(e,i)&&t.push(e[i]);return t},I.pairs=function(e){var t=[];for(var i in e)I.has(e,i)&&t.push([i,e[i]]);return t},I.invert=function(e){var t={};for(var i in e)I.has(e,i)&&(t[e[i]]=i);return t},I.functions=I.methods=function(e){var t=[];for(var i in e)I.isFunction(e[i])&&t.push(i);return t.sort()},I.extend=function(e){return M(s.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]
}),e},I.pick=function(e){var t={},i=l.apply(n,s.call(arguments,1));return M(i,function(i){i in e&&(t[i]=e[i])}),t},I.omit=function(e){var t={},i=l.apply(n,s.call(arguments,1));for(var r in e)I.contains(i,r)||(t[r]=e[r]);return t},I.defaults=function(e){return M(s.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},I.clone=function(e){return I.isObject(e)?I.isArray(e)?e.slice():I.extend({},e):e},I.tap=function(e,t){return t(e),e};var D=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof I&&(e=e._wrapped),t instanceof I&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=i.length;a--;)if(i[a]==e)return n[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(I.isFunction(o)&&o instanceof o&&I.isFunction(s)&&s instanceof s))return!1;i.push(e),n.push(t);var l=0,d=!0;if("[object Array]"==r){if(l=e.length,d=l==t.length)for(;l--&&(d=D(e[l],t[l],i,n)););}else{for(var u in e)if(I.has(e,u)&&(l++,!(d=I.has(t,u)&&D(e[u],t[u],i,n))))break;if(d){for(u in t)if(I.has(t,u)&&!l--)break;d=!l}}return i.pop(),n.pop(),d};I.isEqual=function(e,t){return D(e,t,[],[])},I.isEmpty=function(e){if(null==e)return!0;if(I.isArray(e)||I.isString(e))return 0===e.length;for(var t in e)if(I.has(e,t))return!1;return!0},I.isElement=function(e){return!(!e||1!==e.nodeType)},I.isArray=w||function(e){return"[object Array]"==c.call(e)},I.isObject=function(e){return e===Object(e)},M(["Arguments","Function","String","Number","Date","RegExp"],function(e){I["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),I.isArguments(arguments)||(I.isArguments=function(e){return!(!e||!I.has(e,"callee"))}),"function"!=typeof/./&&(I.isFunction=function(e){return"function"==typeof e}),I.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},I.isNaN=function(e){return I.isNumber(e)&&e!=+e},I.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},I.isNull=function(e){return null===e},I.isUndefined=function(e){return void 0===e},I.has=function(e,t){return d.call(e,t)},I.noConflict=function(){return e._=t,this},I.identity=function(e){return e},I.times=function(e,t,i){for(var n=Array(Math.max(0,e)),r=0;e>r;r++)n[r]=t.call(i,r);return n},I.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};E.unescape=I.invert(E.escape);var P={escape:new RegExp("["+I.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+I.keys(E.unescape).join("|")+")","g")};I.each(["escape","unescape"],function(e){I[e]=function(t){return null==t?"":(""+t).replace(P[e],function(t){return E[e][t]})}}),I.result=function(e,t){if(null==e)return void 0;var i=e[t];return I.isFunction(i)?i.call(e):i},I.mixin=function(e){M(I.functions(e),function(t){var i=I[t]=e[t];I.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),L.call(this,i.apply(I,e))}})};var R=0;I.uniqueId=function(e){var t=++R+"";return e?e+t:t},I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;I.template=function(e,t,i){var n;i=I.defaults({},i,I.templateSettings);var r=new RegExp([(i.escape||j).source,(i.interpolate||j).source,(i.evaluate||j).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,i,n,r,s){return o+=e.slice(a,s).replace(F,function(e){return"\\"+z[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(i.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return n(t,I);var l=function(e){return n.call(this,e,I)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},I.chain=function(e){return I(e).chain()};var L=function(e){return this._chain?I(e).chain():e};I.mixin(I),M(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];I.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],L.call(this,i)}}),M(["concat","join","slice"],function(e){var t=n[e];I.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}}),I.extend(I.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),e._=_}.apply(e,arguments)})}(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,r){e.Backbone=t(e,r,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){{var r=e.Backbone,a=[],o=(a.push,a.slice);a.splice}t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,i){if(!c(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,a=i.once(function(){r.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var r,a,o,s,l,d,u,p;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(s=e?[e]:i.keys(this._events),l=0,d=s.length;d>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=r=[],t||n)for(u=0,p=o.length;p>u;u++)a=o[u],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&r.push(a);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&d(i,t),n&&d(n,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var a=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,n,this),(a||i.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)e[t].apply(e,[r,i[r]].concat(n));return!1}if(l.test(i)){for(var a=i.split(l),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(n));return!1}return!0},d=function(e,t){var i,n=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++n<r;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=e[n]).callback.call(i.ctx,a);return;case 2:for(;++n<r;)(i=e[n]).callback.call(i.ctx,a,o);return;case 3:for(;++n<r;)(i=e[n]).callback.call(i.ctx,a,o,s);return;default:for(;++n<r;)(i=e[n]).callback.apply(i.ctx,t);return}},u={listenTo:"on",listenToOnce:"once"};i.each(u,function(e,t){s[t]=function(n,r,a){var o=this._listeningTo||(this._listeningTo={});n||console.log(e,t,r);var s=n._listenId||(n._listenId=i.uniqueId("l"));return o[s]=n,a||"object"!=typeof r||(a=this),n[e](r,a,this),this}}),s.bind=s.on,s.unbind=s.off,i.extend(t,s);var p=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(p.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,a,o,s,l,c,d,u;if(null==e)return this;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;o=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(r in a)t=a[r],i.isEqual(u[r],t)||s.push(r),i.isEqual(d[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete u[r]:u[r]=t;if(!l){s.length&&(this._pending=n);for(var p=0,h=s.length;h>p;p++)this.trigger("change:"+s[p],this,u[s[p]],n)}if(c)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var a in e)i.isEqual(r[a],t=e[a])||((n||(n={}))[a]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},F(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,a,o,s=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=i.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=i.extend({},s,r)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=i.extend(r||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),void l.trigger("sync",l,e,n))},F(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=r),o=this.sync(a,this,n),r&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;F(this,e);var a=this.sync("delete",this,e);return e.wait||r(),a},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||z();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];i.each(h,function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,s,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,g))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var r,a,o,s;for(r=0,a=e.length;a>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var r,a,o,s,l,c,d,u=t.at,h=this.model,f=this.comparator&&null==u&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=t.add,C=t.merge,x=t.remove,I=!f&&w&&x?[]:!1;for(r=0,a=e.length;a>r;r++){if(l=e[r]||{},o=l instanceof p?s=l:l[h.prototype.idAttribute||"id"],c=this.get(o))x&&(y[c.cid]=!0),C&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!d&&c.hasChanged(g)&&(d=!0)),e[r]=c;else if(w){if(s=e[r]=this._prepareModel(l,t),!s)continue;v.push(s),this._addReference(s,t)}s=c||s,!I||!s.isNew()&&y[s.id]||I.push(s),y[s.id]=!0}if(x){for(r=0,a=this.length;a>r;++r)y[(s=this.models[r]).cid]||b.push(s);b.length&&this.remove(b,t)}if(v.length||I&&I.length)if(f&&(d=!0),this.length+=v.length,null!=u)for(r=0,a=v.length;a>r;r++)this.models.splice(u+r,0,v[r]);else{I&&(this.models.length=0);var M=I||v;for(r=0,a=M.length;a>r;r++)this.models.push(M[r])}if(d&&this.sort({silent:!0}),!t.silent){for(r=0,a=v.length;a>r;r++)(s=v[r]).trigger("add",s,this,t);(d||I&&I.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(v,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var b=["groupBy","countBy","sortBy","indexBy"];i.each(b,function(e){f.prototype[e]=function(t,n){var r=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,r,n)}});var y=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,C)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];i.extend(y.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var r=t.match(w),a=r[1],o=r[2];n=i.bind(n,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,n):this.$el.on(a,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var a=I[e];i.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||z()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&x&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(i.extend(o,r));return n.trigger("request",n,l,r),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var M=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,N=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(M.prototype,s,{initialize:function(){},route:function(e,n,r){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var a=this;return t.history.route(e,function(i){var o=a._extractParameters(e,i);a.execute(r,o),a.trigger.apply(a,["route:"+n].concat(o)),a.trigger("route",n,o),t.history.trigger("route",a,n,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(A,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var _=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,E=/msie [\w.]+/,P=/\/$/,R=/#.*$/;_.started=!1,i.extend(_.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(P,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(S,"")},start:function(e){if(_.started)throw new Error("Backbone.history has already been started");_.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,a=E.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(D,"/"),a&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),_.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!_.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(R,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new _;var j=function(e,t){var n,r=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,t);var a=function(){this.constructor=n};return a.prototype=r.prototype,n.prototype=new a,e&&i.extend(n.prototype,e),n.__super__=r.prototype,n};p.extend=f.extend=M.extend=y.extend=_.extend=j;var z=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),function(){function e(e,t){if(e!==t){var i=null===e,n=e===x,r=e===e,a=null===t,o=t===x,s=t===t;if(e>t&&!a||!r||i&&!o&&s||n&&s)return 1;if(t>e&&!i||!s||a&&!n&&r||o&&r)return-1}return 0}function t(e,t,i){for(var n=e.length,r=i?n:-1;i?r--:++r<n;)if(t(e[r],r,e))return r;return-1}function i(e,t,i){if(t!==t)return h(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function n(e){return"function"==typeof e||!1}function r(e){return null==e?"":e+""}function a(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}function o(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}function s(t,i){return e(t.criteria,i.criteria)||t.index-i.index}function l(t,i,n){for(var r=-1,a=t.criteria,o=i.criteria,s=a.length,l=n.length;++r<s;){var c=e(a[r],o[r]);if(c){if(r>=l)return c;var d=n[r];return c*("asc"===d||d===!0?1:-1)}}return t.index-i.index}function c(e){return Gt[e]}function d(e){return Vt[e]}function u(e,t,i){return t?e=qt[e]:i&&(e=Ut[e]),"\\"+e}function p(e){return"\\"+Ut[e]}function h(e,t,i){for(var n=e.length,r=t+(i?0:-1);i?r--:++r<n;){var a=e[r];if(a!==a)return r}return-1}function f(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var i=-1,n=e.length,r=-1,a=[];++i<n;)e[i]===t&&(e[i]=G,a[++r]=i);return a}function v(e,t){for(var i,n=-1,r=e.length,a=-1,o=[];++n<r;){var s=e[n],l=t?t(s,n,e):s;n&&i===l||(i=l,o[++a]=s)}return o}function b(e){for(var t=-1,i=e.length;++t<i&&m(e.charCodeAt(t)););return t}function y(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function w(e){return Ht[e]}function C(m){function Y(e){if(f(e)&&!_l(e)&&!(e instanceof Gt)){if(e instanceof et)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return hr(e)}return new et(e)}function K(){}function et(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}function Gt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ts,this.__views__=[]}function Vt(){var e=new Gt(this.__wrapped__);return e.__actions__=ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ii(this.__views__),e}function Ht(){if(this.__filtered__){var e=new Gt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Wt(){var e=this.__wrapped__.value(),t=this.__dir__,i=_l(e),n=0>t,r=i?e.length:0,a=Un(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=n?s:o-1,d=this.__iteratees__,u=d.length,p=0,h=Is(l,this.__takeCount__);if(!i||F>r||r==l&&h==l)return nn(e,this.__actions__);var f=[];e:for(;l--&&h>p;){c+=t;for(var m=-1,g=e[c];++m<u;){var v=d[m],b=v.iteratee,y=v.type,w=b(g);if(y==B)g=w;else if(!w){if(y==L)continue e;break e}}f[p++]=g}return f}function qt(){this.__data__={}}function Ut(e){return this.has(e)&&delete this.__data__[e]}function Zt(e){return"__proto__"==e?x:this.__data__[e]}function Yt(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function Xt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function $t(e){var t=e?e.length:0;for(this.data={hash:vs(null),set:new us};t--;)this.push(e[t])}function Jt(e,t){var i=e.data,n="string"==typeof t||Ra(t)?i.set.has(t):i.hash[t];return n?0:-1}function Kt(e){var t=this.data;"string"==typeof e||Ra(e)?t.set.add(e):t.hash[e]=!0}function ti(e,t){for(var i=-1,n=e.length,r=-1,a=t.length,o=Go(n+a);++i<n;)o[i]=e[i];for(;++r<a;)o[i++]=t[r];return o}function ii(e,t){var i=-1,n=e.length;for(t||(t=Go(n));++i<n;)t[i]=e[i];return t}function ni(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}function ri(e,t){for(var i=e.length;i--&&t(e[i],i,e)!==!1;);return e}function ai(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function oi(e,t,i,n){for(var r=-1,a=e.length,o=n,s=o;++r<a;){var l=e[r],c=+t(l);i(c,o)&&(o=c,s=l)}return s}function si(e,t){for(var i=-1,n=e.length,r=-1,a=[];++i<n;){var o=e[i];t(o,i,e)&&(a[++r]=o)}return a}function li(e,t){for(var i=-1,n=e.length,r=Go(n);++i<n;)r[i]=t(e[i],i,e);return r}function ci(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function di(e,t,i,n){var r=-1,a=e.length;for(n&&a&&(i=e[++r]);++r<a;)i=t(i,e[r],r,e);return i}function ui(e,t,i,n){var r=e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function pi(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function hi(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}function fi(e,t){return e===x?t:e}function mi(e,t,i,n){return e!==x&&ts.call(n,i)?e:t}function gi(e,t,i){for(var n=-1,r=Ol(t),a=r.length;++n<a;){var o=r[n],s=e[o],l=i(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==x||o in e)||(e[o]=l)}return e}function vi(e,t){return null==t?e:yi(t,Ol(t),e)}function bi(e,t){for(var i=-1,n=null==e,r=!n&&Jn(e),a=r?e.length:0,o=t.length,s=Go(o);++i<o;){var l=t[i];s[i]=r?Kn(l,a)?e[l]:x:n?x:e[l]}return s}function yi(e,t,i){i||(i={});for(var n=-1,r=t.length;++n<r;){var a=t[n];i[a]=e[a]}return i}function wi(e,t,i){var n=typeof e;return"function"==n?t===x?e:on(e,t,i):null==e?To:"object"==n?Bi(e):t===x?Ro(e):Oi(e,t)}function Ci(e,t,i,n,r,a,o){var s;if(i&&(s=r?i(e,n,r):i(e)),s!==x)return s;if(!Ra(e))return e;var l=_l(e);if(l){if(s=Zn(e),!t)return ii(e,s)}else{var c=ns.call(e),d=c==Z;if(c!=$&&c!=V&&(!d||r))return Ot[c]?Xn(e,c,t):r?e:{};if(s=Yn(d?{}:e),!t)return vi(s,e)}a||(a=[]),o||(o=[]);for(var u=a.length;u--;)if(a[u]==e)return o[u];return a.push(e),o.push(s),(l?ni:Di)(e,function(n,r){s[r]=Ci(n,t,i,r,e,a,o)}),s}function xi(e,t,i){if("function"!=typeof e)throw new $o(O);return ps(function(){e.apply(x,i)},t)}function Ii(e,t){var n=e?e.length:0,r=[];if(!n)return r;var a=-1,o=Hn(),s=o===i,l=s&&t.length>=F?mn(t):null,c=t.length;l&&(o=Jt,s=!1,t=l);e:for(;++a<n;){var d=e[a];if(s&&d===d){for(var u=c;u--;)if(t[u]===d)continue e;r.push(d)}else o(t,d,0)<0&&r.push(d)}return r}function Mi(e,t){var i=!0;return zs(e,function(e,n,r){return i=!!t(e,n,r)}),i}function Ai(e,t,i,n){var r=n,a=r;return zs(e,function(e,o,s){var l=+t(e,o,s);(i(l,r)||l===n&&l===a)&&(r=l,a=e)}),a}function ki(e,t,i,n){var r=e.length;for(i=null==i?0:+i||0,0>i&&(i=-i>r?0:r+i),n=n===x||n>r?r:+n||0,0>n&&(n+=r),r=i>n?0:n>>>0,i>>>=0;r>i;)e[i++]=t;return e}function Ni(e,t){var i=[];return zs(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function Ti(e,t,i,n){var r;return i(e,function(e,i,a){return t(e,i,a)?(r=n?i:e,!1):void 0}),r}function _i(e,t,i,n){n||(n=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];f(o)&&Jn(o)&&(i||_l(o)||Aa(o))?t?_i(o,t,i,n):ci(n,o):i||(n[n.length]=o)}return n}function Si(e,t){return Ls(e,t,eo)}function Di(e,t){return Ls(e,t,Ol)}function Ei(e,t){return Bs(e,t,Ol)}function Pi(e,t){for(var i=-1,n=t.length,r=-1,a=[];++i<n;){var o=t[i];Pa(e[o])&&(a[++r]=o)}return a}function Ri(e,t,i){if(null!=e){i!==x&&i in ur(e)&&(t=[i]);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:x}}function ji(e,t,i,n,r,a){return e===t?!0:null==e||null==t||!Ra(e)&&!f(t)?e!==e&&t!==t:zi(e,t,ji,i,n,r,a)}function zi(e,t,i,n,r,a,o){var s=_l(e),l=_l(t),c=H,d=H;s||(c=ns.call(e),c==V?c=$:c!=$&&(s=Ha(e))),l||(d=ns.call(t),d==V?d=$:d!=$&&(l=Ha(t)));var u=c==$,p=d==$,h=c==d;if(h&&!s&&!u)return Bn(e,t,c);if(!r){var f=u&&ts.call(e,"__wrapped__"),m=p&&ts.call(t,"__wrapped__");if(f||m)return i(f?e.value():e,m?t.value():t,n,r,a,o)}if(!h)return!1;a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e),o.push(t);var v=(s?Ln:On)(e,t,i,n,r,a,o);return a.pop(),o.pop(),v}function Fi(e,t,i){var n=t.length,r=n,a=!i;if(null==e)return!r;for(e=ur(e);n--;){var o=t[n];
if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<r;){o=t[n];var s=o[0],l=e[s],c=o[1];if(a&&o[2]){if(l===x&&!(s in e))return!1}else{var d=i?i(l,c,s):x;if(!(d===x?ji(c,l,i,!0):d))return!1}}return!0}function Li(e,t){var i=-1,n=Jn(e)?Go(e.length):[];return zs(e,function(e,r,a){n[++i]=t(e,r,a)}),n}function Bi(e){var t=Wn(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[i]===n&&(n!==x||i in ur(e))}}return function(e){return Fi(e,t)}}function Oi(e,t){var i=_l(e),n=er(e)&&nr(t),r=e+"";return e=pr(e),function(a){if(null==a)return!1;var o=r;if(a=ur(a),!(!i&&n||o in a)){if(a=1==e.length?a:Ri(a,Yi(e,0,-1)),null==a)return!1;o=kr(e),a=ur(a)}return a[o]===t?t!==x||o in a:ji(t,a[o],x,!0)}}function Gi(e,t,i,n,r){if(!Ra(e))return e;var a=Jn(t)&&(_l(t)||Ha(t)),o=a?x:Ol(t);return ni(o||t,function(s,l){if(o&&(l=s,s=t[l]),f(s))n||(n=[]),r||(r=[]),Vi(e,t,l,Gi,i,n,r);else{var c=e[l],d=i?i(c,s,l,e,t):x,u=d===x;u&&(d=s),d===x&&(!a||l in e)||!u&&(d===d?d===c:c!==c)||(e[l]=d)}}),e}function Vi(e,t,i,n,r,a,o){for(var s=a.length,l=t[i];s--;)if(a[s]==l)return void(e[i]=o[s]);var c=e[i],d=r?r(c,l,i,e,t):x,u=d===x;u&&(d=l,Jn(l)&&(_l(l)||Ha(l))?d=_l(c)?c:Jn(c)?ii(c):[]:Oa(l)||Aa(l)?d=Aa(c)?Ya(c):Oa(c)?c:{}:u=!1),a.push(l),o.push(d),u?e[i]=n(d,l,r,a,o):(d===d?d!==c:c===c)&&(e[i]=d)}function Hi(e){return function(t){return null==t?x:t[e]}}function Wi(e){var t=e+"";return e=pr(e),function(i){return Ri(i,e,t)}}function qi(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=r&&Kn(n)){var r=n;hs.call(e,n,1)}}return e}function Ui(e,t){return e+bs(ks()*(t-e+1))}function Zi(e,t,i,n,r){return r(e,function(e,r,a){i=n?(n=!1,e):t(i,e,r,a)}),i}function Yi(e,t,i){var n=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),i=i===x||i>r?r:+i||0,0>i&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var a=Go(r);++n<r;)a[n]=e[n+t];return a}function Xi(e,t){var i;return zs(e,function(e,n,r){return i=t(e,n,r),!i}),!!i}function $i(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function Ji(e,t,i){var n=Gn(),r=-1;t=li(t,function(e){return n(e)});var a=Li(e,function(e){var i=li(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return $i(a,function(e,t){return l(e,t,i)})}function Ki(e,t){var i=0;return zs(e,function(e,n,r){i+=+t(e,n,r)||0}),i}function Qi(e,t){var n=-1,r=Hn(),a=e.length,o=r===i,s=o&&a>=F,l=s?mn():null,c=[];l?(r=Jt,o=!1):(s=!1,l=t?[]:c);e:for(;++n<a;){var d=e[n],u=t?t(d,n,e):d;if(o&&d===d){for(var p=l.length;p--;)if(l[p]===u)continue e;t&&l.push(u),c.push(d)}else r(l,u,0)<0&&((t||s)&&l.push(u),c.push(d))}return c}function en(e,t){for(var i=-1,n=t.length,r=Go(n);++i<n;)r[i]=e[t[i]];return r}function tn(e,t,i,n){for(var r=e.length,a=n?r:-1;(n?a--:++a<r)&&t(e[a],a,e););return i?Yi(e,n?0:a,n?a+1:r):Yi(e,n?a+1:0,n?r:a)}function nn(e,t){var i=e;i instanceof Gt&&(i=i.value());for(var n=-1,r=t.length;++n<r;){var a=t[n];i=a.func.apply(a.thisArg,ci([i],a.args))}return i}function rn(e,t,i){var n=0,r=e?e.length:n;if("number"==typeof t&&t===t&&Ds>=r){for(;r>n;){var a=n+r>>>1,o=e[a];(i?t>=o:t>o)&&null!==o?n=a+1:r=a}return r}return an(e,t,To,i)}function an(e,t,i,n){t=i(t);for(var r=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===x;a>r;){var c=bs((r+a)/2),d=i(e[c]),u=d!==x,p=d===d;if(o)var h=p||n;else h=s?p&&u&&(n||null!=d):l?p&&(n||u):null==d?!1:n?t>=d:t>d;h?r=c+1:a=c}return Is(a,Ss)}function on(e,t,i){if("function"!=typeof e)return To;if(t===x)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,a){return e.call(t,i,n,r,a)};case 5:return function(i,n,r,a,o){return e.call(t,i,n,r,a,o)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new os(e.byteLength),i=new fs(t);return i.set(new fs(e)),t}function ln(e,t,i){for(var n=i.length,r=-1,a=xs(e.length-n,0),o=-1,s=t.length,l=Go(s+a);++o<s;)l[o]=t[o];for(;++r<n;)l[i[r]]=e[r];for(;a--;)l[o++]=e[r++];return l}function cn(e,t,i){for(var n=-1,r=i.length,a=-1,o=xs(e.length-r,0),s=-1,l=t.length,c=Go(o+l);++a<o;)c[a]=e[a];for(var d=a;++s<l;)c[d+s]=t[s];for(;++n<r;)c[d+i[n]]=e[a++];return c}function dn(e,t){return function(i,n,r){var a=t?t():{};if(n=Gn(n,r,3),_l(i))for(var o=-1,s=i.length;++o<s;){var l=i[o];e(a,l,n(l,o,i),i)}else zs(i,function(t,i,r){e(a,t,n(t,i,r),r)});return a}}function un(e){return va(function(t,i){var n=-1,r=null==t?0:i.length,a=r>2?i[r-2]:x,o=r>2?i[2]:x,s=r>1?i[r-1]:x;for("function"==typeof a?(a=on(a,s,5),r-=2):(a="function"==typeof s?s:x,r-=a?1:0),o&&Qn(i[0],i[1],o)&&(a=3>r?x:a,r=1);++n<r;){var l=i[n];l&&e(t,l,a)}return t})}function pn(e,t){return function(i,n){var r=i?Vs(i):0;if(!ir(r))return e(i,n);for(var a=t?r:-1,o=ur(i);(t?a--:++a<r)&&n(o[a],a,o)!==!1;);return i}}function hn(e){return function(t,i,n){for(var r=ur(t),a=n(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(i(r[l],l,r)===!1)break}return t}}function fn(e,t){function i(){var r=this&&this!==Qt&&this instanceof i?n:e;return r.apply(t,arguments)}var n=vn(e);return i}function mn(e){return vs&&us?new $t(e):null}function gn(e){return function(t){for(var i=-1,n=Ao(uo(t)),r=n.length,a="";++i<r;)a=e(a,n[i],i);return a}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=js(e.prototype),n=e.apply(i,t);return Ra(n)?n:i}}function bn(e){function t(i,n,r){r&&Qn(i,n,r)&&(n=x);var a=Fn(i,e,x,x,x,x,x,n);return a.placeholder=t.placeholder,a}return t}function yn(e,t){return va(function(i){var n=i[0];return null==n?n:(i.push(t),e.apply(x,i))})}function wn(e,t){return function(i,n,r){if(r&&Qn(i,n,r)&&(n=x),n=Gn(n,r,3),1==n.length){i=_l(i)?i:dr(i);var a=oi(i,n,e,t);if(!i.length||a!==t)return a}return Ai(i,n,e,t)}}function Cn(e,i){return function(n,r,a){if(r=Gn(r,a,3),_l(n)){var o=t(n,r,i);return o>-1?n[o]:x}return Ti(n,r,e)}}function xn(e){return function(i,n,r){return i&&i.length?(n=Gn(n,r,3),t(i,n,e)):-1}}function In(e){return function(t,i,n){return i=Gn(i,n,3),Ti(t,i,e,!0)}}function Mn(e){return function(){for(var t,i=arguments.length,n=e?i:-1,r=0,a=Go(i);e?n--:++n<i;){var o=a[r++]=arguments[n];if("function"!=typeof o)throw new $o(O);!t&&et.prototype.thru&&"wrapper"==Vn(o)&&(t=new et([],!0))}for(n=t?-1:i;++n<i;){o=a[n];var s=Vn(o),l="wrapper"==s?Gs(o):x;t=l&&tr(l[0])&&l[1]==(D|N|_|E)&&!l[4].length&&1==l[9]?t[Vn(l[0])].apply(t,l[3]):1==o.length&&tr(o)?t[s]():t.thru(o)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&_l(n)&&n.length>=F)return t.plant(n).value();for(var r=0,o=i?a[r].apply(this,e):n;++r<i;)o=a[r].call(this,o);return o}}}function An(e,t){return function(i,n,r){return"function"==typeof n&&r===x&&_l(i)?e(i,n):t(i,on(n,r,3))}}function kn(e){return function(t,i,n){return("function"!=typeof i||n!==x)&&(i=on(i,n,3)),e(t,i,eo)}}function Nn(e){return function(t,i,n){return("function"!=typeof i||n!==x)&&(i=on(i,n,3)),e(t,i)}}function Tn(e){return function(t,i,n){var r={};return i=Gn(i,n,3),Di(t,function(t,n,a){var o=i(t,n,a);n=e?o:n,t=e?t:o,r[n]=t}),r}}function _n(e){return function(t,i,n){return t=r(t),(e?t:"")+Pn(t,i,n)+(e?"":t)}}function Sn(e){var t=va(function(i,n){var r=g(n,t.placeholder);return Fn(i,e,x,n,r)});return t}function Dn(e,t){return function(i,n,r,a){var o=arguments.length<3;return"function"==typeof n&&a===x&&_l(i)?e(i,n,r,o):Zi(i,Gn(n,a,4),r,o,t)}}function En(e,t,i,n,r,a,o,s,l,c){function d(){for(var y=arguments.length,w=y,C=Go(y);w--;)C[w]=arguments[w];if(n&&(C=ln(C,n,r)),a&&(C=cn(C,a,o)),f||v){var I=d.placeholder,k=g(C,I);if(y-=k.length,c>y){var N=s?ii(s):x,T=xs(c-y,0),D=f?k:x,E=f?x:k,P=f?C:x,R=f?x:C;t|=f?_:S,t&=~(f?S:_),m||(t&=~(M|A));var j=[e,t,i,P,D,R,E,N,l,T],z=En.apply(x,j);return tr(e)&&Hs(z,j),z.placeholder=I,z}}var F=p?i:this,L=h?F[e]:e;return s&&(C=lr(C,s)),u&&l<C.length&&(C.length=l),this&&this!==Qt&&this instanceof d&&(L=b||vn(e)),L.apply(F,C)}var u=t&D,p=t&M,h=t&A,f=t&N,m=t&k,v=t&T,b=h?x:vn(e);return d}function Pn(e,t,i){var n=e.length;if(t=+t,n>=t||!ws(t))return"";var r=t-n;return i=null==i?" ":i+"",vo(i,gs(r/i.length)).slice(0,r)}function Rn(e,t,i,n){function r(){for(var t=-1,s=arguments.length,l=-1,c=n.length,d=Go(c+s);++l<c;)d[l]=n[l];for(;s--;)d[l++]=arguments[++t];var u=this&&this!==Qt&&this instanceof r?o:e;return u.apply(a?i:this,d)}var a=t&M,o=vn(e);return r}function jn(e){var t=qo[e];return function(e,i){return i=i===x?0:+i||0,i?(i=cs(10,i),t(e*i)/i):t(e)}}function zn(e){return function(t,i,n,r){var a=Gn(n);return null==n&&a===wi?rn(t,i,e):an(t,i,a(n,r,1),e)}}function Fn(e,t,i,n,r,a,o,s){var l=t&A;if(!l&&"function"!=typeof e)throw new $o(O);var c=n?n.length:0;if(c||(t&=~(_|S),n=r=x),c-=r?r.length:0,t&S){var d=n,u=r;n=r=x}var p=l?x:Gs(e),h=[e,t,i,n,r,d,u,a,o,s];if(p&&(rr(h,p),t=h[1],s=h[9]),h[9]=null==s?l?0:e.length:xs(s-c,0)||0,t==M)var f=fn(h[0],h[2]);else f=t!=_&&t!=(M|_)||h[4].length?En.apply(x,h):Rn.apply(x,h);var m=p?Os:Hs;return m(f,h)}function Ln(e,t,i,n,r,a,o){var s=-1,l=e.length,c=t.length;if(l!=c&&!(r&&c>l))return!1;for(;++s<l;){var d=e[s],u=t[s],p=n?n(r?u:d,r?d:u,s):x;if(p!==x){if(p)continue;return!1}if(r){if(!pi(t,function(e){return d===e||i(d,e,n,r,a,o)}))return!1}else if(d!==u&&!i(d,u,n,r,a,o))return!1}return!0}function Bn(e,t,i){switch(i){case W:case q:return+e==+t;case U:return e.name==t.name&&e.message==t.message;case X:return e!=+e?t!=+t:e==+t;case J:case Q:return e==t+""}return!1}function On(e,t,i,n,r,a,o){var s=Ol(e),l=s.length,c=Ol(t),d=c.length;if(l!=d&&!r)return!1;for(var u=l;u--;){var p=s[u];if(!(r?p in t:ts.call(t,p)))return!1}for(var h=r;++u<l;){p=s[u];var f=e[p],m=t[p],g=n?n(r?m:f,r?f:m,p):x;if(!(g===x?i(f,m,n,r,a,o):g))return!1;h||(h="constructor"==p)}if(!h){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function Gn(e,t,i){var n=Y.callback||ko;return n=n===ko?wi:n,i?n(e,t,i):n}function Vn(e){for(var t=e.name+"",i=Rs[t],n=i?i.length:0;n--;){var r=i[n],a=r.func;if(null==a||a==e)return r.name}return t}function Hn(e,t,n){var r=Y.indexOf||Mr;return r=r===Mr?i:r,e?r(e,t,n):r}function Wn(e){for(var t=to(e),i=t.length;i--;)t[i][2]=nr(t[i][1]);return t}function qn(e,t){var i=null==e?x:e[t];return Fa(i)?i:x}function Un(e,t,i){for(var n=-1,r=i.length;++n<r;){var a=i[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Is(t,e+o);break;case"takeRight":e=xs(e,t-o)}}return{start:e,end:t}}function Zn(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Yn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Zo),new t}function Xn(e,t,i){var n=e.constructor;switch(t){case tt:return sn(e);case W:case q:return new n(+e);case it:case nt:case rt:case at:case ot:case st:case lt:case ct:case dt:var r=e.buffer;return new n(i?sn(r):r,e.byteOffset,e.length);case X:case Q:return new n(e);case J:var a=new n(e.source,_t.exec(e));a.lastIndex=e.lastIndex}return a}function $n(e,t,i){null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Ri(e,Yi(t,0,-1)),t=kr(t));var n=null==e?e:e[t];return null==n?x:n.apply(e,i)}function Jn(e){return null!=e&&ir(Vs(e))}function Kn(e,t){return e="number"==typeof e||Et.test(e)?+e:-1,t=null==t?Es:t,e>-1&&e%1==0&&t>e}function Qn(e,t,i){if(!Ra(i))return!1;var n=typeof t;if("number"==n?Jn(i)&&Kn(t,i.length):"string"==n&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}function er(e,t){var i=typeof e;if("string"==i&&xt.test(e)||"number"==i)return!0;if(_l(e))return!1;var n=!Ct.test(e);return n||null!=t&&e in ur(t)}function tr(e){var t=Vn(e),i=Y[t];if("function"!=typeof i||!(t in Gt.prototype))return!1;if(e===i)return!0;var n=Gs(i);return!!n&&e===n[0]}function ir(e){return"number"==typeof e&&e>-1&&e%1==0&&Es>=e}function nr(e){return e===e&&!Ra(e)}function rr(e,t){var i=e[1],n=t[1],r=i|n,a=D>r,o=n==D&&i==N||n==D&&i==E&&e[7].length<=t[8]||n==(D|E)&&i==N;if(!a&&!o)return e;n&M&&(e[2]=t[2],r|=i&M?0:k);var s=t[3];if(s){var l=e[3];e[3]=l?ln(l,s,t[4]):ii(s),e[4]=l?g(e[3],G):ii(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?cn(l,s,t[6]):ii(s),e[6]=l?g(e[5],G):ii(t[6])),s=t[7],s&&(e[7]=ii(s)),n&D&&(e[8]=null==e[8]?t[8]:Is(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function ar(e,t){return e===x?t:Sl(e,t,ar)}function or(e,t){e=ur(e);for(var i=-1,n=t.length,r={};++i<n;){var a=t[i];a in e&&(r[a]=e[a])}return r}function sr(e,t){var i={};return Si(e,function(e,n,r){t(e,n,r)&&(i[n]=e)}),i}function lr(e,t){for(var i=e.length,n=Is(t.length,i),r=ii(e);n--;){var a=t[n];e[n]=Kn(a,i)?r[a]:x}return e}function cr(e){for(var t=eo(e),i=t.length,n=i&&e.length,r=!!n&&ir(n)&&(_l(e)||Aa(e)),a=-1,o=[];++a<i;){var s=t[a];(r&&Kn(s,n)||ts.call(e,s))&&o.push(s)}return o}function dr(e){return null==e?[]:Jn(e)?Ra(e)?e:Zo(e):ao(e)}function ur(e){return Ra(e)?e:Zo(e)}function pr(e){if(_l(e))return e;var t=[];return r(e).replace(It,function(e,i,n,r){t.push(n?r.replace(Nt,"$1"):i||e)}),t}function hr(e){return e instanceof Gt?e.clone():new et(e.__wrapped__,e.__chain__,ii(e.__actions__))}function fr(e,t,i){t=(i?Qn(e,t,i):null==t)?1:xs(bs(t)||1,1);for(var n=0,r=e?e.length:0,a=-1,o=Go(gs(r/t));r>n;)o[++a]=Yi(e,n,n+=t);return o}function mr(e){for(var t=-1,i=e?e.length:0,n=-1,r=[];++t<i;){var a=e[t];a&&(r[++n]=a)}return r}function gr(e,t,i){var n=e?e.length:0;return n?((i?Qn(e,t,i):null==t)&&(t=1),Yi(e,0>t?0:t)):[]}function vr(e,t,i){var n=e?e.length:0;return n?((i?Qn(e,t,i):null==t)&&(t=1),t=n-(+t||0),Yi(e,0,0>t?0:t)):[]}function br(e,t,i){return e&&e.length?tn(e,Gn(t,i,3),!0,!0):[]}function yr(e,t,i){return e&&e.length?tn(e,Gn(t,i,3),!0):[]}function wr(e,t,i,n){var r=e?e.length:0;return r?(i&&"number"!=typeof i&&Qn(e,t,i)&&(i=0,n=r),ki(e,t,i,n)):[]}function Cr(e){return e?e[0]:x}function xr(e,t,i){var n=e?e.length:0;return i&&Qn(e,t,i)&&(t=!1),n?_i(e,t):[]}function Ir(e){var t=e?e.length:0;return t?_i(e,!0):[]}function Mr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xs(r+n,0):n;else if(n){var a=rn(e,t);return r>a&&(t===t?t===e[a]:e[a]!==e[a])?a:-1}return i(e,t,n||0)}function Ar(e){return vr(e,1)}function kr(e){var t=e?e.length:0;return t?e[t-1]:x}function Nr(e,t,i){var n=e?e.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(0>i?xs(n+i,0):Is(i||0,n-1))+1;else if(i){r=rn(e,t,!0)-1;var a=e[r];return(t===t?t===a:a!==a)?r:-1}if(t!==t)return h(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function Tr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=Hn(),r=e.length;++i<r;)for(var a=0,o=e[i];(a=n(t,o,a))>-1;)hs.call(t,a,1);return t}function _r(e,t,i){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=Gn(t,i,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),a.push(r))}return qi(e,a),n}function Sr(e){return gr(e,1)}function Dr(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Qn(e,t,i)&&(t=0,i=n),Yi(e,t,i)):[]}function Er(e,t,i){var n=e?e.length:0;return n?((i?Qn(e,t,i):null==t)&&(t=1),Yi(e,0,0>t?0:t)):[]}function Pr(e,t,i){var n=e?e.length:0;return n?((i?Qn(e,t,i):null==t)&&(t=1),t=n-(+t||0),Yi(e,0>t?0:t)):[]}function Rr(e,t,i){return e&&e.length?tn(e,Gn(t,i,3),!1,!0):[]}function jr(e,t,i){return e&&e.length?tn(e,Gn(t,i,3)):[]}function zr(e,t,n,r){var a=e?e.length:0;if(!a)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Qn(e,t,r)?x:t,t=!1);var o=Gn();return(null!=n||o!==wi)&&(n=o(n,r,3)),t&&Hn()===i?v(e,n):Qi(e,n)}function Fr(e){if(!e||!e.length)return[];var t=-1,i=0;e=si(e,function(e){return Jn(e)?(i=xs(e.length,i),!0):void 0});for(var n=Go(i);++t<i;)n[t]=li(e,Hi(t));return n}function Lr(e,t,i){var n=e?e.length:0;if(!n)return[];var r=Fr(e);return null==t?r:(t=on(t,i,4),li(r,function(e){return di(e,t,x,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(Jn(i))var n=n?ci(Ii(n,i),Ii(i,n)):i}return n?Qi(n):[]}function Or(e,t){var i=-1,n=e?e.length:0,r={};for(!n||t||_l(e[0])||(t=[]);++i<n;){var a=e[i];t?r[a]=t[i]:a&&(r[a[0]]=a[1])}return r}function Gr(e){var t=Y(e);return t.__chain__=!0,t}function Vr(e,t,i){return t.call(i,e),e}function Hr(e,t,i){return t.call(i,e)}function Wr(){return Gr(this)}function qr(){return new et(this.value(),this.__chain__)}function Ur(e){for(var t,i=this;i instanceof K;){var n=hr(i);t?r.__wrapped__=n:t=n;var r=n;i=i.__wrapped__}return r.__wrapped__=e,t}function Zr(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Gt){var i=e;return this.__actions__.length&&(i=new Gt(this)),i=i.reverse(),i.__actions__.push({func:Hr,args:[t],thisArg:x}),new et(i,this.__chain__)}return this.thru(t)}function Yr(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function $r(e,t,i){var n=_l(e)?ai:Mi;return i&&Qn(e,t,i)&&(t=x),("function"!=typeof t||i!==x)&&(t=Gn(t,i,3)),n(e,t)}function Jr(e,t,i){var n=_l(e)?si:Ni;return t=Gn(t,i,3),n(e,t)}function Kr(e,t){return rl(e,Bi(t))}function Qr(e,t,i,n){var r=e?Vs(e):0;return ir(r)||(e=ao(e),r=e.length),i="number"!=typeof i||n&&Qn(t,i,n)?0:0>i?xs(r+i,0):i||0,"string"==typeof e||!_l(e)&&Va(e)?r>=i&&e.indexOf(t,i)>-1:!!r&&Hn(e,t,i)>-1}function ea(e,t,i){var n=_l(e)?li:Li;return t=Gn(t,i,3),n(e,t)}function ta(e,t){return ea(e,Ro(t))}function ia(e,t,i){var n=_l(e)?si:Ni;return t=Gn(t,i,3),n(e,function(e,i,n){return!t(e,i,n)})}function na(e,t,i){if(i?Qn(e,t,i):null==t){e=dr(e);var n=e.length;return n>0?e[Ui(0,n-1)]:x}var r=-1,a=Za(e),n=a.length,o=n-1;for(t=Is(0>t?0:+t||0,n);++r<t;){var s=Ui(r,o),l=a[s];a[s]=a[r],a[r]=l}return a.length=t,a}function ra(e){return na(e,Ts)}function aa(e){var t=e?Vs(e):0;return ir(t)?t:Ol(e).length}function oa(e,t,i){var n=_l(e)?pi:Xi;return i&&Qn(e,t,i)&&(t=x),("function"!=typeof t||i!==x)&&(t=Gn(t,i,3)),n(e,t)}function sa(e,t,i){if(null==e)return[];i&&Qn(e,t,i)&&(t=x);var n=-1;t=Gn(t,i,3);var r=Li(e,function(e,i,r){return{criteria:t(e,i,r),index:++n,value:e}});return $i(r,s)}function la(e,t,i,n){return null==e?[]:(n&&Qn(t,i,n)&&(i=x),_l(t)||(t=null==t?[]:[t]),_l(i)||(i=null==i?[]:[i]),Ji(e,t,i))}function ca(e,t){return Jr(e,Bi(t))}function da(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new $o(O);var i=e;e=t,t=i}return e=ws(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function ua(e,t,i){return i&&Qn(e,t,i)&&(t=x),t=e&&null==t?e.length:xs(+t||0,0),Fn(e,D,x,x,x,x,t)}function pa(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new $o(O);var n=e;e=t,t=n}return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=x),i}}function ha(e,t,i){function n(){h&&ss(h),c&&ss(c),m=0,c=h=f=x}function r(t,i){i&&ss(i),c=h=f=x,t&&(m=ml(),d=e.apply(p,l),h||c||(l=p=x))}function a(){var e=t-(ml()-u);0>=e||e>t?r(f,c):h=ps(a,e)}function o(){r(v,h)}function s(){if(l=arguments,u=ml(),p=this,f=v&&(h||!b),g===!1)var i=b&&!h;else{c||b||(m=u);var n=g-(u-m),r=0>=n||n>g;r?(c&&(c=ss(c)),m=u,d=e.apply(p,l)):c||(c=ps(o,n))}return r&&h?h=ss(h):h||t===g||(h=ps(a,t)),i&&(r=!0,d=e.apply(p,l)),!r||h||c||(l=p=x),d}var l,c,d,u,p,h,f,m=0,g=!1,v=!0;if("function"!=typeof e)throw new $o(O);if(t=0>t?0:+t||0,i===!0){var b=!0;v=!1}else Ra(i)&&(b=!!i.leading,g="maxWait"in i&&xs(+i.maxWait||0,t),v="trailing"in i?!!i.trailing:v);return s.cancel=n,s}function fa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new $o(O);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=e.apply(this,n);return i.cache=a.set(r,o),o};return i.cache=new fa.Cache,i}function ma(e){if("function"!=typeof e)throw new $o(O);return function(){return!e.apply(this,arguments)}}function ga(e){return pa(2,e)}function va(e,t){if("function"!=typeof e)throw new $o(O);return t=xs(t===x?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,r=xs(i.length-t,0),a=Go(r);++n<r;)a[n]=i[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,i[0],a);case 2:return e.call(this,i[0],i[1],a)}var o=Go(t+1);for(n=-1;++n<t;)o[n]=i[n];return o[t]=a,e.apply(this,o)}}function ba(e){if("function"!=typeof e)throw new $o(O);return function(t){return e.apply(this,t)}}function ya(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new $o(O);return i===!1?n=!1:Ra(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),ha(e,t,{leading:n,maxWait:+t,trailing:r})}function wa(e,t){return t=null==t?To:t,Fn(t,_,x,[e],[])}function Ca(e,t,i,n){return t&&"boolean"!=typeof t&&Qn(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?Ci(e,t,on(i,n,3)):Ci(e,t)}function xa(e,t,i){return"function"==typeof t?Ci(e,!0,on(t,i,3)):Ci(e,!0)}function Ia(e,t){return e>t}function Ma(e,t){return e>=t}function Aa(e){return f(e)&&Jn(e)&&ts.call(e,"callee")&&!ds.call(e,"callee")}function ka(e){return e===!0||e===!1||f(e)&&ns.call(e)==W}function Na(e){return f(e)&&ns.call(e)==q}function Ta(e){return!!e&&1===e.nodeType&&f(e)&&!Oa(e)}function _a(e){return null==e?!0:Jn(e)&&(_l(e)||Va(e)||Aa(e)||f(e)&&Pa(e.splice))?!e.length:!Ol(e).length}function Sa(e,t,i,n){i="function"==typeof i?on(i,n,3):x;var r=i?i(e,t):x;return r===x?ji(e,t,i):!!r}function Da(e){return f(e)&&"string"==typeof e.message&&ns.call(e)==U}function Ea(e){return"number"==typeof e&&ws(e)}function Pa(e){return Ra(e)&&ns.call(e)==Z}function Ra(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ja(e,t,i,n){return i="function"==typeof i?on(i,n,3):x,Fi(e,Wn(t),i)}function za(e){return Ba(e)&&e!=+e}function Fa(e){return null==e?!1:Pa(e)?as.test(es.call(e)):f(e)&&Dt.test(e)}function La(e){return null===e}function Ba(e){return"number"==typeof e||f(e)&&ns.call(e)==X}function Oa(e){var t;if(!f(e)||ns.call(e)!=$||Aa(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return Si(e,function(e,t){i=t}),i===x||ts.call(e,i)}function Ga(e){return Ra(e)&&ns.call(e)==J}function Va(e){return"string"==typeof e||f(e)&&ns.call(e)==Q}function Ha(e){return f(e)&&ir(e.length)&&!!Bt[ns.call(e)]}function Wa(e){return e===x}function qa(e,t){return t>e}function Ua(e,t){return t>=e}function Za(e){var t=e?Vs(e):0;return ir(t)?t?ii(e):[]:ao(e)}function Ya(e){return yi(e,eo(e))}function Xa(e,t,i){var n=js(e);return i&&Qn(e,t,i)&&(t=x),t?vi(n,t):n}function $a(e){return Pi(e,eo(e))}function Ja(e,t,i){var n=null==e?x:Ri(e,pr(t),t+"");return n===x?i:n}function Ka(e,t){if(null==e)return!1;var i=ts.call(e,t);if(!i&&!er(t)){if(t=pr(t),e=1==t.length?e:Ri(e,Yi(t,0,-1)),null==e)return!1;t=kr(t),i=ts.call(e,t)}return i||ir(e.length)&&Kn(t,e.length)&&(_l(e)||Aa(e))}function Qa(e,t,i){i&&Qn(e,t,i)&&(t=x);for(var n=-1,r=Ol(e),a=r.length,o={};++n<a;){var s=r[n],l=e[s];t?ts.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function eo(e){if(null==e)return[];Ra(e)||(e=Zo(e));var t=e.length;t=t&&ir(t)&&(_l(e)||Aa(e))&&t||0;for(var i=e.constructor,n=-1,r="function"==typeof i&&i.prototype===e,a=Go(t),o=t>0;++n<t;)a[n]=n+"";for(var s in e)o&&Kn(s,t)||"constructor"==s&&(r||!ts.call(e,s))||a.push(s);return a}function to(e){e=ur(e);for(var t=-1,i=Ol(e),n=i.length,r=Go(n);++t<n;){var a=i[t];r[t]=[a,e[a]]}return r}function io(e,t,i){var n=null==e?x:e[t];return n===x&&(null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Ri(e,Yi(t,0,-1)),n=null==e?x:e[kr(t)]),n=n===x?i:n),Pa(n)?n.call(e):n}function no(e,t,i){if(null==e)return e;var n=t+"";t=null!=e[n]||er(t,e)?[n]:pr(t);for(var r=-1,a=t.length,o=a-1,s=e;null!=s&&++r<a;){var l=t[r];Ra(s)&&(r==o?s[l]=i:null==s[l]&&(s[l]=Kn(t[r+1])?[]:{})),s=s[l]}return e}function ro(e,t,i,n){var r=_l(e)||Ha(e);if(t=Gn(t,n,4),null==i)if(r||Ra(e)){var a=e.constructor;i=r?_l(e)?new a:[]:js(Pa(a)?a.prototype:x)}else i={};return(r?ni:Di)(e,function(e,n,r){return t(i,e,n,r)}),i}function ao(e){return en(e,Ol(e))}function oo(e){return en(e,eo(e))}function so(e,t,i){return t=+t||0,i===x?(i=t,t=0):i=+i||0,e>=Is(t,i)&&e<xs(t,i)}function lo(e,t,i){i&&Qn(e,t,i)&&(t=i=x);var n=null==e,r=null==t;if(null==i&&(r&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof t&&(i=t,r=!0)),n&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,i||e%1||t%1){var a=ks();return Is(e+a*(t-e+ls("1e-"+((a+"").length-1))),t)}return Ui(e,t)}function co(e){return e=r(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function uo(e){return e=r(e),e&&e.replace(Pt,c).replace(kt,"")}function po(e,t,i){e=r(e),t+="";var n=e.length;return i=i===x?n:Is(0>i?0:+i||0,n),i-=t.length,i>=0&&e.indexOf(t,i)==i}function ho(e){return e=r(e),e&&vt.test(e)?e.replace(mt,d):e}function fo(e){return e=r(e),e&&At.test(e)?e.replace(Mt,u):e||"(?:)"}function mo(e,t,i){e=r(e),t=+t;var n=e.length;if(n>=t||!ws(t))return e;var a=(t-n)/2,o=bs(a),s=gs(a);return i=Pn("",s,i),i.slice(0,o)+e+i}function go(e,t,i){return(i?Qn(e,t,i):null==t)?t=0:t&&(t=+t),e=wo(e),As(e,t||(St.test(e)?16:10))}function vo(e,t){var i="";if(e=r(e),t=+t,1>t||!e||!ws(t))return i;do t%2&&(i+=e),t=bs(t/2),e+=e;while(t);return i}function bo(e,t,i){return e=r(e),i=null==i?0:Is(0>i?0:+i||0,e.length),e.lastIndexOf(t,i)==i}function yo(e,t,i){var n=Y.templateSettings;i&&Qn(e,t,i)&&(t=i=x),e=r(e),t=gi(vi({},i||t),n,mi);var a,o,s=gi(vi({},t.imports),n.imports,mi),l=Ol(s),c=en(s,l),d=0,u=t.interpolate||Rt,h="__p += '",f=Yo((t.escape||Rt).source+"|"+u.source+"|"+(u===wt?Tt:Rt).source+"|"+(t.evaluate||Rt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Lt+"]")+"\n";e.replace(f,function(t,i,n,r,s,l){return n||(n=r),h+=e.slice(d,l).replace(jt,p),i&&(a=!0,h+="' +\n__e("+i+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(ut,""):h).replace(pt,"$1").replace(ht,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Jl(function(){return Wo(l,m+"return "+h).apply(x,c)});if(v.source=h,Da(v))throw v;return v}function wo(e,t,i){var n=e;return(e=r(e))?(i?Qn(n,t,i):null==t)?e.slice(b(e),y(e)+1):(t+="",e.slice(a(e,t),o(e,t)+1)):e}function Co(e,t,i){var n=e;return e=r(e),e?e.slice((i?Qn(n,t,i):null==t)?b(e):a(e,t+"")):e}function xo(e,t,i){var n=e;return e=r(e),e?(i?Qn(n,t,i):null==t)?e.slice(0,y(e)+1):e.slice(0,o(e,t+"")+1):e}function Io(e,t,i){i&&Qn(e,t,i)&&(t=x);var n=P,a=R;if(null!=t)if(Ra(t)){var o="separator"in t?t.separator:o;n="length"in t?+t.length||0:n,a="omission"in t?r(t.omission):a}else n=+t||0;if(e=r(e),n>=e.length)return e;var s=n-a.length;if(1>s)return a;var l=e.slice(0,s);if(null==o)return l+a;if(Ga(o)){if(e.slice(s).search(o)){var c,d,u=e.slice(0,s);for(o.global||(o=Yo(o.source,(_t.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(u);)d=c.index;l=l.slice(0,null==d?s:d)}}else if(e.indexOf(o,s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+a}function Mo(e){return e=r(e),e&&gt.test(e)?e.replace(ft,w):e}function Ao(e,t,i){return i&&Qn(e,t,i)&&(t=x),e=r(e),e.match(t||zt)||[]}function ko(e,t,i){return i&&Qn(e,t,i)&&(t=x),f(e)?_o(e):wi(e,t)}function No(e){return function(){return e}}function To(e){return e}function _o(e){return Bi(Ci(e,!0))}function So(e,t){return Oi(e,Ci(t,!0))}function Do(e,t,i){if(null==i){var n=Ra(t),r=n?Ol(t):x,a=r&&r.length?Pi(t,r):x;(a?a.length:n)||(a=!1,i=t,t=e,e=this)}a||(a=Pi(t,Ol(t)));var o=!0,s=-1,l=Pa(e),c=a.length;i===!1?o=!1:Ra(i)&&"chain"in i&&(o=i.chain);for(;++s<c;){var d=a[s],u=t[d];e[d]=u,l&&(e.prototype[d]=function(t){return function(){var i=this.__chain__;if(o||i){var n=e(this.__wrapped__),r=n.__actions__=ii(this.__actions__);return r.push({func:t,args:arguments,thisArg:e}),n.__chain__=i,n}return t.apply(e,ci([this.value()],arguments))}}(u))}return e}function Eo(){return Qt._=rs,this}function Po(){}function Ro(e){return er(e)?Hi(e):Wi(e)}function jo(e){return function(t){return Ri(e,pr(t),t+"")}}function zo(e,t,i){i&&Qn(e,t,i)&&(t=i=x),e=+e||0,i=null==i?1:+i||0,null==t?(t=e,e=0):t=+t||0;for(var n=-1,r=xs(gs((t-e)/(i||1)),0),a=Go(r);++n<r;)a[n]=e,e+=i;return a}function Fo(e,t,i){if(e=bs(e),1>e||!ws(e))return[];var n=-1,r=Go(Is(e,_s));for(t=on(t,i,1);++n<e;)_s>n?r[n]=t(n):t(n);return r}function Lo(e){var t=++is;return r(e)+t}function Bo(e,t){return(+e||0)+(+t||0)}function Oo(e,t,i){return i&&Qn(e,t,i)&&(t=x),t=Gn(t,i,3),1==t.length?hi(_l(e)?e:dr(e),t):Ki(e,t)}m=m?ei.defaults(Qt.Object(),m,ei.pick(Qt,Ft)):Qt;{var Go=m.Array,Vo=m.Date,Ho=m.Error,Wo=m.Function,qo=m.Math,Uo=m.Number,Zo=m.Object,Yo=m.RegExp,Xo=m.String,$o=m.TypeError,Jo=Go.prototype,Ko=Zo.prototype,Qo=Xo.prototype,es=Wo.prototype.toString,ts=Ko.hasOwnProperty,is=0,ns=Ko.toString,rs=Qt._,as=Yo("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=m.ArrayBuffer,ss=m.clearTimeout,ls=m.parseFloat,cs=qo.pow,ds=Ko.propertyIsEnumerable,us=qn(m,"Set"),ps=m.setTimeout,hs=Jo.splice,fs=m.Uint8Array,ms=qn(m,"WeakMap"),gs=qo.ceil,vs=qn(Zo,"create"),bs=qo.floor,ys=qn(Go,"isArray"),ws=m.isFinite,Cs=qn(Zo,"keys"),xs=qo.max,Is=qo.min,Ms=qn(Vo,"now"),As=m.parseInt,ks=qo.random,Ns=Uo.NEGATIVE_INFINITY,Ts=Uo.POSITIVE_INFINITY,_s=4294967295,Ss=_s-1,Ds=_s>>>1,Es=9007199254740991,Ps=ms&&new ms,Rs={};Y.support={}}Y.templateSettings={escape:bt,evaluate:yt,interpolate:wt,variable:"",imports:{_:Y}};var js=function(){function e(){}return function(t){if(Ra(t)){e.prototype=t;var i=new e;e.prototype=x}return i||{}}}(),zs=pn(Di),Fs=pn(Ei,!0),Ls=hn(),Bs=hn(!0),Os=Ps?function(e,t){return Ps.set(e,t),e}:To,Gs=Ps?function(e){return Ps.get(e)}:Po,Vs=Hi("length"),Hs=function(){var e=0,t=0;return function(i,n){var r=ml(),a=z-(r-t);if(t=r,a>0){if(++e>=j)return i}else e=0;return Os(i,n)}}(),Ws=va(function(e,t){return f(e)&&Jn(e)?Ii(e,_i(t,!1,!0)):[]}),qs=xn(),Us=xn(!0),Zs=va(function(e){for(var t=e.length,n=t,r=Go(u),a=Hn(),o=a===i,s=[];n--;){var l=e[n]=Jn(l=e[n])?l:[];r[n]=o&&l.length>=120?mn(n&&l):null}var c=e[0],d=-1,u=c?c.length:0,p=r[0];e:for(;++d<u;)if(l=c[d],(p?Jt(p,l):a(s,l,0))<0){for(var n=t;--n;){var h=r[n];if((h?Jt(h,l):a(e[n],l,0))<0)continue e}p&&p.push(l),s.push(l)}return s}),Ys=va(function(t,i){i=_i(i);var n=bi(t,i);return qi(t,i.sort(e)),n}),Xs=zn(),$s=zn(!0),Js=va(function(e){return Qi(_i(e,!1,!0))}),Ks=va(function(e,t){return Jn(e)?Ii(e,t):[]}),Qs=va(Fr),el=va(function(e){var t=e.length,i=t>2?e[t-2]:x,n=t>1?e[t-1]:x;return t>2&&"function"==typeof i?t-=2:(i=t>1&&"function"==typeof n?(--t,n):x,n=x),e.length=t,Lr(e,i,n)}),tl=va(function(e){return e=_i(e),this.thru(function(t){return ti(_l(t)?t:[ur(t)],e)})}),il=va(function(e,t){return bi(e,_i(t))}),nl=dn(function(e,t,i){ts.call(e,i)?++e[i]:e[i]=1}),rl=Cn(zs),al=Cn(Fs,!0),ol=An(ni,zs),sl=An(ri,Fs),ll=dn(function(e,t,i){ts.call(e,i)?e[i].push(t):e[i]=[t]}),cl=dn(function(e,t,i){e[i]=t}),dl=va(function(e,t,i){var n=-1,r="function"==typeof t,a=er(t),o=Jn(e)?Go(e.length):[];return zs(e,function(e){var s=r?t:a&&null!=e?e[t]:x;o[++n]=s?s.apply(e,i):$n(e,t,i)}),o}),ul=dn(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),pl=Dn(di,zs),hl=Dn(ui,Fs),fl=va(function(e,t){if(null==e)return[];var i=t[2];return i&&Qn(t[0],t[1],i)&&(t.length=1),Ji(e,_i(t),[])}),ml=Ms||function(){return(new Vo).getTime()},gl=va(function(e,t,i){var n=M;if(i.length){var r=g(i,gl.placeholder);n|=_}return Fn(e,n,t,i,r)}),vl=va(function(e,t){t=t.length?_i(t):$a(e);for(var i=-1,n=t.length;++i<n;){var r=t[i];e[r]=Fn(e[r],M,e)}return e}),bl=va(function(e,t,i){var n=M|A;if(i.length){var r=g(i,bl.placeholder);n|=_}return Fn(t,n,e,i,r)}),yl=bn(N),wl=bn(T),Cl=va(function(e,t){return xi(e,1,t)}),xl=va(function(e,t,i){return xi(e,t,i)}),Il=Mn(),Ml=Mn(!0),Al=va(function(e,t){if(t=_i(t),"function"!=typeof e||!ai(t,n))throw new $o(O);var i=t.length;return va(function(n){for(var r=Is(n.length,i);r--;)n[r]=t[r](n[r]);return e.apply(this,n)})}),kl=Sn(_),Nl=Sn(S),Tl=va(function(e,t){return Fn(e,E,x,x,x,_i(t))}),_l=ys||function(e){return f(e)&&ir(e.length)&&ns.call(e)==H
},Sl=un(Gi),Dl=un(function(e,t,i){return i?gi(e,t,i):vi(e,t)}),El=yn(Dl,fi),Pl=yn(Sl,ar),Rl=In(Di),jl=In(Ei),zl=kn(Ls),Fl=kn(Bs),Ll=Nn(Di),Bl=Nn(Ei),Ol=Cs?function(e){var t=null==e?x:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?cr(e):Ra(e)?Cs(e):[]}:cr,Gl=Tn(!0),Vl=Tn(),Hl=va(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=li(_i(t),Xo);return or(e,Ii(eo(e),t))}var i=on(t[0],t[1],3);return sr(e,function(e,t,n){return!i(e,t,n)})}),Wl=va(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,on(t[0],t[1],3)):or(e,_i(t))}),ql=gn(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ul=gn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Zl=_n(),Yl=_n(!0),Xl=gn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),$l=gn(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Jl=va(function(e,t){try{return e.apply(x,t)}catch(i){return Da(i)?i:new Ho(i)}}),Kl=va(function(e,t){return function(i){return $n(i,e,t)}}),Ql=va(function(e,t){return function(i){return $n(e,i,t)}}),ec=jn("ceil"),tc=jn("floor"),ic=wn(Ia,Ns),nc=wn(qa,Ts),rc=jn("round");return Y.prototype=K.prototype,et.prototype=js(K.prototype),et.prototype.constructor=et,Gt.prototype=js(K.prototype),Gt.prototype.constructor=Gt,qt.prototype["delete"]=Ut,qt.prototype.get=Zt,qt.prototype.has=Yt,qt.prototype.set=Xt,$t.prototype.push=Kt,fa.Cache=qt,Y.after=da,Y.ary=ua,Y.assign=Dl,Y.at=il,Y.before=pa,Y.bind=gl,Y.bindAll=vl,Y.bindKey=bl,Y.callback=ko,Y.chain=Gr,Y.chunk=fr,Y.compact=mr,Y.constant=No,Y.countBy=nl,Y.create=Xa,Y.curry=yl,Y.curryRight=wl,Y.debounce=ha,Y.defaults=El,Y.defaultsDeep=Pl,Y.defer=Cl,Y.delay=xl,Y.difference=Ws,Y.drop=gr,Y.dropRight=vr,Y.dropRightWhile=br,Y.dropWhile=yr,Y.fill=wr,Y.filter=Jr,Y.flatten=xr,Y.flattenDeep=Ir,Y.flow=Il,Y.flowRight=Ml,Y.forEach=ol,Y.forEachRight=sl,Y.forIn=zl,Y.forInRight=Fl,Y.forOwn=Ll,Y.forOwnRight=Bl,Y.functions=$a,Y.groupBy=ll,Y.indexBy=cl,Y.initial=Ar,Y.intersection=Zs,Y.invert=Qa,Y.invoke=dl,Y.keys=Ol,Y.keysIn=eo,Y.map=ea,Y.mapKeys=Gl,Y.mapValues=Vl,Y.matches=_o,Y.matchesProperty=So,Y.memoize=fa,Y.merge=Sl,Y.method=Kl,Y.methodOf=Ql,Y.mixin=Do,Y.modArgs=Al,Y.negate=ma,Y.omit=Hl,Y.once=ga,Y.pairs=to,Y.partial=kl,Y.partialRight=Nl,Y.partition=ul,Y.pick=Wl,Y.pluck=ta,Y.property=Ro,Y.propertyOf=jo,Y.pull=Tr,Y.pullAt=Ys,Y.range=zo,Y.rearg=Tl,Y.reject=ia,Y.remove=_r,Y.rest=Sr,Y.restParam=va,Y.set=no,Y.shuffle=ra,Y.slice=Dr,Y.sortBy=sa,Y.sortByAll=fl,Y.sortByOrder=la,Y.spread=ba,Y.take=Er,Y.takeRight=Pr,Y.takeRightWhile=Rr,Y.takeWhile=jr,Y.tap=Vr,Y.throttle=ya,Y.thru=Hr,Y.times=Fo,Y.toArray=Za,Y.toPlainObject=Ya,Y.transform=ro,Y.union=Js,Y.uniq=zr,Y.unzip=Fr,Y.unzipWith=Lr,Y.values=ao,Y.valuesIn=oo,Y.where=ca,Y.without=Ks,Y.wrap=wa,Y.xor=Br,Y.zip=Qs,Y.zipObject=Or,Y.zipWith=el,Y.backflow=Ml,Y.collect=ea,Y.compose=Ml,Y.each=ol,Y.eachRight=sl,Y.extend=Dl,Y.iteratee=ko,Y.methods=$a,Y.object=Or,Y.select=Jr,Y.tail=Sr,Y.unique=zr,Do(Y,Y),Y.add=Bo,Y.attempt=Jl,Y.camelCase=ql,Y.capitalize=co,Y.ceil=ec,Y.clone=Ca,Y.cloneDeep=xa,Y.deburr=uo,Y.endsWith=po,Y.escape=ho,Y.escapeRegExp=fo,Y.every=$r,Y.find=rl,Y.findIndex=qs,Y.findKey=Rl,Y.findLast=al,Y.findLastIndex=Us,Y.findLastKey=jl,Y.findWhere=Kr,Y.first=Cr,Y.floor=tc,Y.get=Ja,Y.gt=Ia,Y.gte=Ma,Y.has=Ka,Y.identity=To,Y.includes=Qr,Y.indexOf=Mr,Y.inRange=so,Y.isArguments=Aa,Y.isArray=_l,Y.isBoolean=ka,Y.isDate=Na,Y.isElement=Ta,Y.isEmpty=_a,Y.isEqual=Sa,Y.isError=Da,Y.isFinite=Ea,Y.isFunction=Pa,Y.isMatch=ja,Y.isNaN=za,Y.isNative=Fa,Y.isNull=La,Y.isNumber=Ba,Y.isObject=Ra,Y.isPlainObject=Oa,Y.isRegExp=Ga,Y.isString=Va,Y.isTypedArray=Ha,Y.isUndefined=Wa,Y.kebabCase=Ul,Y.last=kr,Y.lastIndexOf=Nr,Y.lt=qa,Y.lte=Ua,Y.max=ic,Y.min=nc,Y.noConflict=Eo,Y.noop=Po,Y.now=ml,Y.pad=mo,Y.padLeft=Zl,Y.padRight=Yl,Y.parseInt=go,Y.random=lo,Y.reduce=pl,Y.reduceRight=hl,Y.repeat=vo,Y.result=io,Y.round=rc,Y.runInContext=C,Y.size=aa,Y.snakeCase=Xl,Y.some=oa,Y.sortedIndex=Xs,Y.sortedLastIndex=$s,Y.startCase=$l,Y.startsWith=bo,Y.sum=Oo,Y.template=yo,Y.trim=wo,Y.trimLeft=Co,Y.trimRight=xo,Y.trunc=Io,Y.unescape=Mo,Y.uniqueId=Lo,Y.words=Ao,Y.all=$r,Y.any=oa,Y.contains=Qr,Y.eq=Sa,Y.detect=rl,Y.foldl=pl,Y.foldr=hl,Y.head=Cr,Y.include=Qr,Y.inject=pl,Do(Y,function(){var e={};return Di(Y,function(t,i){Y.prototype[i]||(e[i]=t)}),e}(),!1),Y.sample=na,Y.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return na(t,e)}):na(this.value())},Y.VERSION=I,ni(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Y[e].placeholder=Y}),ni(["drop","take"],function(e,t){Gt.prototype[e]=function(i){var n=this.__filtered__;if(n&&!t)return new Gt(this);i=null==i?1:xs(bs(i)||0,0);var r=this.clone();return n?r.__takeCount__=Is(r.__takeCount__,i):r.__views__.push({size:i,type:e+(r.__dir__<0?"Right":"")}),r},Gt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),ni(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i!=B;Gt.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:Gn(e,t,1),type:i}),r.__filtered__=r.__filtered__||n,r}}),ni(["first","last"],function(e,t){var i="take"+(t?"Right":"");Gt.prototype[e]=function(){return this[i](1).value()[0]}}),ni(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");Gt.prototype[e]=function(){return this.__filtered__?new Gt(this):this[i](1)}}),ni(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?Bi:Ro;Gt.prototype[e]=function(e){return this[i](n(e))}}),Gt.prototype.compact=function(){return this.filter(To)},Gt.prototype.reject=function(e,t){return e=Gn(e,t,1),this.filter(function(t){return!e(t)})},Gt.prototype.slice=function(e,t){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(e>0||0>t)?new Gt(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==x&&(t=+t||0,i=0>t?i.dropRight(-t):i.take(t-e)),i)},Gt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Gt.prototype.toArray=function(){return this.take(Ts)},Di(Gt.prototype,function(e,t){var i=/^(?:filter|map|reject)|While$/.test(t),n=/^(?:first|last)$/.test(t),r=Y[n?"take"+("last"==t?"Right":""):t];r&&(Y.prototype[t]=function(){var t=n?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof Gt,c=t[0],d=l||_l(o);d&&i&&"function"==typeof c&&1!=c.length&&(l=d=!1);var u=function(e){return n&&a?r(e,1)[0]:r.apply(x,ci([e],t))},p={func:Hr,args:[u],thisArg:x},h=l&&!s;if(n&&!a)return h?(o=o.clone(),o.__actions__.push(p),e.call(o)):r.call(x,this.value())[0];if(!n&&d){o=h?o:new Gt(this);var f=e.apply(o,t);return f.__actions__.push(p),new et(f,a)}return this.thru(u)})}),ni(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Qo:Jo)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(e);Y.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[i](function(i){return t.apply(i,e)})}}),Di(Gt.prototype,function(e,t){var i=Y[t];if(i){var n=i.name+"",r=Rs[n]||(Rs[n]=[]);r.push({name:t,func:i})}}),Rs[En(x,A).name]=[{name:"wrapper",func:x}],Gt.prototype.clone=Vt,Gt.prototype.reverse=Ht,Gt.prototype.value=Wt,Y.prototype.chain=Wr,Y.prototype.commit=qr,Y.prototype.concat=tl,Y.prototype.plant=Ur,Y.prototype.reverse=Zr,Y.prototype.toString=Yr,Y.prototype.run=Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=Xr,Y.prototype.collect=Y.prototype.map,Y.prototype.head=Y.prototype.first,Y.prototype.select=Y.prototype.filter,Y.prototype.tail=Y.prototype.rest,Y}var x,I="3.10.1",M=1,A=2,k=4,N=8,T=16,_=32,S=64,D=128,E=256,P=30,R="...",j=150,z=16,F=200,L=1,B=2,O="Expected a function",G="__lodash_placeholder__",V="[object Arguments]",H="[object Array]",W="[object Boolean]",q="[object Date]",U="[object Error]",Z="[object Function]",Y="[object Map]",X="[object Number]",$="[object Object]",J="[object RegExp]",K="[object Set]",Q="[object String]",et="[object WeakMap]",tt="[object ArrayBuffer]",it="[object Float32Array]",nt="[object Float64Array]",rt="[object Int8Array]",at="[object Int16Array]",ot="[object Int32Array]",st="[object Uint8Array]",lt="[object Uint8ClampedArray]",ct="[object Uint16Array]",dt="[object Uint32Array]",ut=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/&(?:amp|lt|gt|quot|#39|#96);/g,mt=/[&<>"'`]/g,gt=RegExp(ft.source),vt=RegExp(mt.source),bt=/<%-([\s\S]+?)%>/g,yt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xt=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Mt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,At=RegExp(Mt.source),kt=/[\u0300-\u036f\ufe20-\ufe23]/g,Nt=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,St=/^0[xX]/,Dt=/^\[object .+?Constructor\]$/,Et=/^\d+$/,Pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rt=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,zt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ft=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Lt=-1,Bt={};Bt[it]=Bt[nt]=Bt[rt]=Bt[at]=Bt[ot]=Bt[st]=Bt[lt]=Bt[ct]=Bt[dt]=!0,Bt[V]=Bt[H]=Bt[tt]=Bt[W]=Bt[q]=Bt[U]=Bt[Z]=Bt[Y]=Bt[X]=Bt[$]=Bt[J]=Bt[K]=Bt[Q]=Bt[et]=!1;var Ot={};Ot[V]=Ot[H]=Ot[tt]=Ot[W]=Ot[q]=Ot[it]=Ot[nt]=Ot[rt]=Ot[at]=Ot[ot]=Ot[X]=Ot[$]=Ot[J]=Ot[Q]=Ot[st]=Ot[lt]=Ot[ct]=Ot[dt]=!0,Ot[U]=Ot[Z]=Ot[Y]=Ot[K]=Ot[et]=!1;var Gt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss"},Vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wt={"function":!0,object:!0},qt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=Wt[typeof exports]&&exports&&!exports.nodeType&&exports,Yt=Wt[typeof module]&&module&&!module.nodeType&&module,Xt=Zt&&Yt&&"object"==typeof global&&global&&global.Object&&global,$t=Wt[typeof self]&&self&&self.Object&&self,Jt=Wt[typeof window]&&window&&window.Object&&window,Kt=Yt&&Yt.exports===Zt&&Zt,Qt=Xt||Jt!==(this&&this.window)&&Jt||$t||this,ei=C();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qt._=ei,define("lodash",[],function(){return ei})):Zt&&Yt?Kt?(Yt.exports=ei)._=ei:Zt._=ei:Qt._=ei}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("joint",["backbone","lodash","jquery"],function(i,n,r){return i.$=r,t(e,i,n,r)});else if("undefined"!=typeof exports){var i=require("backbone"),n=require("lodash"),r=i.$=require("jquery");module.exports=t(e,i,n,r)}else{var i=e.Backbone,n=e._,r=i.$=e.jQuery||e.$;e.joint=t(e,i,n,r),e.g=e.joint.g,e.V=e.Vectorizer=e.joint.V}}(this,function(e,t,i,n){var r,a,o=function(){function e(t,i){if(!(this instanceof e))return new e(t,i);var n;void 0===i&&Object(t)!==t?(n=t.split(-1===t.indexOf("@")?" ":"@"),this.x=parseInt(n[0],10),this.y=parseInt(n[1],10)):Object(t)===t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i)}function t(i,n){return this instanceof t?(this.start=e(i),void(this.end=e(n))):new t(i,n)}function i(e,t,n,r){return this instanceof i?(void 0===t&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e,this.y=t,this.width=n,void(this.height=r)):new i(e,t,n,r)}function n(t,i,r){return this instanceof n?(t=e(t),this.x=t.x,this.y=t.y,this.a=i,void(this.b=r)):new n(t,i,r)}var r=Math,a=r.abs,s=r.cos,l=r.sin,c=r.sqrt,d=r.min,u=r.max,p=(r.atan,r.atan2),h=(r.acos,r.round),f=r.floor,m=r.PI,g=r.random,v=function(e){return 180*e/m%360},b=function(e,t){return t=t||!1,e=t?e:e%360,e*m/180},y=function(e,t){return t*Math.round(e/t)},w=function(e){return e%360+(0>e?360:0)};e.prototype={toString:function(){return this.x+"@"+this.y},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=d(u(this.x,e.x),e.x+e.width),this.y=d(u(this.y,e.y),e.y+e.height),this)},theta:function(t){t=e(t);var i=-(t.y-this.y),n=t.x-this.x,r=10,a=0==i.toFixed(r)&&0==n.toFixed(r)?0:p(i,n);return 0>a&&(a=2*m+a),180*a/m},distance:function(e){return t(this,e).length()},manhattanDistance:function(e){return a(e.x-this.x)+a(e.y-this.y)},offset:function(e,t){return this.x+=e||0,this.y+=t||0,this},magnitude:function(){return c(this.x*this.x+this.y*this.y)||.01},update:function(e,t){return this.x=e||0,this.y=t||0,this},round:function(e){return this.x=e?this.x.toFixed(e):h(this.x),this.y=e?this.y.toFixed(e):h(this.y),this},normalize:function(e){var t=(e||1)/this.magnitude();return this.x=t*this.x,this.y=t*this.y,this},difference:function(t){return e(this.x-t.x,this.y-t.y)},bearing:function(e){return t(this,e).bearing()},toPolar:function(t){t=t&&e(t)||e(0,0);var i=this.x,n=this.y;return this.x=c((i-t.x)*(i-t.x)+(n-t.y)*(n-t.y)),this.y=b(t.theta(e(i,n))),this},rotate:function(t,i){i=(i+360)%360,this.toPolar(t),this.y+=b(i);var n=e.fromPolar(this.x,this.y,t);return this.x=n.x,this.y=n.y,this},move:function(t,i){var n=b(e(t).theta(this));return this.offset(s(n)*i,-l(n)*i)},changeInAngle:function(t,i,n){return e(this).offset(-t,-i).theta(n)-this.theta(n)},equals:function(e){return this.x===e.x&&this.y===e.y},snapToGrid:function(e,t){return this.x=y(this.x,e),this.y=y(this.y,t||e),this},reflection:function(t){return e(t).move(this,this.distance(t))},clone:function(){return e(this)}},e.fromPolar=function(t,i,n){n=n&&e(n)||e(0,0);var r=a(t*s(i)),o=a(t*l(i)),c=w(v(i));return 90>c?o=-o:180>c?(r=-r,o=-o):270>c&&(r=-r),e(n.x+r,n.y+o)},e.random=function(t,i,n,r){return e(f(g()*(i-t+1)+t),f(g()*(r-n+1)+n))},t.prototype={toString:function(){return this.start.toString()+" "+this.end.toString()},length:function(){return c(this.squaredLength())},squaredLength:function(){var e=this.start.x,t=this.start.y,i=this.end.x,n=this.end.y;return(e-=i)*e+(t-=n)*t},midpoint:function(){return e((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},intersection:function(t){var i=e(this.end.x-this.start.x,this.end.y-this.start.y),n=e(t.end.x-t.start.x,t.end.y-t.start.y),r=i.x*n.y-i.y*n.x,a=e(t.start.x-this.start.x,t.start.y-this.start.y),o=a.x*n.y-a.y*n.x,s=a.x*i.y-a.y*i.x;if(0===r||0>o*r||0>s*r)return null;if(r>0){if(o>r||s>r)return null}else if(r>o||r>s)return null;return e(this.start.x+o*i.x/r,this.start.y+o*i.y/r)},bearing:function(){var e=b(this.start.y),t=b(this.end.y),i=this.start.x,n=this.end.x,r=b(n-i),a=l(r)*s(t),o=s(e)*l(t)-l(e)*s(t)*s(r),c=v(p(a,o)),d=["NE","E","SE","S","SW","W","NW","N"],u=c-22.5;return 0>u&&(u+=360),u=parseInt(u/45),d[u]},pointAt:function(t){var i=(1-t)*this.start.x+t*this.end.x,n=(1-t)*this.start.y+t*this.end.y;return e(i,n)},pointOffset:function(e){return((this.end.x-this.start.x)*(e.y-this.start.y)-(this.end.y-this.start.y)*(e.x-this.start.x))/2},clone:function(){return t(this)}},i.prototype={toString:function(){return this.origin().toString()+" "+this.corner().toString()},equals:function(e){var t=o.rect(this).normalize(),i=o.rect(e).normalize();return t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height},origin:function(){return e(this.x,this.y)},corner:function(){return e(this.x+this.width,this.y+this.height)},topRight:function(){return e(this.x+this.width,this.y)},bottomLeft:function(){return e(this.x,this.y+this.height)},center:function(){return e(this.x+this.width/2,this.y+this.height/2)},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),a=e.corner();if(a.x<=t.x||a.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=Math.max(t.x,r.x),s=Math.max(t.y,r.y);return i(o,s,Math.min(n.x,a.x)-o,Math.min(n.y,a.y)-s)},union:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),a=e.corner(),o=Math.min(t.x,r.x),s=Math.min(t.y,r.y),l=Math.max(n.x,a.x),c=Math.max(n.y,a.y);return i(o,s,l-o,c-s)},sideNearestToPoint:function(t){t=e(t);var i=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,a=this.y+this.height-t.y,o=i,s="left";return o>n&&(o=n,s="right"),o>r&&(o=r,s="top"),o>a&&(o=a,s="bottom"),s},containsPoint:function(t){return t=e(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height?!0:!1},containsRect:function(e){var t=i(e).normalize(),n=t.width,r=t.height,a=t.x,o=t.y,s=this.width,l=this.height;if(0>(s|l|n|r))return!1;var c=this.x,d=this.y;if(c>a||d>o)return!1;if(s+=c,n+=a,a>=n){if(s>=c||n>s)return!1}else if(s>=c&&n>s)return!1;if(l+=d,r+=o,o>=r){if(l>=d||r>l)return!1}else if(l>=d&&r>l)return!1;return!0},pointNearestToPoint:function(t){if(t=e(t),this.containsPoint(t)){var i=this.sideNearestToPoint(t);switch(i){case"right":return e(this.x+this.width,t.y);case"left":return e(this.x,t.y);case"bottom":return e(t.x,this.y+this.height);case"top":return e(t.x,this.y)}}return t.adhereToRect(this)},intersectionWithLineFromCenterToPoint:function(i,n){i=e(i);var r,a=e(this.x+this.width/2,this.y+this.height/2);n&&i.rotate(a,n);for(var o=[t(this.origin(),this.topRight()),t(this.topRight(),this.corner()),t(this.corner(),this.bottomLeft()),t(this.bottomLeft(),this.origin())],s=t(a,i),l=o.length-1;l>=0;--l){var c=o[l].intersection(s);if(null!==c){r=c;break}}return r&&n&&r.rotate(a,-n),r},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},round:function(e){return this.x=e?this.x.toFixed(e):h(this.x),this.y=e?this.y.toFixed(e):h(this.y),this.width=e?this.width.toFixed(e):h(this.width),this.height=e?this.height.toFixed(e):h(this.height),this},normalize:function(){var e=this.x,t=this.y,i=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,i=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=i,this.height=n,this},bbox:function(e){var t=b(e||0),n=a(l(t)),r=a(s(t)),o=this.width*r+this.height*n,c=this.width*n+this.height*r;return i(this.x+(this.width-o)/2,this.y+(this.height-c)/2,o,c)},snapToGrid:function(e,t){var i=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=i.x,this.y=i.y,this.width=n.x-i.x,this.height=n.y-i.y,this},clone:function(){return i(this)}},n.prototype={toString:function(){return e(this.x,this.y).toString()+" "+this.a+" "+this.b},bbox:function(){return i(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},intersectionWithLineFromCenterToPoint:function(t,i){t=e(t),i&&t.rotate(e(this.x,this.y),i);var n,r=t.x-this.x,a=t.y-this.y;if(0===r)return n=this.bbox().pointNearestToPoint(t),i?n.rotate(e(this.x,this.y),-i):n;var o=a/r,s=o*o,l=this.a*this.a,d=this.b*this.b,u=c(1/(1/l+s/d));u=0>r?-u:u;var p=o*u;return n=e(this.x+u,this.y+p),i?n.rotate(e(this.x,this.y),-i):n},clone:function(){return n(this)}};var C={curveThroughPoints:function(e){for(var t=this.getCurveControlPoints(e),i=["M",e[0].x,e[0].y],n=0;n<t[0].length;n++)i.push("C",t[0][n].x,t[0][n].y,t[1][n].x,t[1][n].y,e[n+1].x,e[n+1].y);return i},getCurveControlPoints:function(t){var i,n=[],r=[],a=t.length-1;if(1==a)return n[0]=e((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),r[0]=e(2*n[0].x-t[0].x,2*n[0].y-t[0].y),[n,r];var o=[];for(i=1;a-1>i;i++)o[i]=4*t[i].x+2*t[i+1].x;o[0]=t[0].x+2*t[1].x,o[a-1]=(8*t[a-1].x+t[a].x)/2;var s=this.getFirstControlPoints(o);for(i=1;a-1>i;++i)o[i]=4*t[i].y+2*t[i+1].y;o[0]=t[0].y+2*t[1].y,o[a-1]=(8*t[a-1].y+t[a].y)/2;var l=this.getFirstControlPoints(o);for(i=0;a>i;i++)n.push(e(s[i],l[i])),r.push(a-1>i?e(2*t[i+1].x-s[i+1],2*t[i+1].y-l[i+1]):e((t[a].x+s[a-1])/2,(t[a].y+l[a-1])/2));return[n,r]},getFirstControlPoints:function(e){var t=e.length,i=[],n=[],r=2;i[0]=e[0]/r;for(var a=1;t>a;a++)n[a]=1/r,r=(t-1>a?4:3.5)-n[a],i[a]=(e[a]-i[a-1])/r;for(a=1;t>a;a++)i[t-a-1]-=n[t-a]*i[t-a];return i},getInversionSolver:function(e,t){function i(e,t){var i=n[e],r=n[t];return function(n){var a=(e%3?3:1)*(t%3?3:1),o=n.x*(i.y-r.y)+n.y*(r.x-i.x)+i.x*r.y-i.y*r.x;return a*o}}var n=arguments;return function(n){var r=3*i(2,3)(t),a=i(1,3)(e)/r,o=-i(2,3)(e)/r,s=a*i(3,1)(n)+o*(i(3,0)(n)+i(2,1)(n))+i(2,0)(n),l=a*i(3,0)(n)+o*i(2,0)(n)+i(1,0)(n);return l/(l-s)}},getCurveDivider:function(e,i,n,r){return function(a){var o=t(e,i).pointAt(a),s=t(i,n).pointAt(a),l=t(n,r).pointAt(a),c=t(o,s).pointAt(a),d=t(s,l).pointAt(a),u=t(c,d).pointAt(a);return[{p0:e,p1:o,p2:c,p3:u},{p0:u,p1:d,p2:l,p3:r}]}}},x={linear:function(e,t,i){var n=e[1]-e[0],r=t[1]-t[0];return(i-e[0])/n*r+t[0]||0}};return{toDeg:v,toRad:b,snapToGrid:y,normalizeAngle:w,point:e,line:t,rect:i,ellipse:n,bezier:C,scale:x}}();r=a=function(){function e(){var e=++I+"";return"v-"+e}function t(e){return(e||"").replace(/ /g," ")}function i(e){return e===Object(e)}function n(e){return"[object Array]"==Object.prototype.toString.call(e)}function r(e){var t='<svg xmlns="'+C.xmlns+'" xmlns:xlink="'+C.xlink+'" version="'+x+'">'+(e||"")+"</svg>",i=a(t,{async:!1});return i.documentElement}function a(e,t){t=t||{};var i;try{var n=new DOMParser;"undefined"!=typeof t.async&&(n.async=t.async),i=n.parseFromString(e,"text/xml")}catch(r){i=void 0}if(!i||i.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return i}function s(e,t,i){var n,a;if(!e)return void 0;if("object"==typeof e)return new p(e);if(t=t||{},"svg"===e.toLowerCase())return new p(r());if("<"===e[0]){var o=r(e);if(o.childNodes.length>1){var s=[];for(n=0,a=o.childNodes.length;a>n;n++){var c=o.childNodes[n];s.push(new p(document.importNode(c,!0)))}return s}return new p(document.importNode(o.firstChild,!0))}e=document.createElementNS(C.xmlns,e);for(var d in t)l(e,d,t[d]);for("[object Array]"!=Object.prototype.toString.call(i)&&(i=[i]),n=0,a=i[0]&&i.length||0;a>n;n++){var u=i[n];e.appendChild(u instanceof p?u.node:u)}return new p(e)}function l(e,t,i){if(t.indexOf(":")>-1){var n=t.split(":");e.setAttributeNS(C[n[0]],n[1],i)}else"id"===t?e.id=i:e.setAttribute(t,i)}function c(e){var t,i,n;if(e){var r=/[ ,]+/,a=e.match(/translate\((.*)\)/);a&&(t=a[1].split(r));var o=e.match(/rotate\((.*)\)/);o&&(i=o[1].split(r));var s=e.match(/scale\((.*)\)/);s&&(n=s[1].split(r))}var l=n&&n[0]?parseFloat(n[0]):1;return{translate:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotate:{angle:i&&i[0]?parseInt(i[0],10):0,cx:i&&i[1]?parseInt(i[1],10):void 0,cy:i&&i[2]?parseInt(i[2],10):void 0},scale:{sx:l,sy:n&&n[1]?parseFloat(n[1]):l}}}function d(e,t){var i=t.x*e.a+t.y*e.c+0,n=t.x*e.b+t.y*e.d+0;return{x:i,y:n}}function u(e){var t=d(e,{x:0,y:1}),i=d(e,{x:1,y:0}),n=180/Math.PI*Math.atan2(t.y,t.x)-90,r=180/Math.PI*Math.atan2(i.y,i.x);return{translateX:e.e,translateY:e.f,scaleX:Math.sqrt(e.a*e.a+e.b*e.b),scaleY:Math.sqrt(e.c*e.c+e.d*e.d),skewX:n,skewY:r,rotation:n}}function p(t){t instanceof p&&(t=t.node),this.node=t,this.node.id||(this.node.id=e())}function h(e){e=s(e);var t=["M",e.attr("x1"),e.attr("y1"),"L",e.attr("x2"),e.attr("y2")].join(" ");return t}function f(e){e=s(e);for(var t,i=e.node.points,n=[],r=0;r<i.length;r++)t=i[r],n.push(0===r?"M":"L",t.x,t.y);return n.push("Z"),n.join(" ")}function m(e){e=s(e);for(var t,i=e.node.points,n=[],r=0;r<i.length;r++)t=i[r],n.push(0===r?"M":"L",t.x,t.y);return n.join(" ")}function g(e){e=s(e);var t=parseFloat(e.attr("cx"))||0,i=parseFloat(e.attr("cy"))||0,n=parseFloat(e.attr("r")),r=n*M,a=["M",t,i-n,"C",t+r,i-n,t+n,i-r,t+n,i,"C",t+n,i+r,t+r,i+n,t,i+n,"C",t-r,i+n,t-n,i+r,t-n,i,"C",t-n,i-r,t-r,i-n,t,i-n,"Z"].join(" ");return a}function v(e){e=s(e);var t=parseFloat(e.attr("cx"))||0,i=parseFloat(e.attr("cy"))||0,n=parseFloat(e.attr("rx")),r=parseFloat(e.attr("ry"))||n,a=n*M,o=r*M,l=["M",t,i-r,"C",t+a,i-r,t+n,i-o,t+n,i,"C",t+n,i+o,t+a,i+r,t,i+r,"C",t-a,i+r,t-n,i+o,t-n,i,"C",t-n,i-o,t-a,i-r,t,i-r,"Z"].join(" ");return l}function b(e){e=s(e);var t,i=parseFloat(e.attr("x"))||0,n=parseFloat(e.attr("y"))||0,r=parseFloat(e.attr("width"))||0,a=parseFloat(e.attr("height"))||0,l=parseFloat(e.attr("rx"))||0,c=parseFloat(e.attr("ry"))||0,d=o.rect(i,n,r,a);if(l||c){var u=i+r,p=n+a;t=["M",i+l,n,"L",u-l,n,"Q",u,n,u,n+c,"L",u,n+a-c,"Q",u,p,u-l,p,"L",i+l,p,"Q",i,p,i,p-l,"L",i,n+c,"Q",i,n,i+l,n,"Z"].join(" ")}else t=["M",d.origin().x,d.origin().y,"H",d.corner().x,"V",d.corner().y,"H",d.origin().x,"V",d.origin().y,"Z"].join(" ");return t}function y(e){var t=e.rx||e["top-rx"]||0,i=e.rx||e["bottom-rx"]||0,n=e.ry||e["top-ry"]||0,r=e.ry||e["bottom-ry"]||0;return["M",e.x,e.y+n,"v",e.height-n-r,"a",i,r,0,0,0,i,r,"h",e.width-2*i,"a",i,r,0,0,0,i,-r,"v",-(e.height-r-n),"a",t,n,0,0,0,-t,-n,"h",-(e.width-2*t),"a",t,n,0,0,0,-t,n].join(" ")}var w="object"==typeof window&&!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));if(!w)return function(){};var C={xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},x="1.1",I=0;p.prototype={getTransformToElement:function(e){return e.getScreenCTM().inverse().multiply(this.node.getScreenCTM())},translate:function(e,t,i){i=i||{},t=t||0;var n=this.attr("transform")||"",r=c(n);if("undefined"==typeof e)return r.translate;n=n.replace(/translate\([^\)]*\)/g,"").trim();var a=i.absolute?e:r.translate.tx+e,o=i.absolute?t:r.translate.ty+t,s="translate("+a+","+o+")";return this.attr("transform",(s+" "+n).trim()),this},rotate:function(e,t,i,n){n=n||{};var r=this.attr("transform")||"",a=c(r);if("undefined"==typeof e)return a.rotate;r=r.replace(/rotate\([^\)]*\)/g,"").trim(),e%=360;var o=n.absolute?e:a.rotate.angle+e,s=void 0!==t&&void 0!==i?","+t+","+i:"",l="rotate("+o+s+")";return this.attr("transform",(r+" "+l).trim()),this},scale:function(e,t){t="undefined"==typeof t?e:t;var i=this.attr("transform")||"",n=c(i);if("undefined"==typeof e)return n.scale;i=i.replace(/scale\([^\)]*\)/g,"").trim();var r="scale("+e+","+t+")";return this.attr("transform",(i+" "+r).trim()),this},bbox:function(e,t){if(!this.node.ownerSVGElement)return{x:0,y:0,width:0,height:0};var i;try{i=this.node.getBBox(),i={x:i.x,y:i.y,width:i.width,height:i.height}}catch(n){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}if(e)return i;var r=this.getTransformToElement(t||this.node.ownerSVGElement);return A.transformRect(i,r)},text:function(e,r){e=t(e),r=r||{};var a,o=e.split("\n"),l=0,c=this.attr("y");c||this.attr("y","0.8em"),this.attr("display",e?null:"none"),this.node.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.node.textContent="";var d=this.node;if(r.textPath){var u=this.find("defs");0===u.length&&(u=s("defs"),this.append(u));var p=Object(r.textPath)===r.textPath?r.textPath.d:r.textPath;if(p){var h=s("path",{d:p});u.append(h)}var f=s("textPath");!r.textPath["xlink:href"]&&h&&f.attr("xlink:href","#"+h.node.id),Object(r.textPath)===r.textPath&&f.attr(r.textPath),this.append(f),d=f.node}for(var m=0,l=0;l<o.length;l++){var g=o[l],v=r.lineHeight||"1em";"auto"===r.lineHeight&&(v="1.5em");var b=A("tspan",{dy:0==l?"0em":v,x:this.attr("x")||0});if(b.addClass("v-line"),g)if(r.annotations){for(var y=0,w=A.annotateString(o[l],n(r.annotations)?r.annotations:[r.annotations],{offset:-m,includeAnnotationIndices:r.includeAnnotationIndices}),C=0;C<w.length;C++){var x=w[C];if(i(x)){var I=parseInt(x.attrs["font-size"],10);I&&I>y&&(y=I),a=A("tspan",x.attrs),r.includeAnnotationIndices&&a.attr("annotations",x.annotations),x.attrs["class"]&&a.addClass(x.attrs["class"]),a.node.textContent=x.t}else a=document.createTextNode(x||" ");b.append(a)}"auto"===r.lineHeight&&y&&0!==l&&b.attr("dy",1.2*y+"px")}else b.node.textContent=g;else b.addClass("v-empty-line"),b.node.style.opacity=0,b.node.textContent="-";A(d).append(b),m+=g.length+1}return this},attr:function(e,t){if("undefined"==typeof e){for(var i=this.node.attributes,n={},r=0;r<i.length;r++)n[i[r].nodeName]=i[r].nodeValue;return n}if("string"==typeof e&&"undefined"==typeof t)return this.node.getAttribute(e);if("object"==typeof e)for(var a in e)e.hasOwnProperty(a)&&l(this.node,a,e[a]);else l(this.node,e,t);return this},remove:function(){this.node.parentNode&&this.node.parentNode.removeChild(this.node)},append:function(e){var t=e;"[object Array]"!==Object.prototype.toString.call(e)&&(t=[e]);for(var i=0,n=t.length;n>i;i++)e=t[i],this.node.appendChild(e instanceof p?e.node:e);return this},prepend:function(e){this.node.insertBefore(e instanceof p?e.node:e,this.node.firstChild)},svg:function(){return this.node instanceof window.SVGSVGElement?this:A(this.node.ownerSVGElement)},defs:function(){var e=this.svg().node.getElementsByTagName("defs");return e&&e.length?A(e[0]):void 0},clone:function(){var t=A(this.node.cloneNode(!0));return t.node.id=e(),t},findOne:function(e){var t=this.node.querySelector(e);return t?A(t):void 0},find:function(e){var t=this.node.querySelectorAll(e);return Array.prototype.map.call(t,A)},index:function(){for(var e=0,t=this.node.previousSibling;t;)1===t.nodeType&&e++,t=t.previousSibling;return e},findParentByClass:function(e,t){t=t||this.node.ownerSVGElement;for(var i=this.node.parentNode;i&&i!==t;){if(A(i).hasClass(e))return A(i);i=i.parentNode}return null},toLocalPoint:function(e,t){var i=this.svg().node,n=i.createSVGPoint();n.x=e,n.y=t;try{var r=n.matrixTransform(i.getScreenCTM().inverse()),a=this.getTransformToElement(i).inverse()}catch(o){return n}return r.matrixTransform(a)},translateCenterToPoint:function(e){var t=this.bbox(),i=o.rect(t).center();this.translate(e.x-i.x,e.y-i.y)},translateAndAutoOrient:function(e,t,i){var n=this.scale();this.attr("transform",""),this.scale(n.sx,n.sy);var r=this.svg().node,a=this.bbox(!1,i),s=r.createSVGTransform();s.setTranslate(-a.x-a.width/2,-a.y-a.height/2);var l=r.createSVGTransform(),c=o.point(e).changeInAngle(e.x-t.x,e.y-t.y,t);l.setRotate(c,0,0);var d=r.createSVGTransform(),p=o.point(e).move(t,a.width/2);d.setTranslate(e.x+(e.x-p.x),e.y+(e.y-p.y));var h=this.getTransformToElement(i),f=r.createSVGTransform();f.setMatrix(d.matrix.multiply(l.matrix.multiply(s.matrix.multiply(h))));var m=u(f.matrix);return this.translate(m.translateX,m.translateY),this.rotate(m.rotation),this},animateAlongPath:function(e,t){var i=A("animateMotion",e),n=A("mpath",{"xlink:href":"#"+A(t).node.id});i.append(n),this.append(i);try{i.node.beginElement()}catch(r){if("fake"===document.documentElement.getAttribute("smiling")){var a=i.node;a.animators=[];var o=a.getAttribute("id");o&&(id2anim[o]=a);for(var s=getTargets(a),l=0,c=s.length;c>l;l++){var d=s[l],u=new Animator(a,d,l);animators.push(u),a.animators[l]=u,u.register()}}}},hasClass:function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(this.node.getAttribute("class"))},addClass:function(e){if(!this.hasClass(e)){var t=this.node.getAttribute("class")||"";this.node.setAttribute("class",(t+" "+e).trim())}return this},removeClass:function(e){if(this.hasClass(e)){var t=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+e+"(\\s|$)","g"),"$2");this.node.setAttribute("class",t)}return this},toggleClass:function(e,t){var i="undefined"==typeof t?this.hasClass(e):!t;return i?this.removeClass(e):this.addClass(e),this},sample:function(e){e=e||1;for(var t,i=this.node,n=i.getTotalLength(),r=[],a=0;n>a;)t=i.getPointAtLength(a),r.push({x:t.x,y:t.y,distance:a}),a+=e;return r},convertToPath:function(){var e=s("path");e.attr(this.attr());var t=this.convertToPathData();return t&&e.attr("d",t),e},convertToPathData:function(){var e=this.node.tagName.toUpperCase();switch(e){case"PATH":return this.attr("d");case"LINE":return h(this.node);case"POLYGON":return f(this.node);case"POLYLINE":return m(this.node);case"ELLIPSE":return v(this.node);
case"CIRCLE":return g(this.node);case"RECT":return b(this.node)}throw new Error(e+" cannot be converted to PATH.")},findIntersection:function(e,t){var i=this.svg().node;t=t||i;var n=o.rect(this.bbox(!1,t)),r=n.center(),a=n.intersectionWithLineFromCenterToPoint(e);if(!a)return void 0;var s=this.node.localName.toUpperCase();if("RECT"===s){var l=o.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),c=this.getTransformToElement(t),d=A.decomposeMatrix(c),u=i.createSVGTransform();u.setRotate(-d.rotation,r.x,r.y);var p=A.transformRect(l,u.matrix.multiply(c));a=o.rect(p).intersectionWithLineFromCenterToPoint(e,d.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){for(var h="PATH"===s?this:this.convertToPath(),f=h.sample(),m=1/0,g=[],v=0,b=f.length;b>v;v++){var y=f[v],w=A.createSVGPoint(y.x,y.y);w=w.matrixTransform(this.getTransformToElement(t)),y=o.point(w);var C=y.distance(r),x=1.1*y.distance(e),I=C+x;m>I?(m=I,g=[{sample:y,refDistance:x}]):m+1>I&&g.push({sample:y,refDistance:x})}g.sort(function(e,t){return e.refDistance-t.refDistance}),a=g[0].sample}return a}};var M=.5522847498307935,A=s;A.isVElement=function(e){return e instanceof p},A.decomposeMatrix=u,A.rectToPath=y;var k=A("svg").node;return A.createSVGMatrix=function(e){var t=k.createSVGMatrix();for(var i in e)t[i]=e[i];return t},A.createSVGTransform=function(){return k.createSVGTransform()},A.createSVGPoint=function(e,t){var i=k.createSVGPoint();return i.x=e,i.y=t,i},A.transformRect=function(e,t){var i=k.createSVGPoint();i.x=e.x,i.y=e.y;var n=i.matrixTransform(t);i.x=e.x+e.width,i.y=e.y;var r=i.matrixTransform(t);i.x=e.x+e.width,i.y=e.y+e.height;var a=i.matrixTransform(t);i.x=e.x,i.y=e.y+e.height;var o=i.matrixTransform(t),s=Math.min(n.x,r.x,a.x,o.x),l=Math.max(n.x,r.x,a.x,o.x),c=Math.min(n.y,r.y,a.y,o.y),d=Math.max(n.y,r.y,a.y,o.y);return{x:s,y:c,width:l-s,height:d-c}},A.transformPoint=function(e,t){return A.createSVGPoint(e.x,e.y).matrixTransform(t)},A.styleToObject=function(e){for(var t={},i=e.split(";"),n=0;n<i.length;n++){var r=i[n],a=r.split("=");t[a[0].trim()]=a[1].trim()}return t},A.createSlicePathData=function(e,t,i,n){var r=2*Math.PI-1e-6,a=e,o=t,s=i,l=n,c=(s>l&&(c=s,s=l,l=c),l-s),d=c<Math.PI?"0":"1",u=Math.cos(s),p=Math.sin(s),h=Math.cos(l),f=Math.sin(l);return c>=r?a?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":a?"M"+o*u+","+o*p+"A"+o+","+o+" 0 "+d+",1 "+o*h+","+o*f+"L"+a*h+","+a*f+"A"+a+","+a+" 0 "+d+",0 "+a*u+","+a*p+"Z":"M"+o*u+","+o*p+"A"+o+","+o+" 0 "+d+",1 "+o*h+","+o*f+"L0,0Z"},A.mergeAttrs=function(e,t){for(var n in t)e[n]="class"===n?e[n]?e[n]+" "+t[n]:t[n]:"style"===n?i(e[n])&&i(t[n])?A.mergeAttrs(e[n],t[n]):i(e[n])?A.mergeAttrs(e[n],A.styleToObject(t[n])):i(t[n])?A.mergeAttrs(A.styleToObject(e[n]),t[n]):A.mergeAttrs(A.styleToObject(e[n]),A.styleToObject(t[n])):t[n];return e},A.annotateString=function(e,t,n){t=t||[],n=n||{},offset=n.offset||0;for(var r,a,o,s=[],l=[],c=0;c<e.length;c++){a=l[c]=e[c];for(var d=0;d<t.length;d++){var u=t[d],p=u.start+offset,h=u.end+offset;c>=p&&h>c&&(i(a)?a.attrs=A.mergeAttrs(A.mergeAttrs({},a.attrs),u.attrs):a=l[c]={t:e[c],attrs:u.attrs},n.includeAnnotationIndices&&(a.annotations||(a.annotations=[])).push(d))}o=l[c-1],o?i(a)&&i(o)?JSON.stringify(a.attrs)===JSON.stringify(o.attrs)?r.t+=a.t:(s.push(r),r=a):i(a)?(s.push(r),r=a):i(o)?(s.push(r),r=a):r=(r||"")+a:r=a}return r&&s.push(r),s},A.findAnnotationsAtIndex=function(e,t){if(!e)return[];var i=[];return e.forEach(function(e){e.start<t&&t<=e.end&&i.push(e)}),i},A.findAnnotationsBetweenIndexes=function(e,t,i){if(!e)return[];var n=[];return e.forEach(function(e){(t>=e.start&&t<e.end||i>e.start&&i<=e.end||e.start>=t&&e.end<i)&&n.push(e)}),n},A.shiftAnnotations=function(e,t,i){return e?(e.forEach(function(e){e.start>=t&&(e.start+=i,e.end+=i)}),e):e},A.sanitizeText=t,A}();var s={version:"0.9.6",dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},routers:{},mvc:{views:{}},setTheme:function(e,t){t=t||{},i.invoke(s.mvc.views,"setTheme",e,t),s.mvc.View.prototype.options.theme=e},util:{hashCode:function(e){var t=0;if(0==e.length)return t;for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);t=(t<<5)-t+n,t&=t}return t},getByPath:function(e,t,i){i=i||"/";for(var n,r=t.split(i);r.length;){if(n=r.shift(),!(Object(e)===e&&n in e))return void 0;e=e[n]}return e},setByPath:function(e,t,i,n){n=n||"/";var r=t.split(n),a=e,o=0;if(t.indexOf(n)>-1){for(var s=r.length;s-1>o;o++)a=a[r[o]]||(a[r[o]]={});a[r[s-1]]=i}else e[t]=i;return e},unsetByPath:function(e,t,i){i=i||"/";var n=t.lastIndexOf(i);if(n>-1){var r=s.util.getByPath(e,t.substr(0,n),i);r&&delete r[t.slice(n+1)]}else delete e[t];return e},flattenObject:function(e,t,i){t=t||"/";var n={};for(var r in e)if(e.hasOwnProperty(r)){var a="object"==typeof e[r];if(a&&i&&i(e[r])&&(a=!1),a){var o=this.flattenObject(e[r],t,i);for(var s in o)o.hasOwnProperty(s)&&(n[r+t+s]=o[s])}else n[r]=e[r]}return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},guid:function(e){return this.guid.id=this.guid.id||1,e.id=void 0===e.id?"j_"+this.guid.id++:e.id,e.id},mixin:function(){for(var e=arguments[0],t=1,n=arguments.length;n>t;t++){var r=arguments[t];(Object(r)===r||i.isFunction(r)||null!==r&&void 0!==r)&&i.each(r,function(t,n){return this.mixin.deep&&Object(t)===t?(e[n]||(e[n]=i.isArray(t)?[]:{}),void this.mixin(e[n],t)):void(e[n]!==t&&(this.mixin.supplement&&e.hasOwnProperty(n)||(e[n]=t)))},this)}return e},supplement:function(){this.mixin.supplement=!0;var e=this.mixin.apply(this,arguments);return this.mixin.supplement=!1,e},deepMixin:function(){this.mixin.deep=!0;var e=this.mixin.apply(this,arguments);return this.mixin.deep=!1,e},deepSupplement:function(){this.mixin.deep=this.mixin.supplement=!0;var e=this.mixin.apply(this,arguments);return this.mixin.deep=this.mixin.supplement=!1,e},normalizeEvent:function(e){var t=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(t){for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t}return e},nextFrame:function(){var e;if("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),r=setTimeout(function(){e(i+n)},n);return t=i+n,r}}return function(t,n){return e(n?i.bind(t,n):t)}}(),cancelFrame:function(){var e,t="undefined"!=typeof window;return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?i.bind(e,window):e}(),shapePerimeterConnectionPoint:function(e,t,i,n){var a,s;if(!i){var l=t.$(".scalable")[0],c=t.$(".rotatable")[0];l&&l.firstChild?i=l.firstChild:c&&c.firstChild&&(i=c.firstChild)}return i?(s=r(i).findIntersection(n,e.paper.viewport),s||(a=o.rect(r(i).bbox(!1,e.paper.viewport)))):(a=t.model.getBBox(),s=a.intersectionWithLineFromCenterToPoint(n)),s||a.center()},breakText:function(e,t,i,n){n=n||{};var a=t.width,o=t.height,s=n.svgDocument||r("svg").node,l=r("<text><tspan></tspan></text>").attr(i||{}).node,c=l.firstChild,d=document.createTextNode("");c.appendChild(d),s.appendChild(l),n.svgDocument||document.body.appendChild(s);for(var u,p=e.split(" "),h=[],f=[],m=0,g=0,v=p.length;v>m;m++){var b=p[m];if(d.data=f[g]?f[g]+" "+b:b,c.getComputedTextLength()<=a)f[g]=d.data,u&&(h[g++]=!0,u=0);else{if(!f[g]||u){var y=!!u;if(u=b.length-1,y||!u){if(!u){if(!f[g]){f=[];break}p.splice(m,2,b+p[m+1]),v--,h[g++]=!0,m--;continue}p[m]=b.substring(0,u),p[m+1]=b.substring(u)+p[m+1]}else p.splice(m,1,b.substring(0,u),b.substring(u)),v++,g&&!h[g-1]&&g--;m--;continue}g++,m--}if("undefined"!=typeof o){var w=w||1.25*l.getBBox().height;if(w*f.length>o){f.splice(Math.floor(o/w));break}}}return n.svgDocument?s.removeChild(l):document.body.removeChild(s),f.join("\n")},imageToDataUri:function(e,t){if(!e||"data:"===e.substr(0,"data:".length))return setTimeout(function(){t(null,e)},0);var i=document.createElement("canvas"),n=document.createElement("img");n.onload=function(){var r=i.getContext("2d");i.width=n.width,i.height=n.height,r.drawImage(n,0,0);try{var a=(e.split(".").pop()||"png","jpeg"),o=i.toDataURL(a)}catch(s){if(/\.svg$/.test(e)){var l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");l.open("GET",e,!1),l.send(null);var c=l.responseText;return t(null,"data:image/svg+xml,"+encodeURIComponent(c))}console.error(n.src,"fails to convert",s)}t(null,o)},n.ononerror=function(){t(new Error("Failed to load image."))},n.src=e},getElementBBox:function(e){var t,i=n(e),a=i.offset();if(e.ownerSVGElement){t=r(e).bbox();var o=e.getBoundingClientRect(),s=(o.width-t.width)/2,l=(o.height-t.height)/2;t.x=a.left+s,t.y=a.top+l}else t={x:a.left,y:a.top,width:i.outerWidth(),height:i.outerHeight()};return t},sortElements:function(e,t){var i=n(e),r=i.map(function(){var e=this,t=e.parentNode,i=t.insertBefore(document.createTextNode(""),e.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,i),t.removeChild(i)}});return Array.prototype.sort.call(i,t).each(function(e){r[e].call(this)})},setAttributesBySelector:function(e,t){var r=n(e);i.each(t,function(e,t){var n=r.find(t).addBack().filter(t);i.has(e,"class")&&(n.addClass(e["class"]),e=i.omit(e,"class")),n.attr(e)})},normalizeSides:function(e){return Object(e)!==e?(e=e||0,{top:e,bottom:e,left:e,right:e}):{top:e.top||0,bottom:e.bottom||0,left:e.left||0,right:e.right||0}},timing:{linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,i=t*e;return 4*(.5>e?i:3*(e-t)+i-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,i=1;1;t+=i,i/=2)if(e>=(7-4*t)/11){var n=(11-6*t-11*e)/4;return-n*n+i*i}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}},clamp:function(e,t,i){return t=t||0,i=i||1,function(n){var r=e(n);return t>r?t:r>i?i:r}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},interpolate:{number:function(e,t){var i=t-e;return function(t){return e+i*t}},object:function(e,t){var n=i.keys(e);return function(i){var r,a,o={};for(r=n.length-1;-1!=r;r--)a=n[r],o[a]=e[a]+(t[a]-e[a])*i;return o}},hexColor:function(e,t){var i=parseInt(e.slice(1),16),n=parseInt(t.slice(1),16),r=255&i,a=(255&n)-r,o=65280&i,s=(65280&n)-o,l=16711680&i,c=(16711680&n)-l;return function(e){var t=r+a*e&255,i=o+s*e&65280,n=l+c*e&16711680;return"#"+(1<<24|t|i|n).toString(16).slice(1)}},unit:function(e,t){var i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,n=i.exec(e),r=i.exec(t),a=r[1].indexOf("."),o=a>0?r[1].length-a-1:0;e=+n[1];var s=+r[1]-e,l=n[2];return function(t){return(e+s*t).toFixed(o)+l}}},filter:{outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=i.isFinite(e.margin)?e.margin:2,r=i.isFinite(e.width)?e.width:1;return i.template(t)({color:e.color||"blue",opacity:i.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return i.template(t)({color:e.color||"red",width:i.isFinite(e.width)?e.width:1,blur:i.isFinite(e.blur)?e.blur:0,opacity:i.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=i.isFinite(e.x)?e.x:2;return i.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:i.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return i.template(t)({dx:e.dx||0,dy:e.dy||0,opacity:i.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:i.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=i.isFinite(e.amount)?e.amount:1;return i.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=i.isFinite(e.amount)?e.amount:1;return i.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=i.isFinite(e.amount)?e.amount:1;return i.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return i.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=i.isFinite(e.amount)?e.amount:1;return i.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return i.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:i.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=i.isFinite(e.amount)?e.amount:1;return i.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},format:{number:function(e,t,i){function n(e){for(var t=e.length,n=[],r=0,a=i.grouping[0];t>0&&a>0;)n.push(e.substring(t-=a,t+a)),a=i.grouping[r=(r+1)%i.grouping.length];return n.reverse().join(i.thousands)}i=i||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,a=r.exec(e),o=a[1]||" ",s=a[2]||">",l=a[3]||"",c=a[4]||"",d=a[5],u=+a[6],p=a[7],h=a[8],f=a[9],m=1,g="",v="",b=!1;switch(h&&(h=+h.substring(1)),(d||"0"===o&&"="===s)&&(d=o="0",s="=",p&&(u-=Math.floor((u-1)/4))),f){case"n":p=!0,f="g";break;case"%":m=100,v="%",f="f";break;case"p":m=100,v="%",f="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+f.toLowerCase());case"c":case"d":b=!0,h=0;break;case"s":m=-1,f="r"}"$"===c&&(g=i.currency[0],v=i.currency[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):("e"==f||"f"==f)&&(h=Math.max(0,Math.min(20,h))));var y=d&&p;if(b&&t%1)return"";var w=0>t||0===t&&0>1/t?(t=-t,"-"):l,C=v;if(0>m){var x=this.prefix(t,h);t=x.scale(t),C=x.symbol+v}else t*=m;t=this.convert(f,t,h);var I=t.lastIndexOf("."),M=0>I?t:t.substring(0,I),A=0>I?"":i.decimal+t.substring(I+1);!d&&p&&i.grouping&&(M=n(M));var k=g.length+M.length+A.length+(y?0:w.length),N=u>k?new Array(k=u-k+1).join(o):"";return y&&(M=n(N+M)),w+=g,t=M+A,("<"===s?w+t+N:">"===s?N+w+t:"^"===s?N.substring(0,k>>=1)+w+t+N.substring(k):w+(y?t:N+t))+C},string:function(e,t){for(var i,n="{",r=!1,a=[];-1!==(i=e.indexOf(n));){var o,s,l;if(o=e.slice(0,i),r){s=o.split(":"),l=s.shift().split("."),o=t;for(var c=0;c<l.length;c++)o=o[l[c]];s.length&&(o=this.number(s,o))}a.push(o),e=e.slice(i+1),n=(r=!r)?"}":"{"}return a.push(e),a.join("")},convert:function(e,t,i){switch(e){case"b":return t.toString(2);case"c":return String.fromCharCode(t);case"o":return t.toString(8);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"g":return t.toPrecision(i);case"e":return t.toExponential(i);case"f":return t.toFixed(i);case"r":return(t=this.round(t,this.precision(t,i))).toFixed(Math.max(0,Math.min(20,this.precision(t*(1+1e-15),i))));default:return t+""}},round:function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},precision:function(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)},prefix:function(e,t){var n=i.map(["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],function(e,t){var i=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/i}:function(e){return e*i},symbol:e}}),r=0;return e&&(0>e&&(e*=-1),t&&(e=this.round(e,this.precision(e,t))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((0>=r?r+1:r-1)/3)))),n[8+r/3]}}}};if(s.mvc.View=t.View.extend({options:{theme:"default"},theme:null,themeClassNamePrefix:"joint-theme-",requireSetThemeOverride:!1,constructor:function(e){t.View.call(this,e)},initialize:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=i.extend({},s.mvc.View.prototype.options||{},this.options||{},e||{}),i.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),s.mvc.views[this.cid]=this,this.setTheme(this.options.theme),this.init()},init:function(){},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?void 0:(this.onSetTheme(this.theme,e),this.theme&&this.$el.removeClass(this.themeClassNamePrefix+this.theme),this.$el.addClass(this.themeClassNamePrefix+e),this.theme=e,this)},onSetTheme:function(){},remove:function(){return this.onRemove(),s.mvc.views[this.cid]=null,t.View.prototype.remove.apply(this,arguments),this},onRemove:function(){}}),s.dia.GraphCells=t.Collection.extend({cellNamespace:s.shapes,initialize:function(e,t){this.on("change:z",this.sort,this),t.cellNamespace&&(this.cellNamespace=t.cellNamespace),this.graph=t.graph},model:function(e,t){var i=t.collection,n=i.cellNamespace,r="link"===e.type?s.dia.Link:s.util.getByPath(n,e.type,".")||s.dia.Element,a=new r(e,t);return a.graph=i.graph,a},comparator:function(e){return e.get("z")||0}}),s.dia.Graph=t.Model.extend({initialize:function(e,i){i=i||{};var n=new s.dia.GraphCells([],{model:i.cellModel,cellNamespace:i.cellNamespace,graph:this});t.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this._out={},this._in={},this._nodes={},this._edges={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var t=e.get("source"),i=e.get("target");t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var t=e.get("source"),i=e.get("target");t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],i.id&&this._in[i.id]&&this._in[i.id][e.id]&&delete this._in[i.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},i.each(e,this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var i=e.get("source");i.id&&((this._out[i.id]||(this._out[i.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var i=e.get("target");i.id&&((this._in[i.id]||(this._in[i.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=t.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,n,r){var a;return"object"==typeof e?(a=e,r=n):(a={})[e]=n,a.hasOwnProperty("cells")&&(this.resetCells(a.cells,r),a=i.omit(a,"cells")),t.Model.prototype.set.call(this,a,r)},clear:function(e){e=i.extend({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.trigger("batch:start",{batchName:"clear"});var n=t.sortBy(function(e){return e.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.trigger("batch:stop",{batchName:"clear"}),this},_prepareCell:function(e){var n;if(e instanceof t.Model?(n=e.attributes,e.graph=this):n=e,i.isUndefined(n.z)&&(n.z=this.maxZIndex()+1),!i.isString(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},maxZIndex:function(){var e=this.get("cells").last();return e?e.get("z")||0:0},addCell:function(e,t){return i.isArray(e)?this.addCells(e,t):(this.get("cells").add(this._prepareCell(e),t||{}),this)},addCells:function(e,t){return t=t||{},t.position=e.length,i.each(e,function(e){t.position--,this.addCell(e,t)},this),this},resetCells:function(e,t){return this.get("cells").reset(i.map(e,this._prepareCell,this),t),this},_removeCell:function(e,t,i){i=i||{},i.clear||(i.disconnectLinks?this.disconnectLinks(e,i):this.removeLinks(e,i)),this.get("cells").remove(e,{silent:!0}),delete e.graph},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return i.map(this._nodes,function(e,t){return this.getCell(t)},this)},getLinks:function(){return i.map(this._edges,function(e,t){return this.getCell(t)},this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.inbound,r=t.outbound;i.isUndefined(n)&&i.isUndefined(r)&&(n=r=!0);var a=[],o={};if(r&&i.each(this.getOutboundEdges(e.id),function(e,t){o[t]||(a.push(this.getCell(t)),o[t]=!0)},this),n&&i.each(this.getInboundEdges(e.id),function(e,t){o[t]||(a.push(this.getCell(t)),o[t]=!0)},this),t.deep){var s=e.getEmbeddedCells({deep:!0}),l={};i.each(s,function(e){e.isLink()&&(l[e.id]=!0)}),i.each(s,function(e){e.isLink()||(r&&i.each(this.getOutboundEdges(e.id),function(e,t){o[t]||l[t]||(a.push(this.getCell(t)),o[t]=!0)},this),n&&i.each(this.getInboundEdges(e.id),function(e,t){o[t]||l[t]||(a.push(this.getCell(t)),o[t]=!0)},this))},this)}return a},getNeighbors:function(e,t){t=t||{};var n=t.inbound,r=t.outbound;i.isUndefined(n)&&i.isUndefined(r)&&(n=r=!0);var a=i.transform(this.getConnectedLinks(e,t),function(a,o){var s=o.get("source"),l=o.get("target"),c=o.hasLoop(t);if(n&&i.has(s,"id")&&!a[s.id]){var d=this.getCell(s.id);(c||d&&d!==e&&(!t.deep||!d.isEmbeddedIn(e)))&&(a[s.id]=d)}if(r&&i.has(l,"id")&&!a[l.id]){var u=this.getCell(l.id);(c||u&&u!==e&&(!t.deep||!u.isEmbeddedIn(e)))&&(a[l.id]=u)}},{},this);return i.values(a)},getCommonAncestor:function(){var e=i.map(arguments,function(e){for(var t=[],i=e.get("parent");i;)t.push(i),i=this.getCell(i).get("parent");return t},this);e=i.sortBy(e,"length");var t=i.find(e.shift(),function(t){return i.every(e,function(e){return i.contains(e,t)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(t){t!==e&&n.push(t)},i.extend({},t,{outbound:!0})),n},cloneCells:function(e){var t={},n={};return i.each(e,function(e){if(!t[e.id]){var i=e.clone();t[e.id]=i,n[i.id]=e.get("embeds")}}),i.each(e,function(e){var r=t[e.id];if(r.isLink()){var a=r.get("source"),o=r.get("target");a.id&&t[a.id]&&r.prop("source/id",t[a.id].id),o.id&&t[o.id]&&r.prop("target/id",t[o.id].id)}var s=r.get("parent");if(s&&t[s]&&r.set("parent",t[s].id),n[r.id]){var l=[];i.each(n[r.id],function(e){l.push(t[e]?t[e].id:e)}),r.set("embeds",l)}}),t},cloneSubgraph:function(e,t){var i=this.getSubgraph(e,t);return this.cloneCells(i)},getSubgraph:function(e,t){t=t||{};var n=[],r={},a=[],o=[];return i.each(e,function(e){if(r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):a.push(e)),t.deep){var s=e.getEmbeddedCells({deep:!0});i.each(s,function(e){r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):a.push(e))})}}),i.each(o,function(e){var t=e.get("source"),i=e.get("target");if(t.id&&!r[t.id]){var o=this.getCell(t.id);n.push(o),r[o.id]=o,a.push(o)}if(i.id&&!r[i.id]){var s=this.getCell(i.id);n.push(this.getCell(i.id)),r[s.id]=s,a.push(s)}},this),i.each(a,function(e){var a=this.getConnectedLinks(e,t);i.each(a,function(e){var t=e.get("source"),i=e.get("target");!r[e.id]&&t.id&&r[t.id]&&i.id&&r[i.id]&&(n.push(e),r[e.id]=e)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(t){t!==e&&n.push(t)},i.extend({},t,{inbound:!0})),n},search:function(e,t,i){i=i||{},i.breadthFirst?this.bfs(e,t,i):this.dfs(e,t,i)},bfs:function(e,t,n){n=n||{};var r={},a={},o=[];for(o.push(e),a[e.id]=0;o.length>0;){var s=o.shift();if(!r[s.id]){if(r[s.id]=!0,t(s,a[s.id])===!1)return;i.each(this.getNeighbors(s,n),function(e){a[e.id]=a[s.id]+1,o.push(e)})}}},dfs:function(e,t,n,r,a){n=n||{};var o=r||{},s=a||0;t(e,s)!==!1&&(o[e.id]=!0,i.each(this.getNeighbors(e,n),function(e){o[e.id]||this.dfs(e,t,n,o,s+1)},this))},getSources:function(){var e=[];return i.each(this._nodes,function(t,n){(!this._in[n]||i.isEmpty(this._in[n]))&&e.push(this.getCell(n))},this),e},getSinks:function(){var e=[];return i.each(this._nodes,function(t,n){(!this._out[n]||i.isEmpty(this._out[n]))&&e.push(this.getCell(n))},this),e},isSource:function(e){return!this._in[e.id]||i.isEmpty(this._in[e.id])},isSink:function(e){return!this._out[e.id]||i.isEmpty(this._out[e.id])},isSuccessor:function(e,t){var i=!1;return this.search(e,function(n){return n===t&&n!==e?(i=!0,!1):void 0},{outbound:!0}),i},isPredecessor:function(e,t){var i=!1;return this.search(e,function(n){return n===t&&n!==e?(i=!0,!1):void 0},{inbound:!0}),i},isNeighbor:function(e,t,n){n=n||{};var r=n.inbound,a=n.outbound;i.isUndefined(r)&&i.isUndefined(a)&&(r=a=!0);var o=!1;return i.each(this.getConnectedLinks(e,n),function(e){{var s=e.get("source"),l=e.get("target");e.hasLoop(n)}return r&&i.has(s,"id")&&s.id===t.id?(o=!0,!1):a&&i.has(l,"id")&&l.id===t.id?(o=!0,!1):void 0}),o},disconnectLinks:function(e,t){i.each(this.getConnectedLinks(e),function(i){i.set(i.get("source").id===e.id?"source":"target",o.point(0,0),t)})},removeLinks:function(e,t){i.invoke(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return i.filter(this.getElements(),function(t){return t.getBBox().containsPoint(e)})},findModelsInArea:function(e,t){t=i.defaults(t||{},{strict:!1});var n=t.strict?"containsRect":"intersect";return i.filter(this.getElements(),function(t){return e[n](t.getBBox())})},findModelsUnderElement:function(e,t){t=i.defaults(t||{},{searchBy:"bbox"});var n=e.getBBox(),r="bbox"==t.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[t.searchBy]());return i.reject(r,function(t){return e.id==t.id||t.isEmbeddedIn(e)})},getBBox:function(e){return e=e||this.collection.models,i.reduce(e,function(e,t){return t.isLink()?e:e?e.union(t.getBBox()):t.getBBox()},void 0)},translate:function(e,t,n){var r=i.reject(this.getCells(),function(e){return e.isEmbedded()});i.invoke(r,"translate",e,t,n)}}),s.dia.Cell=t.Model.extend({constructor:function(e,t){var n,r=e||{};this.cid=i.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=i.result(this,"defaults"))&&(r=i.merge({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(){throw new Error("Must define a translate() method.")},toJSON:function(){var e=this.constructor.prototype.defaults.attrs||{},t=this.attributes.attrs,n={};i.each(t,function(t,r){var a=e[r];i.each(t,function(e,t){i.isObject(e)&&!i.isArray(e)?i.each(e,function(e,o){a&&a[t]&&i.isEqual(a[t][o],e)||(n[r]=n[r]||{},(n[r][t]||(n[r][t]={}))[o]=e)}):a&&i.isEqual(a[t],e)||(n[r]=n[r]||{},n[r][t]=e)})});var r=i.cloneDeep(i.omit(this.attributes,"attrs"));return r.attrs=n,r},initialize:function(e){e&&e.id||this.set("id",s.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var e=this.ports,t={};i.each(this.get("attrs"),function(e){e&&e.port&&(i.isUndefined(e.port.id)?t[e.port]={id:e.port}:t[e.port.id]=e.port)});var n={};if(i.each(e,function(e,i){t[i]||(n[i]=!0)}),this.graph&&!i.isEmpty(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});i.each(r,function(e){n[e.get("target").port]&&e.remove()});var a=this.graph.getConnectedLinks(this,{outbound:!0});i.each(a,function(e){n[e.get("source").port]&&e.remove()})}this.ports=t},remove:function(e){e=e||{};var t=this.graph;t&&t.trigger("batch:start",{batchName:"remove"});var n=this.get("parent");if(n){var r=t&&t.getCell(n);r.unembed(this)}return i.invoke(this.getEmbeddedCells(),"remove",e),this.trigger("remove",this,this.collection,e),t&&t.trigger("batch:stop",{batchName:"remove"}),this},toFront:function(e){if(this.graph){e=e||{};var t=(this.graph.getLastCell().get("z")||0)+1;if(this.trigger("batch:start",{batchName:"to-front"}).set("z",t,e),e.deep){var n=this.getEmbeddedCells({deep:!0,breadthFirst:!0});i.each(n,function(i){i.set("z",++t,e)})}this.trigger("batch:stop",{batchName:"to-front"})}return this},toBack:function(e){if(this.graph){e=e||{};var t=(this.graph.getFirstCell().get("z")||0)-1;if(this.trigger("batch:start",{batchName:"to-back"}),e.deep){var n=this.getEmbeddedCells({deep:!0,breadthFirst:!0});i.eachRight(n,function(i){i.set("z",t--,e)})}this.set("z",t,e).trigger("batch:stop",{batchName:"to-back"})}return this},embed:function(e,t){if(this===e||this.isEmbeddedIn(e))throw new Error("Recursive embedding not allowed.");this.trigger("batch:start",{batchName:"embed"});var n=i.clone(this.get("embeds")||[]);return n[e.isLink()?"unshift":"push"](e.id),e.set("parent",this.id,t),this.set("embeds",i.uniq(n),t),this.trigger("batch:stop",{batchName:"embed"}),this},unembed:function(e,t){return this.trigger("batch:start",{batchName:"unembed"}),e.unset("parent",t),this.set("embeds",i.without(this.get("embeds"),e.id),t),this.trigger("batch:stop",{batchName:"unembed"}),this},getAncestors:function(){var e=[],t=this.get("parent");if(!this.graph)return e;for(;void 0!==t;){var i=this.graph.getCell(t);
if(void 0===i)break;e.push(i),t=i.get("parent")}return e},getEmbeddedCells:function(e){if(e=e||{},this.graph){var t;if(e.deep)if(e.breadthFirst){t=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();t.push(r),n.push.apply(n,r.getEmbeddedCells())}}else t=this.getEmbeddedCells(),i.each(t,function(i){t.push.apply(t,i.getEmbeddedCells(e))});else t=i.map(this.get("embeds"),this.graph.getCell,this.graph);return t}return[]},isEmbeddedIn:function(e,t){var n=i.isString(e)?e:e.id,r=this.get("parent");if(t=i.defaults({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).get("parent")}return!1}return r===n},isEmbedded:function(){return!!this.get("parent")},clone:function(e){if(e=e||{},e.deep)return i.values(s.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))));var n=t.Model.prototype.clone.apply(this,arguments);return n.set("id",s.util.uuid()),n.set("embeds",""),n},prop:function(e,t,n){var r="/";if(i.isString(e)){if(arguments.length>1){var a=e,o=a.split("/"),l=o[0];if(o.shift(),n=n||{},n.propertyPath=a,n.propertyValue=t,0===o.length)return this.set(l,t,n);var c={},d=c,u=l;i.each(o,function(e){d=d[u]=i.isFinite(Number(e))?[]:{},u=e}),c=s.util.setByPath(c,a,t,"/");var p=i.merge({},this.attributes);n.rewrite&&s.util.unsetByPath(p,a,"/");var h=i.merge(p,c);return this.set(l,h[l],n)}return s.util.getByPath(this.attributes,e,r)}return this.set(i.merge({},this.attributes,e),t)},removeProp:function(e,t){t=t||{},t.dirty=!0;var n=e.split("/");if(1===n.length)return this.unset(e,t);var r=n[0],a=n.slice(1).join("/"),o=i.merge({},this.get(r));return s.util.unsetByPath(o,a,"/"),this.set(r,o,t)},attr:function(e){var t=Array.prototype.slice.call(arguments);return t[0]=i.isString(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,t)},removeAttr:function(e,t){return i.isArray(e)?(i.each(e,function(e){this.removeAttr(e,t)},this),this):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/";var a={duration:100,delay:10,timingFunction:s.util.timing.linear,valueFunction:s.util.interpolate.number};n=i.extend(a,n);var o,l=0,c=i.bind(function(t){var i,r,a;l=l||t,t-=l,r=t/n.duration,1>r?this._transitionIds[e]=i=s.util.nextFrame(c):(r=1,delete this._transitionIds[e]),a=o(n.timingFunction(r)),n.transitionId=i,this.prop(e,a,n),i||this.trigger("transition:end",this,e)},this),d=i.bind(function(i){this.stopTransitions(e),o=n.valueFunction(s.util.getByPath(this.attributes,e,r),t),this._transitionIds[e]=s.util.nextFrame(i),this.trigger("transition:start",this,e)},this);return i.delay(d,n.delay,c)},getTransitions:function(){return i.keys(this._transitionIds)},stopTransitions:function(e,t){t=t||"/";var n=e&&e.split(t);return i(this._transitionIds).keys().filter(n&&function(e){return i.isEqual(n,e.split(t).slice(0,n.length))}).each(function(e){s.util.cancelFrame(this._transitionIds[e]),delete this._transitionIds[e],this.trigger("transition:end",this,e)},this),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isLink:function(){return!1}}),s.dia.CellView=s.mvc.View.extend({tagName:"g",attributes:function(){return{"model-id":this.model.id}},constructor:function(e){e.id=e.id||s.util.guid(this),s.mvc.View.call(this,e)},init:function(){i.bindAll(this,"remove","update"),this.$el.data("view",this),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},onChangeAttrs:function(e,t,i){return i.dirty?this.render():this.update(e,t,i)},_ensureElement:function(){var e;if(this.el)e=i.result(this,"el");else{var t=i.extend({id:this.id},i.result(this,"attributes"));this.className&&(t["class"]=i.result(this,"className")),e=r(i.result(this,"tagName"),t).node}this.setElement(e,!1),this._setElement(e)},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],this.vel=r(this.el)},findBySelector:function(e){var t="."===e?this.$el:this.$el.find(e);return t},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getStrokeBBox:function(e){var t=!!e;e=e||this.el;var i,n=r(e).bbox(!1,this.paper.viewport);return i=t?r(e).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),i=parseFloat(i)||0,o.rect(n).moveAndExpand({x:-i/2,y:-i/2,width:i,height:i})},getBBox:function(){return o.rect(this.vel.bbox())},highlight:function(e,t){return e=e?this.$(e)[0]||this.el:this.el,t=t||{},t.partial=e!=this.el,this.notify("cell:highlight",e,t),this},unhighlight:function(e,t){return e=e?this.$(e)[0]||this.el:this.el,t=t||{},t.partial=e!=this.el,this.notify("cell:unhighlight",e,t),this},findMagnet:function(e){var t=this.$(e);if(0===t.length||t[0]===this.el){var i=this.model.get("attrs")||{};return i["."]&&i["."].magnet===!1?void 0:this.el}return t.attr("magnet")?t[0]:this.findMagnet(t.parent())},applyFilter:function(e,t){var a=i.isString(e)?this.findBySelector(e):n(e),o=t.name+this.paper.svg.id+s.util.hashCode(JSON.stringify(t));if(!this.paper.svg.getElementById(o)){var l=s.util.filter[t.name]&&s.util.filter[t.name](t.args||{});if(!l)throw new Error("Non-existing filter "+t.name);var c=r(l);c.attr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3}),t.attrs&&c.attr(t.attrs),c.node.id=o,r(this.paper.svg).defs().append(c)}a.each(function(){r(this).attr("filter","url(#"+o+")")})},applyGradient:function(e,t,a){var o=i.isString(e)?this.findBySelector(e):n(e),l=a.type+this.paper.svg.id+s.util.hashCode(JSON.stringify(a));if(!this.paper.svg.getElementById(l)){var c=["<"+a.type+">",i.map(a.stops,function(e){return'<stop offset="'+e.offset+'" stop-color="'+e.color+'" stop-opacity="'+(i.isFinite(e.opacity)?e.opacity:1)+'" />'}).join(""),"</"+a.type+">"].join(""),d=r(c);a.attrs&&d.attr(a.attrs),d.node.id=l,r(this.paper.svg).defs().append(d)}o.each(function(){r(this).attr(t,"url(#"+l+")")})},getSelector:function(e,t){if(e===this.el)return t;var i=r(e).index()+1,n=e.tagName+":nth-child("+i+")";return t&&(n+=" > "+t),this.getSelector(e.parentNode,n)},pointerdblclick:function(e,t,i){this.notify("cell:pointerdblclick",e,t,i)},pointerclick:function(e,t,i){this.notify("cell:pointerclick",e,t,i)},pointerdown:function(e,t,i){this.model.collection&&(this.model.trigger("batch:start",{batchName:"pointer"}),this._collection=this.model.collection),this.notify("cell:pointerdown",e,t,i)},pointermove:function(e,t,i){this.notify("cell:pointermove",e,t,i)},pointerup:function(e,t,i){this.notify("cell:pointerup",e,t,i),this._collection&&(this._collection.trigger("batch:stop",{batchName:"pointer"}),delete this._collection)},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},contextmenu:function(e,t,i){this.notify("cell:contextmenu",e,t,i)},onSetTheme:function(e,t){e&&this.vel.removeClass(this.themeClassNamePrefix+e),this.vel.addClass(this.themeClassNamePrefix+t)}}),s.dia.Element=s.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},position:function(e,t,n){var r=i.isNumber(t);if(n=(r?n:e)||{},n.parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var a=this.graph.getCell(this.get("parent")),s=a&&!a.isLink()?a.get("position"):{x:0,y:0}}if(r)return n.parentRelative&&(e+=s.x,t+=s.y),this.set("position",{x:e,y:t},n);var l=o.point(this.get("position"));return n.parentRelative?l.difference(s):l},translate:function(e,t,n){if(e=e||0,t=t||0,0===e&&0===t)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0};if(n.restrictedArea&&n.translateBy===this.id){var a=this.getBBox({deep:!0}),o=n.restrictedArea,l=r.x-a.x,c=r.y-a.y,d=Math.max(o.x+l,Math.min(o.x+o.width+l-a.width,r.x+e)),u=Math.max(o.y+c,Math.min(o.y+o.height+c-a.height,r.y+t));e=d-r.x,t=u-r.y}var p={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(i.isObject(n.transition)||(n.transition={}),this.transition("position",p,i.extend({},n.transition,{valueFunction:s.util.interpolate.object}))):(this.set("position",p,n),i.invoke(this.getEmbeddedCells(),"translate",e,t,n)),this},resize:function(e,t,n){if(n=n||{},this.trigger("batch:start",i.extend({},n,{element:this,batchName:"resize"})),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var a=o.normalizeAngle(this.get("angle")||0),s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(s+=Math.floor((a+45)/90),s%=4);var l=this.getBBox(),c=l[["bottomLeft","corner","topRight","origin"][s]](),d=o.point(c).rotate(l.center(),-a),u=Math.sqrt(e*e+t*t)/2,p=s*Math.PI/2;p+=Math.atan(s%2==0?t/e:e/t),p-=o.toRad(a);var h=o.point.fromPolar(u,p,d),f=o.point(h).offset(e/-2,t/-2);this.set("size",{width:e,height:t},n),this.position(f.x,f.y,n)}else this.set("size",{width:e,height:t},n);return this.trigger("batch:stop",i.extend({},n,{element:this,batchName:"resize"})),this},fitEmbeds:function(e){if(e=e||{},!this.graph)throw new Error("Element must be part of a graph.");var t=this.getEmbeddedCells();if(t.length>0){this.trigger("batch:start",{batchName:"fit-embeds"}),e.deep&&i.invoke(t,"fitEmbeds",e);var n=this.graph.getBBox(t),r=s.util.normalizeSides(e.padding);n.moveAndExpand({x:-r.left,y:-r.top,width:r.right+r.left,height:r.bottom+r.top}),this.set({position:{x:n.x,y:n.y},size:{width:n.width,height:n.height}},e),this.trigger("batch:stop",{batchName:"fit-embeds"})}return this},rotate:function(e,t,i){if(i){var n=this.getBBox().center(),r=this.get("size"),a=this.get("position");n.rotate(i,this.get("angle")-e);var o=n.x-r.width/2-a.x,s=n.y-r.height/2-a.y;this.trigger("batch:start",{batchName:"rotate"}),this.translate(o,s),this.rotate(e,t),this.trigger("batch:stop",{batchName:"rotate"})}else this.set("angle",t?e:(this.get("angle")+e)%360);return this},getBBox:function(e){if(e=e||{},e.deep&&this.graph){var t=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return t.push(this),this.graph.getBBox(t)}var i=this.get("position"),n=this.get("size");return o.rect(i.x,i.y,n.width,n.height)}}),s.dia.ElementView=s.dia.CellView.extend({SPECIAL_ATTRIBUTES:["style","text","html","ref-x","ref-y","ref-dx","ref-dy","ref-width","ref-height","ref","x-alignment","y-alignment","port"],className:function(){return"element "+this.model.get("type").replace(/\./g," ")},initialize:function(){i.bindAll(this,"translate","resize","rotate"),s.dia.CellView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:position",this.translate),this.listenTo(this.model,"change:size",this.resize),this.listenTo(this.model,"change:angle",this.rotate)},update:function(e,t){var a=this.model.get("attrs"),o=this.rotatableNode;if(o){var s=o.attr("transform");o.attr("transform","")}var l=[],c={};i.each(t||a,function(e,t){var a=this.findBySelector(t);if(0!==a.length){c[t]=a;var o=this.SPECIAL_ATTRIBUTES.slice();i.isObject(e.filter)&&(o.push("filter"),this.applyFilter(a,e.filter)),i.isObject(e.fill)&&(o.push("fill"),this.applyGradient(a,"fill",e.fill)),i.isObject(e.stroke)&&(o.push("stroke"),this.applyGradient(a,"stroke",e.stroke)),i.isUndefined(e.text)||(a.each(function(){r(this).text(e.text+"",{lineHeight:e.lineHeight,textPath:e.textPath,annotations:e.annotations})}),o.push("lineHeight","textPath","annotations"));var s=i.omit(e,o);a.each(function(){r(this).attr(s)}),e.port&&a.attr("port",i.isUndefined(e.port.id)?e.port:e.port.id),e.style&&a.css(e.style),i.isUndefined(e.html)||a.each(function(){n(this).html(e.html+"")}),i.isUndefined(e["ref-x"])&&i.isUndefined(e["ref-y"])&&i.isUndefined(e["ref-dx"])&&i.isUndefined(e["ref-dy"])&&i.isUndefined(e["x-alignment"])&&i.isUndefined(e["y-alignment"])&&i.isUndefined(e["ref-width"])&&i.isUndefined(e["ref-height"])||i.each(a,function(e,t,i){var r=n(e);r.selector=i.selector,l.push(r)})}},this);var d=this.model.get("size"),u={x:0,y:0,width:d.width,height:d.height};t=t||{},i.each(l,function(e){var n=t[e.selector],o=n?i.merge({},a[e.selector],n):a[e.selector];this.positionRelative(r(e[0]),u,o,c)},this),o&&o.attr("transform",s||"")},positionRelative:function(e,t,n,a){var o=n.ref,s=parseFloat(n["ref-dx"]),l=parseFloat(n["ref-dy"]),c=n["y-alignment"],d=n["x-alignment"],u=n["ref-y"],p=i.isString(u)&&"%"===u.slice(-1);u=parseFloat(u),p&&(u/=100);var h=n["ref-x"],f=i.isString(h)&&"%"===h.slice(-1);h=parseFloat(h),f&&(h/=100);var m=n["ref-width"],g=i.isString(m)&&"%"===m.slice(-1);m=parseFloat(m),g&&(m/=100);var v=n["ref-height"],b=i.isString(v)&&"%"===v.slice(-1);v=parseFloat(v),b&&(v/=100);var y=e.findParentByClass("scalable",this.el);if(o){var w;if(w=a&&a[o]?r(a[o][0]):"."===o?this.vel:this.vel.findOne(o),!w)throw new Error("dia.ElementView: reference does not exists.");t=w.bbox(!1,this.el)}e.attr("transform")&&e.attr("transform",e.attr("transform").replace(/translate\([^)]*\)/g,"").trim()||""),isFinite(m)&&(g||m>=0&&1>=m?e.attr("width",m*t.width):e.attr("width",Math.max(m+t.width,0))),isFinite(v)&&(b||v>=0&&1>=v?e.attr("height",v*t.height):e.attr("height",Math.max(v+t.height,0)));var C,x=0,I=0;if(isFinite(s)&&(y?(C=C||y.scale(),x=t.x+t.width+s/C.sx):x=t.x+t.width+s),isFinite(l)&&(y?(C=C||y.scale(),I=t.y+t.height+l/C.sy):I=t.y+t.height+l),isFinite(h)&&(f||h>0&&1>h?x=t.x+t.width*h:y?(C=C||y.scale(),x=t.x+h/C.sx):x=t.x+h),isFinite(u)&&(f||u>0&&1>u?I=t.y+t.height*u:y?(C=C||y.scale(),I=t.y+u/C.sy):I=t.y+u),!i.isUndefined(c)||!i.isUndefined(d)){var M=e.bbox(!1,this.paper.viewport);"middle"===c?I-=M.height/2:isFinite(c)&&(I+=c>-1&&1>c?M.height*c:c),"middle"===d?x-=M.width/2:isFinite(d)&&(x+=d>-1&&1>d?M.width*d:d)}e.translate(x,I)},renderMarkup:function(){var e=this.model.get("markup")||this.model.markup;if(!e)throw new Error("properties.markup is missing while the default render() implementation is used.");var t=r(e);this.vel.append(t)},render:function(){return this.$el.empty(),this.renderMarkup(),this.rotatableNode=this.vel.findOne(".rotatable"),this.scalableNode=this.vel.findOne(".scalable"),this.update(),this.resize(),this.rotate(),this.translate(),this},scale:function(e,t){this.vel.scale(e,t)},resize:function(){var e=this.model.get("size")||{width:1,height:1},t=this.model.get("angle")||0,i=this.scalableNode;if(i){var n=i.bbox(!0);i.attr("transform","scale("+e.width/(n.width||1)+","+e.height/(n.height||1)+")");var r=this.rotatableNode,a=r&&r.attr("transform");if(a&&"null"!==a){r.attr("transform",a+" rotate("+-t+","+e.width/2+","+e.height/2+")");var o=i.bbox(!1,this.paper.viewport);this.model.set("position",{x:o.x,y:o.y}),this.rotate()}this.update()}},translate:function(){var e=this.model.get("position")||{x:0,y:0};this.vel.attr("transform","translate("+e.x+","+e.y+")")},rotate:function(){var e=this.rotatableNode;if(e){var t=this.model.get("angle")||0,i=this.model.get("size")||{width:1,height:1},n=i.width/2,r=i.height/2;e.attr("transform","rotate("+t+","+n+","+r+")")}},getBBox:function(e){if(e&&e.useModelGeometry){var t=this.model.getBBox().bbox(this.model.get("angle")),i=this.paper.viewport.getCTM();return o.rect(r.transformRect(t,i))}return s.dia.CellView.prototype.getBBox.apply(this,arguments)},prepareEmbedding:function(e){e=e||{};var t=e.model||this.model,n=e.paper||this.paper;t.toFront({deep:!0,ui:!0}),i.invoke(n.model.getConnectedLinks(t,{deep:!0}),"toFront",{ui:!0});var r=t.get("parent");r&&n.model.getCell(r).unembed(t,{ui:!0})},processEmbedding:function(e){e=e||{};var t=e.model||this.model,i=e.paper||this.paper,n=i.options,r=i.model.findModelsUnderElement(t,{searchBy:n.findParentBy});n.frontParentOnly&&(r=r.slice(-1));for(var a=null,o=this._candidateEmbedView,s=r.length-1;s>=0;s--){var l=r[s];if(o&&o.model.id==l.id){a=o;break}var c=l.findView(i);if(n.validateEmbedding.call(i,this,c)){a=c;break}}a&&a!=o&&(o&&o.unhighlight(null,{embedding:!0}),this._candidateEmbedView=a.highlight(null,{embedding:!0})),!a&&o&&(o.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView)},finalizeEmbedding:function(e){e=e||{};var t=this._candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;t&&(t.model.embed(n,{ui:!0}),t.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView),i.invoke(r.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},pointerdown:function(e,t,i){var n=this.paper;if(e.target.getAttribute("magnet")&&n.options.validateMagnet.call(n,this,e.target)){this.model.trigger("batch:start",{batchName:"add-link"});var r=n.getDefaultLink(this,e.target);r.set({source:{id:this.model.id,selector:this.getSelector(e.target),port:e.target.getAttribute("port")},target:{x:t,y:i}}),n.model.addCell(r);var a=this._linkView=n.findViewByModel(r);a.pointerdown(e,t,i),a.startArrowheadMove("target",{whenNotAllowed:"remove"})}else this._dx=t,this._dy=i,this.restrictedArea=n.getRestrictedArea(this),s.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",e,t,i)},pointermove:function(e,t,n){if(this._linkView)this._linkView.pointermove(e,t,n);else{var r=this.paper.options.gridSize,a=i.isFunction(this.options.interactive)?this.options.interactive(this,"pointermove"):this.options.interactive;if(a!==!1){var l=this.model.get("position"),c=o.snapToGrid(l.x,r)-l.x+o.snapToGrid(t-this._dx,r),d=o.snapToGrid(l.y,r)-l.y+o.snapToGrid(n-this._dy,r);this.model.translate(c,d,{restrictedArea:this.restrictedArea,ui:!0}),this.paper.options.embeddingMode&&(this._inProcessOfEmbedding||(this.prepareEmbedding(),this._inProcessOfEmbedding=!0),this.processEmbedding())}this._dx=o.snapToGrid(t,r),this._dy=o.snapToGrid(n,r),s.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",e,t,n)}},pointerup:function(e,t,i){this._linkView?(this._linkView.pointerup(e,t,i),this._linkView=null,this.model.trigger("batch:stop",{batchName:"add-link"})):(this._inProcessOfEmbedding&&(this.finalizeEmbedding(),this._inProcessOfEmbedding=!1),this.notify("element:pointerup",e,t,i),s.dia.CellView.prototype.pointerup.apply(this,arguments))}}),s.dia.Link=s.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),labelMarkup:['<g class="label">',"<rect />","<text />","</g>"].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaults:{type:"link",source:{},target:{}},disconnect:function(){return this.set({source:o.point(0,0),target:o.point(0,0)})},label:function(e,t){e=e||0;var n=this.get("labels")||[];if(0===arguments.length||1===arguments.length)return n[e];var r=i.merge({},n[e],t),a=n.slice();return a[e]=r,this.set({labels:a})},translate:function(e,t,n){var r={},a=this.get("source"),o=this.get("target"),s=this.get("vertices");return a.id||(r.source={x:(a.x||0)+e,y:(a.y||0)+t}),o.id||(r.target={x:(o.x||0)+e,y:(o.y||0)+t}),s&&s.length&&(r.vertices=i.map(s,function(i){return{x:i.x+e,y:i.y+t}})),n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.set(r,n)},reparent:function(e){var t;if(this.graph){var i=this.graph.getCell(this.get("source").id),n=this.graph.getCell(this.get("target").id),r=this.graph.getCell(this.get("parent"));i&&n&&(t=this.graph.getCommonAncestor(i,n)),!r||t&&t.id===r.id||r.unembed(this,e),t&&t.embed(this,e)}return t},isLink:function(){return!0},hasLoop:function(e){e=e||{};var t=this.get("source").id,i=this.get("target").id;if(!t||!i)return!1;var n=t===i;if(!n&&e.deep&&this.graph){var r=this.graph.getCell(t),a=this.graph.getCell(i);n=r.isEmbeddedIn(a)||a.isEmbeddedIn(r)}return n},getSourceElement:function(){var e=this.get("source");return e&&e.id&&this.graph&&this.graph.getCell(e.id)||null},getTargetElement:function(){var e=this.get("target");return e&&e.id&&this.graph&&this.graph.getCell(e.id)||null},getRelationshipAncestor:function(){var e;if(this.graph){var t=i.compact([this,this.getSourceElement(),this.getTargetElement()]);e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=i.isString(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))}}),s.dia.LinkView=s.dia.CellView.extend({className:function(){return i.unique(this.model.get("type").split(".").concat("link")).join(" ")},options:{shortLinkLength:100,doubleLinkTools:!1,longLinkLength:160,linkToolsOffset:120,doubleLinkToolsOffset:60,sampleInterval:70},_z:null,initialize:function(){s.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._markerCache={},this.startListening()},startListening:function(){var e=this.model;this.listenTo(e,"change:markup",this.render),this.listenTo(e,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(e,"change:toolMarkup",this.onToolsChange),this.listenTo(e,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(e,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(e,"change:source",this.onSourceChange),this.listenTo(e,"change:target",this.onTargetChange)},onSourceChange:function(e,t,i){this.watchSource(e,t),i.translateBy&&this.model.get("target").id||(i.updateConnectionOnly=!0,this.update(this.model,null,i))},onTargetChange:function(e,t,i){this.watchTarget(e,t),i.translateBy||(i.updateConnectionOnly=!0,this.update(this.model,null,i))},onVerticesChange:function(e,t,i){this.renderVertexMarkers(),i.translateBy&&i.translateBy!==this.model.id||(i.updateConnectionOnly=!0,this.update(e,null,i))},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(){this.renderLabels().updateLabelPositions()},render:function(){this.$el.empty();var e=this.model,t=r(e.get("markup")||e.markup);if(i.isArray(t)||(t=[t]),this._V={},i.each(t,function(e){var t=e.attr("class");t&&(this._V[n.camelCase(t)]=e)},this),!this._V.connection)throw new Error("link: no connection path in the markup");return this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t),this.renderLabels(),this.watchSource(e,e.get("source")).watchTarget(e,e.get("target")).update(),this},renderLabels:function(){if(!this._V.labels)return this;this._labelCache={};var e=n(this._V.labels.node).empty(),t=this.model.get("labels")||[];if(!t.length)return this;var a=i.template(this.model.get("labelMarkup")||this.model.labelMarkup),o=r(a()),l=this.can("labelMove");return i.each(t,function(t,a){var c=o.clone().node;r(c).attr("label-idx",a),l&&r(c).attr("cursor","move"),this._labelCache[a]=r(c);var d=n(c).find("text"),u=n(c).find("rect"),p=i.extend({"text-anchor":"middle","font-size":14},s.util.getByPath(t,"attrs/text","/"));d.attr(i.omit(p,"text")),i.isUndefined(p.text)||r(d[0]).text(p.text+""),e.append(c);var h=r(d[0]).bbox(!0,e[0]);r(d[0]).translate(0,-h.height/2);var f=i.extend({fill:"white",rx:3,ry:3},s.util.getByPath(t,"attrs/rect","/"));u.attr(i.extend(f,{x:h.x,y:h.y-h.height/2,width:h.width,height:h.height}))},this),this},renderTools:function(){if(!this._V.linkTools)return this;var e=n(this._V.linkTools.node).empty(),t=i.template(this.model.get("toolMarkup")||this.model.toolMarkup),a=r(t());if(e.append(a.node),this._toolCache=a,this.options.doubleLinkTools){var o;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=i.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),o=r(t())):o=a.clone(),e.append(o.node),this._tool2Cache=o}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=n(this._V.markerVertices.node).empty(),t=i.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return i.each(this.model.get("vertices"),function(n,a){e.append(r(t(i.extend({idx:a},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=n(this._V.markerArrowheads.node);e.empty();var t=i.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=r(t({end:"source"})),this._V.targetArrowhead=r(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(e,t,i){return i=i||{},i.updateConnectionOnly||this.updateAttributes(),this.updateConnection(i),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null,this.updatePostponed=!1,this},updateConnection:function(e){e=e||{};var t,n=this.model;if(e.translateBy&&n.isRelationshipEmbeddedIn(e.translateBy)){var r=e.tx||0,a=e.ty||0;t=this.route=i.map(this.route,function(e){return o.point(e).offset(r,a)}),this._translateConnectionPoints(r,a)}else t=this.route=this.findRoute(n.get("vertices")||[],e),this._findConnectionPoints(t);var s=this.getPathData(t);this._V.connection.attr("d",s),this._V.connectionWrap&&this._V.connectionWrap.attr("d",s),this._translateAndAutoOrientArrows(this._V.markerSource,this._V.markerTarget)},updateAttributes:function(){i.each(this.model.get("attrs"),function(e,t){var n=[];i.isObject(e.fill)&&(this.applyGradient(t,"fill",e.fill),n.push("fill")),i.isObject(e.stroke)&&(this.applyGradient(t,"stroke",e.stroke),n.push("stroke")),i.isObject(e.filter)&&(this.applyFilter(t,e.filter),n.push("filter")),n.length>0&&(n.unshift(e),e=i.omit.apply(i,n)),this.findBySelector(t).attr(e)},this)},_findConnectionPoints:function(e){var t,n,r,a,s=i.first(e);t=this.getConnectionPoint("source",this.model.get("source"),s||this.model.get("target")).round();var l=i.last(e);n=this.getConnectionPoint("target",this.model.get("target"),l||t).round();var c=this._markerCache;this._V.markerSource&&(c.sourceBBox=c.sourceBBox||this._V.markerSource.bbox(!0),r=o.point(t).move(s||n,c.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(c.targetBBox=c.targetBBox||this._V.markerTarget.bbox(!0),a=o.point(n).move(l||t,c.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),c.sourcePoint=r||t,c.targetPoint=a||n,this.sourcePoint=t,this.targetPoint=n},_translateConnectionPoints:function(e,t){var i=this._markerCache;i.sourcePoint.offset(e,t),i.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.model.get("labels")||[];if(!e.length)return this;var t=this._V.connection.node,n=t.getTotalLength();if(!i.isNaN(n)){var r;i.each(e,function(e,a){var s=e.position,l=i.isObject(s)?s.distance:s,c=i.isObject(s)?s.offset:{x:0,y:0};l=l>n?n:l,l=0>l?n+l:l,l=l>1?l:n*l;var d=t.getPointAtLength(l);if(i.isObject(c))d=o.point(d).offset(c.x,c.y);else if(i.isNumber(c)){r||(r=this._samples||this._V.connection.sample(this.options.sampleInterval));for(var u,p,h,f,m=1/0,g=0,v=r.length;v>g;g++)h=r[g],f=o.line(h,d).squaredLength(),m>f&&(m=f,u=h,p=g);var b=r[p-1],y=r[p+1],w=0;y?w=o.point(d).theta(y):b&&(w=o.point(b).theta(d)),d=o.point(d).offset(c).rotate(d,w-90)}this._labelCache[a].attr("transform","translate("+d.x+", "+d.y+")")},this)}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!i.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var a=this.options.doubleLinkToolsOffset||t;r=this.getPointAtLength(n-a),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===n.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(e){function t(t,i){i=i||{};var r=null,a=t.previous(e)||{};return a.id&&this.stopListening(this.paper.getModelById(a.id),"change",n),i.id&&(r=this.paper.getModelById(i.id),this.listenTo(r,"change",n)),n.call(this,r,{cacheOnly:!0}),this}var n=i.partial(this.onEndModelChange,e);return t},onEndModelChange:function(e,t,n){var r=!n.cacheOnly,a=this.model,s=a.get(e)||{};if(t){var l=this.constructor.makeSelector(s),c="source"==e?"target":"source",d=a.get(c)||{},u=d.id&&this.constructor.makeSelector(d);if(n.handleBy===this.cid&&l==u)this[e+"BBox"]=this[c+"BBox"],this[e+"View"]=this[c+"View"],this[e+"Magnet"]=this[c+"Magnet"];else if(n.translateBy){var p=this[e+"BBox"];p.x+=n.tx,p.y+=n.ty}else{var h=this.paper.findViewByModel(s.id),f=h.el.querySelector(l);this[e+"BBox"]=h.getStrokeBBox(f),this[e+"View"]=h,this[e+"Magnet"]=f}if(n.handleBy===this.cid&&n.translateBy&&a.isEmbeddedIn(t)&&!i.isEmpty(a.get("vertices"))&&(r=!1),!this.updatePostponed&&d.id){var m=this.paper.getModelById(d.id);s.id===d.id&&(n.handleBy=this.cid),(n.handleBy===this.cid||n.translateBy&&m.isEmbeddedIn(n.translateBy))&&(this.updatePostponed=!0,r=!1)
}}else this[e+"BBox"]=o.rect(s.x||0,s.y||0,1,1),this[e+"View"]=this[e+"Magnet"]=null;r&&(n.updateConnectionOnly=!0,this.update(a,null,n))},_translateAndAutoOrientArrows:function(e,t){e&&e.translateAndAutoOrient(this.sourcePoint,i.first(this.route)||this.targetPoint,this.paper.viewport),t&&t.translateAndAutoOrient(this.targetPoint,i.last(this.route)||this.sourcePoint,this.paper.viewport)},removeVertex:function(e){var t=i.clone(this.model.get("vertices"));return t&&t.length&&(t.splice(e,1),this.model.set("vertices",t,{ui:!0})),this},addVertex:function(e){for(var t,i=(this.model.get("vertices")||[]).slice(),n=i.slice(),a=this._V.connection.node.cloneNode(!1),o=a.getTotalLength(),s=20,l=i.length+1;l--&&(i.splice(l,0,e),r(a).attr("d",this.getPathData(this.findRoute(i))),t=a.getTotalLength(),t-o>s);)i=n.slice();return-1===l&&(l=0,i.splice(l,0,e)),this.model.set("vertices",i,{ui:!0}),l},sendToken:function(e,t,n){t=t||1e3,r(this.paper.viewport).append(e),r(e).animateAlongPath({dur:t+"ms",repeatCount:1},this._V.connection.node),i.delay(function(){r(e).remove(),n&&n()},t)},findRoute:function(e){var t=s.routers,n=this.model.get("router"),r=this.paper.options.defaultRouter;if(!n)if(this.model.get("manhattan"))n={name:"orthogonal"};else{if(!r)return e;n=r}var a=n.args||{},o=i.isFunction(n)?n:t[n.name];if(!i.isFunction(o))throw new Error('unknown router: "'+n.name+'"');var l=o.call(this,e||[],a,this);return l},getPathData:function(e){var t=s.connectors,n=this.model.get("connector"),r=this.paper.options.defaultConnector;n||(n=this.model.get("smooth")?{name:"smooth"}:r||{});var a=i.isFunction(n)?n:t[n.name],o=n.args||{};if(!i.isFunction(a))throw new Error('unknown connector: "'+n.name+'"');var l=a.call(this,this._markerCache.sourcePoint,this._markerCache.targetPoint,e||this.model.get("vertices")||{},o,this);return l},getConnectionPoint:function(e,t,n){var r;if(i.isEmpty(t)&&(t={x:0,y:0}),i.isEmpty(n)&&(n={x:0,y:0}),t.id){var a,s="source"===e?this.sourceBBox:this.targetBBox;if(n.id){var l="source"===e?this.targetBBox:this.sourceBBox;a=o.rect(l).intersectionWithLineFromCenterToPoint(o.rect(s).center()),a=a||o.rect(l).center()}else a=o.point(n);if(this.paper.options.perpendicularLinks||this.options.perpendicular){var c,d=o.rect(0,a.y,this.paper.options.width,1),u=o.rect(a.x,0,1,this.paper.options.height);if(d.intersect(o.rect(s)))switch(c=o.rect(s).sideNearestToPoint(a)){case"left":r=o.point(s.x,a.y);break;case"right":r=o.point(s.x+s.width,a.y);break;default:r=o.rect(s).center()}else if(u.intersect(o.rect(s)))switch(c=o.rect(s).sideNearestToPoint(a)){case"top":r=o.point(a.x,s.y);break;case"bottom":r=o.point(a.x,s.y+s.height);break;default:r=o.rect(s).center()}else r=o.rect(s).intersectionWithLineFromCenterToPoint(a),r=r||o.rect(s).center()}else if(this.paper.options.linkConnectionPoint){var p="target"===e?this.targetView:this.sourceView,h="target"===e?this.targetMagnet:this.sourceMagnet;r=this.paper.options.linkConnectionPoint(this,p,h,a)}else r=o.rect(s).intersectionWithLineFromCenterToPoint(a),r=r||o.rect(s).center()}else r=o.point(t);return r},getConnectionLength:function(){return this._V.connection.node.getTotalLength()},getPointAtLength:function(e){return this._V.connection.node.getPointAtLength(e)},_beforeArrowheadMove:function(){this._z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets()},_afterArrowheadMove:function(){i.isNull(this._z)||(this.model.set("z",this._z,{ui:!0}),this._z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets()},_createValidateConnectionArgs:function(e){function t(e,t){return i[a]=e,i[a+1]=e.el===t?void 0:t,i}var i=[];i[4]=e,i[5]=this;var n,r=0,a=0;"source"===e?(r=2,n="target"):(a=2,n="source");var o=this.model.get(n);return o.id&&(i[r]=this.paper.findViewByModel(o.id),i[r+1]=o.selector&&i[r].el.querySelector(o.selector)),t},_markAvailableMagnets:function(){var e=this.paper.model.getElements(),t=this.paper.options.validateConnection;i.chain(e).map(this.paper.findViewByModel,this.paper).each(function(e){var n="false"!==e.el.getAttribute("magnet")&&t.apply(this.paper,this._validateConnectionArgs(e,null)),a=i.filter(e.el.querySelectorAll("[magnet]"),function(i){return t.apply(this.paper,this._validateConnectionArgs(e,i))},this);n&&r(e.el).addClass("available-magnet"),i.each(a,function(e){r(e).addClass("available-magnet")}),(n||a.length)&&r(e.el).addClass("available-cell")},this).value()},_unmarkAvailableMagnets:function(){i.each(this.paper.el.querySelectorAll(".available-cell, .available-magnet"),function(e){r(e).removeClass("available-magnet").removeClass("available-cell")})},startArrowheadMove:function(e,t){t=i.defaults(t||{},{whenNotAllowed:"revert"}),this._action="arrowhead-move",this._whenNotAllowed=t.whenNotAllowed,this._arrowhead=e,this._initialEnd=i.clone(this.model.get(e))||{x:0,y:0},this._validateConnectionArgs=this._createValidateConnectionArgs(this._arrowhead),this._beforeArrowheadMove()},can:function(e){var t=i.isFunction(this.options.interactive)?this.options.interactive(this,"pointerdown"):this.options.interactive;return t===!1?!1:i.isObject(t)&&t[e]===!1?!1:!0},pointerdown:function(e,t,n){if(s.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",e,t,n),this._dx=t,this._dy=n,null==e.target.getAttribute("magnet")){var a=i.isFunction(this.options.interactive)?this.options.interactive(this,"pointerdown"):this.options.interactive;if(a!==!1){var o,l=e.target.getAttribute("class"),c=e.target.parentNode.getAttribute("class");switch("label"===c?(l=c,o=e.target.parentNode):o=e.target,l){case"marker-vertex":this.can("vertexMove")&&(this._action="vertex-move",this._vertexIdx=e.target.getAttribute("idx"));break;case"marker-vertex-remove":case"marker-vertex-remove-area":this.can("vertexRemove")&&this.removeVertex(e.target.getAttribute("idx"));break;case"marker-arrowhead":this.can("arrowheadMove")&&this.startArrowheadMove(e.target.getAttribute("end"));break;case"label":this.can("labelMove")&&(this._action="label-move",this._labelIdx=parseInt(r(o).attr("label-idx"),10),this._samples=this._V.connection.sample(1),this._linkLength=this._V.connection.node.getTotalLength());break;default:var d=e.target.parentNode.getAttribute("event");d?"remove"===d?this.model.remove():this.paper.trigger(d,e,this,t,n):this.can("vertexAdd")&&(this._vertexIdx=this.addVertex({x:t,y:n}),this._action="vertex-move")}}}},pointermove:function(e,t,n){switch(this._action){case"vertex-move":var a=i.clone(this.model.get("vertices"));a[this._vertexIdx]={x:t,y:n},this.model.set("vertices",a,{ui:!0});break;case"label-move":for(var l,c,d,u,p={x:t,y:n},h=(this.model.get("labels")[this._labelIdx],this._samples),f=1/0,m=0,g=h.length;g>m;m++)d=h[m],u=o.line(d,p).squaredLength(),f>u&&(f=u,l=d,c=m);var v=h[c-1],b=h[c+1],y=(o.point(l).distance(p),0);v&&b?y=o.line(v,b).pointOffset(p):v?y=o.line(v,l).pointOffset(p):b&&(y=o.line(l,b).pointOffset(p)),this.model.label(this._labelIdx,{position:{distance:l.distance/this._linkLength,offset:y}});break;case"arrowhead-move":if(this.paper.options.snapLinks){var w=this.paper.options.snapLinks.radius||50,C=this.paper.findViewsInArea({x:t-w,y:n-w,width:2*w,height:2*w});this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;var x,I=Number.MAX_VALUE,M=o.point(t,n);i.each(C,function(e){"false"!==e.el.getAttribute("magnet")&&(x=e.model.getBBox().center().distance(M),w>x&&I>x&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(e,null))&&(I=x,this._closestView=e,this._closestEnd={id:e.model.id})),e.$("[magnet]").each(i.bind(function(t,i){var n=r(i).bbox(!1,this.paper.viewport);x=M.distance({x:n.x+n.width/2,y:n.y+n.height/2}),w>x&&I>x&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(e,i))&&(I=x,this._closestView=e,this._closestEnd={id:e.model.id,selector:e.getSelector(i),port:i.getAttribute("port")})},this))},this),this._closestView&&this._closestView.highlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this.model.set(this._arrowhead,this._closestEnd||{x:t,y:n},{ui:!0})}else{var A="mousemove"===e.type?e.target:document.elementFromPoint(e.clientX,e.clientY);this._targetEvent!==A&&(this._magnetUnderPointer&&this._viewUnderPointer.unhighlight(this._magnetUnderPointer,{connecting:!0}),this._viewUnderPointer=this.paper.findView(A),this._viewUnderPointer?(this._magnetUnderPointer=this._viewUnderPointer.findMagnet(A),this._magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(this._viewUnderPointer,this._magnetUnderPointer))?this._magnetUnderPointer&&this._viewUnderPointer.highlight(this._magnetUnderPointer,{connecting:!0}):this._magnetUnderPointer=null):this._magnetUnderPointer=null),this._targetEvent=A,this.model.set(this._arrowhead,{x:t,y:n},{ui:!0})}}this._dx=t,this._dy=n,s.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",e,t,n)},pointerup:function(e,t,i){if("label-move"===this._action)this._samples=null;else if("arrowhead-move"===this._action){var n=this.paper.options,r=this._arrowhead;if(n.snapLinks)this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;else{var a=this._viewUnderPointer,o=this._magnetUnderPointer;if(this._viewUnderPointer=null,this._magnetUnderPointer=null,o){a.unhighlight(o,{connecting:!0});var l=a.getSelector(o),c=o.getAttribute("port"),d={id:a.model.id};null!=l&&(d.port=c),null!=c&&(d.selector=l),this.model.set(r,d,{ui:!0})}}if(!this.paper.linkAllowed(this))switch(this._whenNotAllowed){case"remove":this.model.remove();break;case"revert":default:this.model.set(r,this._initialEnd,{ui:!0})}n.embeddingMode&&this.model.reparent()&&(this._z=null),this._afterArrowheadMove()}this._action=null,this._whenNotAllowed=null,this.notify("link:pointerup",e,t,i),s.dia.CellView.prototype.pointerup.apply(this,arguments)}},{makeSelector:function(e){var t='[model-id="'+e.id+'"]';return e.port?t+=' [port="'+e.port+'"]':e.selector&&(t+=" "+e.selector),t}}),s.dia.Paper=s.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,perpendicularLinks:!1,elementView:s.dia.ElementView,linkView:s.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(){return!1},restrictTranslate:!1,markAvailable:!1,defaultLink:new s.dia.Link,defaultConnector:{name:"normal"},defaultRouter:null,validateMagnet:function(e,t){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,i,n,r){return("target"===r?i:e)instanceof s.dia.ElementView},embeddingMode:!1,validateEmbedding:function(){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,clickThreshold:0,cellViewNamespace:s.shapes},events:{mousedown:"pointerdown",dblclick:"mousedblclick",click:"mouseclick",touchstart:"pointerdown",mousemove:"pointermove",touchmove:"pointermove","mouseover .element":"cellMouseover","mouseover .link":"cellMouseover","mouseout .element":"cellMouseout","mouseout .link":"cellMouseout",contextmenu:"contextmenu"},init:function(){i.bindAll(this,"pointerup"),this.options.origin=i.clone(this.options.origin),this.options.defaultConnector=i.clone(this.options.defaultConnector),this.svg=r("svg").node,this.viewport=r("g").addClass("viewport").node,this.defs=r("defs").node,r(this.svg).append([this.viewport,this.defs]),this.$el.append(this.svg),this.setOrigin(),this.setDimensions(),this.listenTo(this.model,"add",this.onCellAdded),this.listenTo(this.model,"remove",this.removeView),this.listenTo(this.model,"reset",this.resetViews),this.listenTo(this.model,"sort",this.sortViews),n(document).on("mouseup touchend",this.pointerup),this._mousemoved=0,this._views={},this.on({"cell:highlight":this.onCellHighlight,"cell:unhighlight":this.onCellUnhighlight})},onRemove:function(){this.removeViews(),n(document).off("mouseup touchend",this.pointerup)},setDimensions:function(e,t){e=this.options.width=e||this.options.width,t=this.options.height=t||this.options.height,r(this.svg).attr({width:e,height:t}),this.trigger("resize",e,t)},setOrigin:function(e,t){this.options.origin.x=e||0,this.options.origin.y=t||0,r(this.viewport).translate(e,t,{absolute:!0}),this.trigger("translate",e,t)},fitToContent:function(e,t,n,a){i.isObject(e)?(a=e,e=a.gridWidth||1,t=a.gridHeight||1,n=a.padding||0):(a=a||{},e=e||1,t=t||1,n=n||0),n=s.util.normalizeSides(n);var o=r(this.viewport).bbox(!0,this.svg),l=r(this.viewport).scale();o.x*=l.sx,o.y*=l.sy,o.width*=l.sx,o.height*=l.sy;var c=Math.max(Math.ceil((o.width+o.x)/e),1)*e,d=Math.max(Math.ceil((o.height+o.y)/t),1)*t,u=0,p=0;("negative"==a.allowNewOrigin&&o.x<0||"positive"==a.allowNewOrigin&&o.x>=0||"any"==a.allowNewOrigin)&&(u=Math.ceil(-o.x/e)*e,u+=n.left,c+=u),("negative"==a.allowNewOrigin&&o.y<0||"positive"==a.allowNewOrigin&&o.y>=0||"any"==a.allowNewOrigin)&&(p=Math.ceil(-o.y/t)*t,p+=n.top,d+=p),c+=n.right,d+=n.bottom,c=Math.max(c,a.minWidth||0),d=Math.max(d,a.minHeight||0),c=Math.min(c,a.maxWidth||Number.MAX_VALUE),d=Math.min(d,a.maxHeight||Number.MAX_VALUE);var h=c!=this.options.width||d!=this.options.height,f=u!=this.options.origin.x||p!=this.options.origin.y;f&&this.setOrigin(u,p),h&&this.setDimensions(c,d)},scaleContentToFit:function(e){var t=this.getContentBBox();if(t.width&&t.height){e=e||{},i.defaults(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var n=e.padding,a=e.minScaleX||e.minScale,s=e.maxScaleX||e.maxScale,l=e.minScaleY||e.minScale,c=e.maxScaleY||e.maxScale,d=e.fittingBBox||{x:this.options.origin.x,y:this.options.origin.y,width:this.options.width,height:this.options.height};d=o.rect(d).moveAndExpand({x:n,y:n,width:-2*n,height:-2*n});var u=r(this.viewport).scale(),p=d.width/t.width*u.sx,h=d.height/t.height*u.sy;if(e.preserveAspectRatio&&(p=h=Math.min(p,h)),e.scaleGrid){var f=e.scaleGrid;p=f*Math.floor(p/f),h=f*Math.floor(h/f)}p=Math.min(s,Math.max(a,p)),h=Math.min(c,Math.max(l,h)),this.scale(p,h);var m=this.getContentBBox(),g=d.x-m.x,v=d.y-m.y;this.setOrigin(g,v)}},getContentBBox:function(){var e=this.viewport.getBoundingClientRect(),t=this.viewport.getScreenCTM(),i=this.viewport.getCTM(),n=o.rect({x:e.left-t.e+i.e,y:e.top-t.f+i.f,width:e.width,height:e.height});return n},getArea:function(){var e=this.viewport.getCTM().inverse(),t={x:0,y:0,width:this.options.width,height:this.options.height};return o.rect(r.transformRect(t,e))},getRestrictedArea:function(){var e;return e=i.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):this.options.restrictTranslate===!0?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(e){var i,n,r=this.options.cellViewNamespace,a=e.get("type")+"View",o=s.util.getByPath(r,a,".");e.isLink()?(i=this.options.linkView,n=s.dia.LinkView):(i=this.options.elementView,n=s.dia.ElementView);var l=i.prototype instanceof t.View?o||i:i.call(this,e)||o||n;return new l({model:e,interactive:this.options.interactive})},onCellAdded:function(e,t,n){if(this.options.async&&n.async!==!1&&i.isNumber(n.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(e),0==n.position){if(this._frameId)throw new Error("another asynchronous rendering in progress");this.asyncRenderViews(this._asyncCells,n),delete this._asyncCells}}else this.renderView(e)},removeView:function(e){var t=this._views[e.id];return t&&(t.remove(),delete this._views[e.id]),t},renderView:function(e){var t=this._views[e.id]=this.createViewForModel(e);return r(this.viewport).append(t.el),t.paper=this,t.render(),n(t.el).find("image").on("dragstart",function(){return!1}),t},beforeRenderViews:function(e){return e.sort(function(e){return e instanceof s.dia.Link?1:-1}),e},afterRenderViews:function(){this.sortViews()},resetViews:function(e,t){n(this.viewport).empty(),this.removeViews();var r=e.models.slice();r=this.beforeRenderViews(r,t)||r,this._frameId&&(s.util.cancelFrame(this._frameId),delete this._frameId),this.options.async?this.asyncRenderViews(r,t):(i.each(r,this.renderView,this),this.sortViews())},removeViews:function(){i.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:i.noop,asyncRenderViews:function(e,t){if(this._frameId){var n=this.options.async&&this.options.async.batchSize||50,r=e.splice(0,n),a=this.model.get("cells");i.each(r,function(e){e.collection===a&&this.renderView(e)},this),this.asyncBatchAdded()}e.length?this._frameId=s.util.nextFrame(function(){this.asyncRenderViews(e,t)},this):(delete this._frameId,this.afterRenderViews(t),this.trigger("render:done",t))},sortViews:function(){var e=n(this.viewport).children("[model-id]"),t=this.model.get("cells");s.util.sortElements(e,function(e,i){var r=t.get(n(e).attr("model-id")),a=t.get(n(i).attr("model-id"));return(r.get("z")||0)>(a.get("z")||0)?1:-1})},scale:function(e,t,n,a){t=t||e,i.isUndefined(n)&&(n=0,a=0),r(this.viewport).attr("transform","");var o=this.options.origin.x,s=this.options.origin.y;if(n||a||o||s){var l=o-n*(e-1),c=s-a*(t-1);this.setOrigin(l,c)}return r(this.viewport).scale(e,t),this.trigger("scale",e,t,n,a),this},rotate:function(e,t,n){if(i.isUndefined(t)){var a=this.viewport.getBBox();t=a.width/2,n=a.height/2}r(this.viewport).rotate(e,t,n)},findView:function(e){for(var t=i.isString(e)?this.viewport.querySelector(e):e instanceof n?e[0]:e;t&&t!==this.el&&t!==document;){var r=t.getAttribute("model-id");if(r)return this._views[r];t=t.parentNode}return void 0},findViewByModel:function(e){var t=i.isString(e)?e:e.id;return this._views[t]},findViewsFromPoint:function(e){e=o.point(e);var t=i.map(this.model.getElements(),this.findViewByModel,this);return i.filter(t,function(t){return t&&o.rect(t.vel.bbox(!1,this.viewport)).containsPoint(e)},this)},findViewsInArea:function(e,t){t=i.defaults(t||{},{strict:!1}),e=o.rect(e);var n=i.map(this.model.getElements(),this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return i.filter(n,function(t){return t&&e[r](o.rect(t.vel.bbox(!1,this.viewport)))},this)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e){var t=r(this.viewport).toLocalPoint(e.x,e.y);return{x:o.snapToGrid(t.x,this.options.gridSize),y:o.snapToGrid(t.y,this.options.gridSize)}},clientToLocalPoint:function(e){e=o.point(e);var t=r("rect",{width:this.options.width,height:this.options.height,x:0,y:0,opacity:0});r(this.svg).prepend(t);var i=n(this.svg).offset();t.remove();var a=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft;return e.offset(s-i.left,a-i.top),r.transformPoint(e,this.viewport.getCTM().inverse())},linkAllowed:function(e){var t;if(e instanceof s.dia.Link)t=e;else{if(!(e instanceof s.dia.LinkView))throw new Error("Must provide link model or view.");t=e.model}if(!this.options.multiLinks){var n=t.get("source"),r=t.get("target");if(n.id&&r.id){var a=t.getSourceElement();if(a){var o=this.model.getConnectedLinks(a,{outbound:!0,inbound:!1}),l=i.filter(o,function(e){var t=e.get("source"),i=e.get("target");return!(!t||t.id!==n.id||t.port&&t.port!==n.port||!i||i.id!==r.id||i.port&&i.port!==r.port)}).length;if(l>1)return!1}}}return this.options.linkPinning||i.has(t.get("source"),"id")&&i.has(t.get("target"),"id")?!0:!1},getDefaultLink:function(e,t){return i.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},onCellHighlight:function(e,t){r(t).addClass("highlighted")},onCellUnhighlight:function(e,t){r(t).removeClass("highlighted")},mousedblclick:function(e){e.preventDefault(),e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(!this.guard(e,t)){var i=this.snapToGrid({x:e.clientX,y:e.clientY});t?t.pointerdblclick(e,i.x,i.y):this.trigger("blank:pointerdblclick",e,i.x,i.y)}},mouseclick:function(e){if(this._mousemoved<=this.options.clickThreshold){e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(this.guard(e,t))return;var i=this.snapToGrid({x:e.clientX,y:e.clientY});t?t.pointerclick(e,i.x,i.y):this.trigger("blank:pointerclick",e,i.x,i.y)}},guard:function(e,t){return this.options.guard&&this.options.guard(e,t)?!0:t&&t.model&&t.model instanceof s.dia.Cell?!1:this.svg===e.target||this.el===e.target||n.contains(this.svg,e.target)?!1:!0},contextmenu:function(e){e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(!this.guard(e,t)){var i=this.snapToGrid({x:e.clientX,y:e.clientY});t?t.contextmenu(e,i.x,i.y):this.trigger("blank:contextmenu",e,i.x,i.y)}},pointerdown:function(e){e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(!this.guard(e,t)){e.preventDefault(),this._mousemoved=0;var i=this.snapToGrid({x:e.clientX,y:e.clientY});t?(this.sourceView=t,t.pointerdown(e,i.x,i.y)):this.trigger("blank:pointerdown",e,i.x,i.y)}},pointermove:function(e){if(e.preventDefault(),e=s.util.normalizeEvent(e),this.sourceView){this._mousemoved++;var t=this.snapToGrid({x:e.clientX,y:e.clientY});this.sourceView.pointermove(e,t.x,t.y)}},pointerup:function(e){e=s.util.normalizeEvent(e);var t=this.snapToGrid({x:e.clientX,y:e.clientY});this.sourceView?(this.sourceView.pointerup(e,t.x,t.y),this.sourceView=null):this.trigger("blank:pointerup",e,t.x,t.y)},cellMouseover:function(e){e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(t){if(this.guard(e,t))return;t.mouseover(e)}},cellMouseout:function(e){e=s.util.normalizeEvent(e);var t=this.findView(e.target);if(t){if(this.guard(e,t))return;t.mouseout(e)}}}),s.shapes.basic={},s.shapes.basic.Generic=s.dia.Element.extend({defaults:s.util.deepSupplement({type:"basic.Generic",attrs:{".":{fill:"#ffffff",stroke:"none"}}},s.dia.Element.prototype.defaults)}),s.shapes.basic.Rect=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Rect",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.TextView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),s.shapes.basic.Text=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><text/></g></g>',defaults:s.util.deepSupplement({type:"basic.Text",attrs:{text:{"font-size":18,fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Circle=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Circle",size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Ellipse=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Ellipse",size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Polygon=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Polygon",size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Polyline=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Polyline",size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Image=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Image",attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Path=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Path",size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Rhombus=s.shapes.basic.Path.extend({defaults:s.util.deepSupplement({type:"basic.Rhombus",attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"y-alignment":"middle"}}},s.shapes.basic.Path.prototype.defaults)}),s.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(){var e=this.get("attrs");i.each(this._portSelectors,function(t){e[t]&&delete e[t]}),this._portSelectors=[];var t={};i.each(this.get("inPorts"),function(e,n,r){var a=this.getPortAttrs(e,n,r.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(i.keys(a)),i.extend(t,a)},this),i.each(this.get("outPorts"),function(e,n,r){var a=this.getPortAttrs(e,n,r.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(i.keys(a)),i.extend(t,a)},this),this.attr(t,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(e){var t=".inPorts",i=this.get("inPorts").indexOf(e);if(0>i&&(t=".outPorts",i=this.get("outPorts").indexOf(e),0>i))throw new Error("getPortSelector(): Port doesn't exist.");return t+">g:nth-child("+(i+1)+")>.port-body"}},s.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),s.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),s.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var e=this.$(".inPorts").empty(),t=this.$(".outPorts").empty(),n=i.template(this.model.portMarkup);i.each(i.filter(this.model.ports,function(e){return"in"===e.type}),function(t,i){e.append(r(n({id:i,port:t})).node)}),i.each(i.filter(this.model.ports,function(e){return"out"===e.type}),function(e,i){t.append(r(n({id:i,port:e})).node)})}},s.shapes.basic.TextBlock=s.shapes.basic.Generic.extend({markup:['<g class="rotatable"><g class="scalable"><rect/></g><switch>','<foreignObject requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" class="fobj">','<body xmlns="http://www.w3.org/1999/xhtml"><div/></body>',"</foreignObject>",'<text class="content"/>',"</switch></g>"].join(""),defaults:s.util.deepSupplement({type:"basic.TextBlock",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"",ref:"rect","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},s.shapes.basic.Generic.prototype.defaults),initialize:function(){"undefined"!=typeof SVGForeignObjectElement&&(this.setForeignObjectSize(this,this.get("size")),this.setDivContent(this,this.get("content")),this.listenTo(this,"change:size",this.setForeignObjectSize),this.listenTo(this,"change:content",this.setDivContent)),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},setForeignObjectSize:function(e,t){e.attr({".fobj":i.clone(t),div:{style:i.clone(t)}})},setDivContent:function(e,t){e.attr({div:{html:t}})}}),s.shapes.basic.TextBlockView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),"undefined"==typeof SVGForeignObjectElement&&(this.noSVGForeignObjectElement=!0,this.listenTo(this.model,"change:content",function(e){this.updateContent(e)}))},update:function(e,t){if(this.noSVGForeignObjectElement){var n=this.model,r=i.omit(t||n.get("attrs"),".content");s.dia.ElementView.prototype.update.call(this,n,r),(!t||i.has(t,".content"))&&this.updateContent(n,t)}else s.dia.ElementView.prototype.update.call(this,n,t)},updateContent:function(e,t){var n=i.merge({},(t||e.get("attrs"))[".content"]);delete n.text;var r=s.util.breakText(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),a=s.util.setByPath({},".content",n,"/");a[".content"].text=r,s.dia.ElementView.prototype.update.call(this,e,a)}}),s.routers.orthogonal=function(){function e(e,t){return e.x==t.x?e.y>t.y?"N":"S":e.y==t.y?e.x>t.x?"W":"E":null}function t(e,t){return e["W"==t||"E"==t?"width":"height"]}function n(e,t){return o.rect(e).moveAndExpand({x:-t,y:-t,width:2*t,height:2*t})}function r(e){return o.rect(e.x,e.y,0,0)}function a(e,t){var i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),r=Math.max(e.x+e.width,t.x+t.width),a=Math.max(e.y+e.height,t.y+t.height);return o.rect(i,n,r-i,a-n)}function s(e,t,i){var n=o.point(e.x,t.y);return i.containsPoint(n)&&(n=o.point(t.x,e.y)),n}function l(t,i,n){var r=o.point(t.x,i.y),a=o.point(i.x,t.y),s=e(t,r),l=e(t,a),c=f[n],d=s==n||s!=c&&(l==c||l!=n)?r:a;return{points:[d],direction:e(d,i)}}function c(t,i,n){var r=s(t,i,n);return{points:[r],direction:e(r,i)}}function d(n,r,a,l){var c,d={},u=[o.point(n.x,r.y),o.point(r.x,n.y)],p=i.filter(u,function(e){return!a.containsPoint(e)}),h=i.filter(p,function(t){return e(t,n)!=l});if(h.length>0)c=i.filter(h,function(t){return e(n,t)==l}).pop(),c=c||h[0],d.points=[c],d.direction=e(c,r);else{c=i.difference(u,p)[0];var f=o.point(r).move(c,-t(a,l)/2),m=s(f,n,a);d.points=[m,f],d.direction=e(f,r)}return d}function u(i,n,r,a){var s=c(n,i,a),d=s.points[0];if(r.containsPoint(d)){s=c(i,n,r);var u=s.points[0];if(a.containsPoint(u)){var p=o.point(i).move(u,-t(r,e(i,u))/2),h=o.point(n).move(d,-t(a,e(n,d))/2),f=o.line(p,h).midpoint(),m=c(i,f,r),g=l(f,n,m.direction);s.points=[m.points[0],g.points[0]],s.direction=g.direction}}return s}function p(t,i,r,l,c){var d,u,p,h={},f=n(a(r,l),1),g=f.center().distance(i)>f.center().distance(t),v=g?i:t,b=g?t:i;return c?(d=o.point.fromPolar(f.width+f.height,m[c],v),d=f.pointNearestToPoint(d).move(d,-1)):d=f.pointNearestToPoint(v).move(v,1),u=s(d,b,f),d.round().equals(u.round())?(u=o.point.fromPolar(f.width+f.height,o.toRad(d.theta(v))+Math.PI/2,b),u=f.pointNearestToPoint(u).move(b,1).round(),p=s(d,u,f),h.points=g?[u,p,d]:[d,p,u]):h.points=g?[u,d]:[d,u],h.direction=g?e(d,i):e(u,i),h}function h(t,a,s){var h=a.elementPadding||20,f=[],m=n(s.sourceBBox,h),g=n(s.targetBBox,h);t=i.map(t,o.point),t.unshift(m.center()),t.push(g.center());for(var v,b=0,y=t.length-1;y>b;b++){var w=null,C=t[b],x=t[b+1],I=!!e(C,x);if(0==b)b+1==y?m.intersect(n(g,1))?w=p(C,x,m,g):I||(w=u(C,x,m,g)):m.containsPoint(x)?w=p(C,x,m,n(r(x),h)):I||(w=c(C,x,m));else if(b+1==y){var M=I&&e(x,C)==v;g.containsPoint(C)||M?w=p(C,x,n(r(C),h),g,v):I||(w=d(C,x,g,v))}else I||(w=l(C,x,v));w?(Array.prototype.push.apply(f,w.points),v=w.direction):v=e(C,x),y>b+1&&f.push(x)}return f}var f={N:"S",S:"N",E:"W",W:"E"},m={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};
return h}(),s.routers.manhattan=function(e,t){function i(e){this.map={},this.options=e,this.mapGridSize=100}function n(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function r(e,t){for(var i,n=[],r={x:0,y:0},a=t;i=e[a];){var o=i.difference(a);o.equals(r)||(n.unshift(a),r=o),a=i}return n.unshift(a),n}function a(e,i,n){var r=n.step,a=e.center(),o=t.chain(n.directionMap).pick(i).map(function(t){var i=t.x*e.width/2,n=t.y*e.height/2,o=a.clone().offset(i,n);return e.containsPoint(o)&&o.offset(t.x*r,t.y*r),o.snapToGrid(r)}).value();return o}function o(t,i,n){var r=360/n;return Math.floor(e.normalizeAngle(t.theta(i)+r/2)/r)*r}function s(e,t){var i=Math.abs(e-t);return i>180?360-i:i}function l(e,t){for(var i=1/0,n=0,r=t.length;r>n;n++){var a=e.manhattanDistance(t[n]);i>a&&(i=a)}return i}function c(i,c,d,u){var p,h,f,m,g=u.step;if(i instanceof e.rect?(p=a(i,u.startDirections,u),f=i.center()):(f=i.clone().snapToGrid(g),p=[i]),c instanceof e.rect?(h=a(c,u.endDirections,u),m=c.center()):(m=c.clone().snapToGrid(g),h=[c]),p=t.filter(p,d.isPointAccessible,d),h=t.filter(h,d.isPointAccessible,d),p.length>0&&h.length>0){var v=new n,b={},y={};t.each(p,function(e){var t=e.toString();v.add(t,l(e,h)),y[t]=0});for(var w,C,x=u.directions,I=x.length,M=u.maximumLoops,A=t.invoke(h,"toString");!v.isEmpty()&&M>0;){var k=v.pop(),N=e.point(k),T=y[k],_=b[k]?o(b[k],N,I):null!=u.previousDirAngle?u.previousDirAngle:o(f,N,I);if(A.indexOf(k)>=0&&(C=s(_,o(N,m,I)),N.equals(m)||180>C))return u.previousDirAngle=_,r(b,N);for(var S=0;I>S;S++)if(w=x[S],C=s(_,w.angle),!(C>u.maxAllowedDirectionChange)){var D=N.clone().offset(w.offsetX,w.offsetY),E=D.toString();if(!v.isClose(E)&&d.isPointAccessible(D)){var P=T+w.cost+u.penalties[C];(!v.isOpen(E)||P<y[E])&&(b[E]=N,y[E]=P,v.add(E,P+l(D,h)))}}M--}}return u.fallbackRoute(f,m,u)}function d(i){i.directions=t.result(i,"directions"),i.penalties=t.result(i,"penalties"),i.paddingBox=t.result(i,"paddingBox"),t.each(i.directions,function(t){var i=new e.point(0,0),n=new e.point(t.offsetX,t.offsetY),r=e.normalizeAngle(i.theta(n));t.angle=r})}function u(n,r){d(r),this.options.perpendicular=!!r.perpendicular;for(var a=e.rect(this.sourceBBox).moveAndExpand(r.paddingBox),o=e.rect(this.targetBBox).moveAndExpand(r.paddingBox),s=new i(r).build(this.paper.model,this.model),l=t.map(n,e.point),u=[],p=a.center().snapToGrid(r.step),h=0,f=l.length;f>=h;h++){var m=null,g=v||a,v=l[h];if(!v){v=o;var b=!this.model.get("source").id||!this.model.get("target").id;if(b&&t.isFunction(r.draggingRoute)){var y=g instanceof e.rect?g.center():g;m=r.draggingRoute(y,v.origin(),r)}}m=m||c(g,v,s,r);var w=t.first(m);w&&w.equals(p)&&m.shift(),p=t.last(m)||p,Array.prototype.push.apply(u,m)}return u}var p={step:10,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],maximumLoops:2e3,startDirections:["left","right","top","bottom"],endDirections:["left","right","top","bottom"],directionMap:{right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0},top:{x:0,y:-1}},maxAllowedDirectionChange:90,paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},directions:function(){var e=this.step;return[{offsetX:e,offsetY:0,cost:e},{offsetX:0,offsetY:e,cost:e},{offsetX:-e,offsetY:0,cost:e},{offsetX:0,offsetY:-e,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},fallbackRoute:function(t,i,n){var r=(n.previousDirAngle||0)%180===0?e.point(t.x,i.y):e.point(i.x,t.y);return[r,i]},draggingRoute:null};return i.prototype.build=function(e,i){var n=this.options,r=t.chain(n.excludeEnds).map(i.get,i).pluck("id").map(e.getCell,e).value(),a=[],o=e.getCell(i.get("source").id);o&&(a=t.union(a,t.map(o.getAncestors(),"id")));var s=e.getCell(i.get("target").id);s&&(a=t.union(a,t.map(s.getAncestors(),"id")));var l=this.mapGridSize;return t.chain(e.getElements()).difference(r).reject(function(e){return t.contains(n.excludeTypes,e.get("type"))||t.contains(a,e.id)}).invoke("getBBox").invoke("moveAndExpand",n.paddingBox).foldl(function(e,t){for(var i=t.origin().snapToGrid(l),n=t.corner().snapToGrid(l),r=i.x;r<=n.x;r+=l)for(var a=i.y;a<=n.y;a+=l){var o=r+"@"+a;e[o]=e[o]||[],e[o].push(t)}return e},this.map).value(),this},i.prototype.isPointAccessible=function(e){var i=e.clone().snapToGrid(this.mapGridSize).toString();return t.every(this.map[i],function(t){return!t.containsPoint(e)})},n.prototype.add=function(e,i){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=i;var n=t.sortedIndex(this.items,e,function(e){return this.values[e]},this);this.items.splice(n,0,e)},n.prototype.remove=function(e){this.hash[e]=this.CLOSE},n.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},n.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},n.prototype.isEmpty=function(){return 0===this.items.length},n.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e},function(e,i,n){return u.call(n,e,t.extend({},p,i))}}(o,i),s.routers.metro=function(){if(!i.isFunction(s.routers.manhattan))throw"Metro requires the manhattan router.";var e={diagonalCost:null,directions:function(){var e=this.step,t=this.diagonalCost||Math.ceil(Math.sqrt(e*e<<1));return[{offsetX:e,offsetY:0,cost:e},{offsetX:e,offsetY:e,cost:t},{offsetX:0,offsetY:e,cost:e},{offsetX:-e,offsetY:e,cost:t},{offsetX:-e,offsetY:0,cost:e},{offsetX:-e,offsetY:-e,cost:t},{offsetX:0,offsetY:-e,cost:e},{offsetX:e,offsetY:-e,cost:t}]},maxAllowedDirectionChange:45,fallbackRoute:function(e,t){var i=e.theta(t),n={x:t.x,y:e.y},r={x:e.x,y:t.y};if(i%180>90){var a=n;n=r,r=a}var s=45>i%90?n:r,l=o.line(e,s),c=90*Math.ceil(i/90),d=o.point.fromPolar(l.squaredLength(),o.toRad(c+135),s),u=o.line(t,d),p=l.intersection(u);return p?[p.round(),t]:[t]}};return function(t,n,r){return s.routers.manhattan(t,i.extend({},e,n),r)}}(),s.routers.oneSide=function(e,t,i){var n,r,a,o=t.side||"bottom",s=t.padding||40,l=i.sourceBBox,c=i.targetBBox,d=l.center(),u=c.center();switch(o){case"bottom":a=1,n="y",r="height";break;case"top":a=-1,n="y",r="height";break;case"left":a=-1,n="x",r="width";break;case"right":a=1,n="x",r="width";break;default:throw new Error("Router: invalid side")}return d[n]+=a*(l[r]/2+s),u[n]+=a*(c[r]/2+s),a*(d[n]-u[n])>0?u[n]=d[n]:d[n]=u[n],[d].concat(e,u)},s.connectors.normal=function(e,t,n){var r=["M",e.x,e.y];return i.each(n,function(e){r.push(e.x,e.y)}),r.push(t.x,t.y),r.join(" ")},s.connectors.rounded=function(e,t,n,r){r=r||{};var a,s,l,c,d,u,p=r.radius||10,h=["M",e.x,e.y];return i.each(n,function(i,r){d=n[r-1]||e,u=n[r+1]||t,l=c||o.point(i).distance(d)/2,c=o.point(i).distance(u)/2,a=o.point(i).move(d,-Math.min(p,l)).round(),s=o.point(i).move(u,-Math.min(p,c)).round(),h.push(a.x,a.y,"S",i.x,i.y,s.x,s.y,"L")}),h.push(t.x,t.y),h.join(" ")},s.connectors.smooth=function(e,t,i){var n;if(i.length)n=o.bezier.curveThroughPoints([e].concat(i).concat([t]));else{var r=e.x<t.x?t.x-(t.x-e.x)/2:e.x-(e.x-t.x)/2;n=["M",e.x,e.y,"C",r,e.y,r,t.y,t.x,t.y]}return n.join(" ")},s.connectors.jumpover=function(e,t){function i(e,i,n){var r=[].concat(e,n,i);return r.reduce(function(e,i,n){var a=r[n+1];return null!=a&&(e[n]=t.line(i,a)),e},[])}function n(e){var t=e.paper._jumpOverUpdateList;null==t&&(t=e.paper._jumpOverUpdateList=[],e.paper.on("cell:pointerup",r),e.paper.model.on("reset",function(){t=[]})),t.indexOf(e)<0&&(t.push(e),e.listenToOnce(e.model,"change:connector remove",function(){t.splice(t.indexOf(e),1)}))}function r(){for(var e=this._jumpOverUpdateList,t=0;t<e.length;t++)e[t].update()}function a(t,i){return e(i).map(function(e){return t.intersection(e)}).compact().value()}function o(e,i){return t.line(e,i).squaredLength()}function s(e,i,n){return i.reduce(function(r,a,o){if(a.skip===!0)return r;var s=r.pop()||e,l=t.point(a).move(s.start,-n),c=t.point(a).move(s.start,+n),d=i[o+1];if(null!=d){var p=c.distance(d);n>=p&&(c=d.move(s.start,p),d.skip=!0)}else{var h=l.distance(s.end);if(2*n+u>h)return r.push(s),r}var f=c.distance(s.start);if(2*n+u>f)return r.push(s),r;var m=t.line(l,c);return m.isJump=!0,r.push(t.line(s.start,l),m,t.line(c,s.end)),r},[])}function l(i,n,r){var a=["M",i[0].start.x,i[0].start.y],o=e(i).map(function(e){if(e.isJump){var i;if("arc"===r){i=e.start.difference(e.end);var a=Number(i.x<0&&i.y<0);return["A",n,n,0,0,a,e.end.x,e.end.y]}if("gap"===r)return["M",e.end.x,e.end.y];if("cubic"===r){i=e.start.difference(e.end);var o=e.start.theta(e.end),s=.6*n,l=1.35*n;i.x<0&&i.y<0&&(l*=-1);var c=t.point(e.start.x+s,e.start.y+l).rotate(e.start,o),d=t.point(e.end.x-s,e.end.y+l).rotate(e.end,o);return["C",c.x,c.y,d.x,d.y,e.end.x,e.end.y]}}return["L",e.end.x,e.end.y]}).flatten().value();return[].concat(a,o).join(" ")}var c=5,d=["arc","gap","cubic"],u=1,p=["smooth"];return function(t,r,u,h){n(this);var f=h.size||c,m=h.jump&&(""+h.jump).toLowerCase(),g=h.ignoreConnectors||p;-1===d.indexOf(m)&&(m=d[0]);var v=this.paper,b=v.model,y=b.getLinks();if(1===y.length)return l(i(t,r,u),f,m);var w=this.model,C=y.indexOf(w),x=v.options.defaultConnector||{},I=y.filter(function(t,i){var n=t.get("connector")||x;return e.contains(g,n.name)?!1:i>C?"jumpover"!==n.name:!0}),M=I.map(function(e){return v.findViewByModel(e)}),A=i(t,r,u),k=M.map(function(e){return null==e?[]:e===this?A:i(e.sourcePoint,e.targetPoint,e.route)},this),N=A.reduce(function(t,i){var n=e(I).map(function(e,t){return e===w?null:a(i,k[t])}).flatten().compact().sortBy(e.partial(o,i.start)).value();return n.length>0?t.push.apply(t,s(i,n,f)):t.push(i),t},[]);return l(N,f,m)}}(i,o),s.shapes.erd={},s.shapes.erd.Entity=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Entity",size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,ref:".outer","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.WeakEntity=s.shapes.erd.Entity.extend({defaults:s.util.deepSupplement({type:"erd.WeakEntity",attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}},s.shapes.erd.Entity.prototype.defaults)}),s.shapes.erd.Relationship=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Relationship",size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,ref:".","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.IdentifyingRelationship=s.shapes.erd.Relationship.extend({defaults:s.util.deepSupplement({type:"erd.IdentifyingRelationship",attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}},s.shapes.erd.Relationship.prototype.defaults)}),s.shapes.erd.Attribute=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Attribute",size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,ref:".","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.Multivalued=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Multivalued",attrs:{".inner":{display:"block"},text:{text:"multivalued"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Derived=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Derived",attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Key=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Key",attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Normal=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Normal",attrs:{text:{text:"Normal"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.ISA=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,ref:"polygon","ref-x":.5,"ref-y":.3,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.Line=s.dia.Link.extend({defaults:{type:"erd.Line"},cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),s.shapes.fsa={},s.shapes.fsa.State=s.shapes.basic.Circle.extend({defaults:s.util.deepSupplement({type:"fsa.State",attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}},s.shapes.basic.Circle.prototype.defaults)}),s.shapes.fsa.StartState=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>',defaults:s.util.deepSupplement({type:"fsa.StartState",size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},s.dia.Element.prototype.defaults)}),s.shapes.fsa.EndState=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:s.util.deepSupplement({type:"fsa.EndState",size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},s.dia.Element.prototype.defaults)}),s.shapes.fsa.Arrow=s.dia.Link.extend({defaults:s.util.deepSupplement({type:"fsa.Arrow",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},s.dia.Link.prototype.defaults)}),s.shapes.org={},s.shapes.org.Member=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>',defaults:s.util.deepSupplement({type:"org.Member",size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},s.dia.Element.prototype.defaults)}),s.shapes.org.Arrow=s.dia.Link.extend({defaults:{type:"org.Arrow",source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}}),s.shapes.chess={},s.shapes.chess.KingWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KingWhite",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KingBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KingBlack",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.QueenWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.QueenWhite",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.QueenBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.QueenBlack",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.RookWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.RookWhite",size:{width:32,height:34}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.RookBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.RookBlack",size:{width:32,height:34}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.BishopWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.BishopWhite",size:{width:38,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.BishopBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.BishopBlack",size:{width:38,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KnightWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KnightWhite",size:{width:38,height:37}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KnightBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KnightBlack",size:{width:38,height:37}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.PawnWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:s.util.deepSupplement({type:"chess.PawnWhite",size:{width:28,height:33}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.PawnBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:s.util.deepSupplement({type:"chess.PawnBlack",size:{width:28,height:33}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.pn={},s.shapes.pn.Place=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>',defaults:s.util.deepSupplement({type:"pn.Place",size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.pn.PlaceView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()
},this)},render:function(){s.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var e=this.$(".tokens").empty();e[0].className.baseVal="tokens";var t=this.model.get("tokens");if(t)switch(t){case 1:e[0].className.baseVal+=" one",e.append(r("<circle/>").node);break;case 2:e[0].className.baseVal+=" two",e.append(r("<circle/>").node,r("<circle/>").node);break;case 3:e[0].className.baseVal+=" three",e.append(r("<circle/>").node,r("<circle/>").node,r("<circle/>").node);break;default:e[0].className.baseVal+=" alot",e.append(r("<text/>").text(t+"").node)}}}),s.shapes.pn.Transition=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>',defaults:s.util.deepSupplement({type:"pn.Transition",size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.pn.Link=s.dia.Link.extend({defaults:s.util.deepSupplement({type:"pn.Link",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}},s.dia.Link.prototype.defaults)}),s.shapes.devs={},s.shapes.devs.Model=s.shapes.basic.Generic.extend(i.extend({},s.shapes.basic.PortsModelInterface,{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="label"/><g class="inPorts"/><g class="outPorts"/></g>',portMarkup:'<g class="port port<%= id %>"><circle class="port-body"/><text class="port-label"/></g>',defaults:s.util.deepSupplement({type:"devs.Model",size:{width:1,height:1},inPorts:[],outPorts:[],attrs:{".":{magnet:!1},".body":{width:150,height:250,stroke:"#000000"},".port-body":{r:10,magnet:!0,stroke:"#000000"},text:{"pointer-events":"none"},".label":{text:"Model","ref-x":.5,"ref-y":10,ref:".body","text-anchor":"middle",fill:"#000000"},".inPorts .port-label":{x:-15,dy:4,"text-anchor":"end",fill:"#000000"},".outPorts .port-label":{x:15,dy:4,fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults),getPortAttrs:function(e,t,n,r,a){var o={},s="port"+t,l=r+">."+s,c=l+">.port-label",d=l+">.port-body";return o[c]={text:e},o[d]={port:{id:e||i.uniqueId(a),type:a}},o[l]={ref:".body","ref-y":(t+.5)*(1/n)},".outPorts"===r&&(o[l]["ref-dx"]=0),o}})),s.shapes.devs.Atomic=s.shapes.devs.Model.extend({defaults:s.util.deepSupplement({type:"devs.Atomic",size:{width:80,height:80},attrs:{".body":{fill:"salmon"},".label":{text:"Atomic"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},s.shapes.devs.Model.prototype.defaults)}),s.shapes.devs.Coupled=s.shapes.devs.Model.extend({defaults:s.util.deepSupplement({type:"devs.Coupled",size:{width:200,height:300},attrs:{".body":{fill:"seaGreen"},".label":{text:"Coupled"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},s.shapes.devs.Model.prototype.defaults)}),s.shapes.devs.Link=s.dia.Link.extend({defaults:{type:"devs.Link",attrs:{".connection":{"stroke-width":2}}}}),s.shapes.devs.ModelView=s.dia.ElementView.extend(s.shapes.basic.PortsViewInterface),s.shapes.devs.AtomicView=s.shapes.devs.ModelView,s.shapes.devs.CoupledView=s.shapes.devs.ModelView,s.shapes.uml={},s.shapes.uml.Class=s.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),defaults:s.util.deepSupplement({type:"uml.Class",attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},s.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;i.each(t,function(t){var r=i.isArray(t.text)?t.text:[t.text],a=20*r.length+20;e[".uml-class-"+t.type+"-text"].text=r.join("\n"),e[".uml-class-"+t.type+"-rect"].height=a,e[".uml-class-"+t.type+"-rect"].transform="translate(0,"+n+")",n+=a})}}),s.shapes.uml.ClassView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),s.shapes.uml.Abstract=s.shapes.uml.Class.extend({defaults:s.util.deepSupplement({type:"uml.Abstract",attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},s.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Abstract>>",this.get("name")]}}),s.shapes.uml.AbstractView=s.shapes.uml.ClassView,s.shapes.uml.Interface=s.shapes.uml.Class.extend({defaults:s.util.deepSupplement({type:"uml.Interface",attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},s.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Interface>>",this.get("name")]}}),s.shapes.uml.InterfaceView=s.shapes.uml.ClassView,s.shapes.uml.Generalization=s.dia.Link.extend({defaults:{type:"uml.Generalization",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}}),s.shapes.uml.Implementation=s.dia.Link.extend({defaults:{type:"uml.Implementation",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}}),s.shapes.uml.Aggregation=s.dia.Link.extend({defaults:{type:"uml.Aggregation",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}}),s.shapes.uml.Composition=s.dia.Link.extend({defaults:{type:"uml.Composition",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}}),s.shapes.uml.Association=s.dia.Link.extend({defaults:{type:"uml.Association"}}),s.shapes.uml.State=s.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),defaults:s.util.deepSupplement({type:"uml.State",attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},s.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),s.shapes.uml.StartState=s.shapes.basic.Circle.extend({defaults:s.util.deepSupplement({type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}},s.shapes.basic.Circle.prototype.defaults)}),s.shapes.uml.EndState=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:s.util.deepSupplement({type:"uml.EndState",size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.uml.Transition=s.dia.Link.extend({defaults:{type:"uml.Transition",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}}),s.shapes.logic={},s.shapes.logic.Gate=s.shapes.basic.Generic.extend({defaults:s.util.deepSupplement({type:"logic.Gate",size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},s.shapes.basic.Generic.prototype.defaults),operation:function(){return!0}}),s.shapes.logic.IO=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>',defaults:s.util.deepSupplement({type:"logic.IO",size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Input=s.shapes.logic.IO.extend({defaults:s.util.deepSupplement({type:"logic.Input",attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,"class":"output",port:"out"},text:{text:"input"}}},s.shapes.logic.IO.prototype.defaults)}),s.shapes.logic.Output=s.shapes.logic.IO.extend({defaults:s.util.deepSupplement({type:"logic.Output",attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive","class":"input",port:"in"},text:{text:"output"}}},s.shapes.logic.IO.prototype.defaults)}),s.shapes.logic.Gate11=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>',defaults:s.util.deepSupplement({type:"logic.Gate11",attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Gate21=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>',defaults:s.util.deepSupplement({type:"logic.Gate21",attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Repeater=s.shapes.logic.Gate11.extend({defaults:s.util.deepSupplement({type:"logic.Repeater",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},s.shapes.logic.Gate11.prototype.defaults),operation:function(e){return e}}),s.shapes.logic.Not=s.shapes.logic.Gate11.extend({defaults:s.util.deepSupplement({type:"logic.Not",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},s.shapes.logic.Gate11.prototype.defaults),operation:function(e){return!e}}),s.shapes.logic.Or=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Or",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return e||t
}}),s.shapes.logic.And=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.And",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return e&&t}}),s.shapes.logic.Nor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Nor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return!(e||t)}}),s.shapes.logic.Nand=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Nand",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return!(e&&t)}}),s.shapes.logic.Xor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Xor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return!(e&&!t||!e&&t)
}}),s.shapes.logic.Xnor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Xnor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(e,t){return!(e&&t||!e&&!t)}}),s.shapes.logic.Wire=s.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join(""),defaults:s.util.deepSupplement({type:"logic.Wire",attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},s.dia.Link.prototype.defaults)}),"object"==typeof exports)var l=require("graphlib"),c=require("dagre");return l=l||"undefined"!=typeof window&&window.graphlib,c=c||"undefined"!=typeof window&&window.dagre,s.dia.Graph.prototype.toGraphLib=function(e){e=e||{};var t=i.pick(e,"directed","compound","multigraph"),n=new l.Graph(t),r=e.setNodeLabel||i.noop,a=e.setEdgeLabel||i.noop,o=e.setEdgeName||i.noop;return this.get("cells").each(function(e){if(e.isLink()){var t=e.get("source"),i=e.get("target");if(!t.id||!i.id)return;n.setEdge(t.id,i.id,a(e),o(e))}else n.setNode(e.id,r(e)),n.isCompound()&&e.has("parent")&&n.setParent(e.id,e.get("parent"))}),n},s.dia.Graph.prototype.fromGraphLib=function(e,t){t=t||{};var n=t.importNode||i.noop,r=t.importEdge||i.noop;e.nodes().forEach(function(i){n.call(this,i,e,this,t)},this),e.edges().forEach(function(i){r.call(this,i,e,this,t)},this)},s.layout.DirectedGraph={layout:function(e,t){t=i.defaults(t||{},{resizeClusters:!0,clusterPadding:10});var n=e.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:function(e){return{width:e.get("size").width,height:e.get("size").height,rank:e.get("rank")}},setEdgeLabel:function(e){return{minLen:e.get("minLen")||1}},setEdgeName:function(e){return e.id}}),r={};return t.rankDir&&(r.rankdir=t.rankDir),t.nodeSep&&(r.nodesep=t.nodeSep),t.edgeSep&&(r.edgesep=t.edgeSep),t.rankSep&&(r.ranksep=t.rankSep),t.marginX&&(r.marginx=t.marginX),t.marginY&&(r.marginy=t.marginY),n.setGraph(r),c.layout(n,{debugTiming:!!t.debugTiming}),e.fromGraphLib(n,{importNode:function(e,i){var n=this.getCell(e),r=i.node(e);t.setPosition?t.setPosition(n,r):n.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importEdge:function(e,i){var n=this.getCell(e.name),r=i.edge(e);t.setLinkVertices&&(t.setVertices?t.setVertices(n,r.points):n.set("vertices",r.points))}}),t.resizeClusters&&i.chain(n.nodes()).filter(function(e){return n.children(e).length>0}).map(e.getCell,e).sortBy(function(e){return-e.getAncestors().length}).invoke("fitEmbeds",{padding:t.clusterPadding}).value(),n.graph()}},s.g=o,s.V=s.Vectorizer=r,s}),define("shapesUml",["require","joint"],function(e){var t=e("joint");return t.shapes.uml={},t.shapes.uml.Class=t.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),defaults:t.util.deepSupplement({type:"uml.Class",attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},t.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),t.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],i=0;_.each(t,function(t){var n=_.isArray(t.text)?t.text:[t.text],r=20*n.length+20;e[".uml-class-"+t.type+"-text"].text=n.join("\n"),e[".uml-class-"+t.type+"-rect"].height=r,e[".uml-class-"+t.type+"-rect"].transform="translate(0,"+i+")",i+=r})}}),t.shapes.uml.ClassView=t.dia.ElementView.extend({initialize:function(){t.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),t.shapes.uml.Abstract=t.shapes.uml.Class.extend({defaults:t.util.deepSupplement({type:"uml.Abstract",attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},t.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Abstract>>",this.get("name")]}}),t.shapes.uml.AbstractView=t.shapes.uml.ClassView,t.shapes.uml.Interface=t.shapes.uml.Class.extend({defaults:t.util.deepSupplement({type:"uml.Interface",attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},t.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Interface>>",this.get("name")]}}),t.shapes.uml.InterfaceView=t.shapes.uml.ClassView,t.shapes.uml.Generalization=t.dia.Link.extend({defaults:{type:"uml.Generalization",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}}),t.shapes.uml.Implementation=t.dia.Link.extend({defaults:{type:"uml.Implementation",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}}),t.shapes.uml.Aggregation=t.dia.Link.extend({defaults:{type:"uml.Aggregation",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}}),t.shapes.uml.Composition=t.dia.Link.extend({defaults:{type:"uml.Composition",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}}),t.shapes.uml.Association=t.dia.Link.extend({defaults:{type:"uml.Association"}}),t.shapes.uml.State=t.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),defaults:t.util.deepSupplement({type:"uml.State",attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},t.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),t.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),t.shapes.uml.StartState=t.shapes.basic.Circle.extend({defaults:t.util.deepSupplement({type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}},t.shapes.basic.Circle.prototype.defaults)}),t.shapes.uml.EndState=t.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:t.util.deepSupplement({type:"uml.EndState",size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},t.shapes.basic.Generic.prototype.defaults)}),t.shapes.uml.Transition=t.dia.Link.extend({defaults:{type:"uml.Transition",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}}),t.shapes.uml}),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define("codemirror",[],e);this.CodeMirror=e()}}(function(){function e(i,n){if(!(this instanceof e))return new e(i,n);this.options=n=n||{};for(var r in Ya)n.hasOwnProperty(r)||(n[r]=Ya[r]);h(n);var a="string"==typeof n.value?0:n.value.first,o=this.display=new t(i,a);o.wrapper.CodeMirror=this,d(this),l(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!ka&&li(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Rr};var s=n.value;"string"==typeof s&&(s=new yo(s,n.mode)),ua&&setTimeout(Vr(si,this,!0),20),di(this);var c=this;Ut(this,function(){c.curOp.forceUpdate=!0,nr(c,s),n.autofocus&&!ka||Yr()==o.input?setTimeout(Vr(Di,c),20):Ei(c);for(var e in Xa)Xa.hasOwnProperty(e)&&Xa[e](c,n[e],$a);for(var t=0;t<eo.length;++t)eo[t](c)})}function t(e,t){var i=this,n=i.input=qr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");ga?n.style.width="1000px":n.setAttribute("wrap","off"),Aa&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),i.inputDiv=qr("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),i.scrollbarH=qr("div",[qr("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),i.scrollbarV=qr("div",[qr("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),i.scrollbarFiller=qr("div",null,"CodeMirror-scrollbar-filler"),i.gutterFiller=qr("div",null,"CodeMirror-gutter-filler"),i.lineDiv=qr("div",null,"CodeMirror-code"),i.selectionDiv=qr("div",null,null,"z-index: 1"),i.cursorDiv=qr("div",null,"CodeMirror-cursors"),i.measure=qr("div",null,"CodeMirror-measure"),i.lineMeasure=qr("div",null,"CodeMirror-measure"),i.lineSpace=qr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.lineDiv,i.cursorDiv],null,"position: relative; outline: none"),i.mover=qr("div",[qr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=qr("div",[i.mover],"CodeMirror-sizer"),i.heightForcer=qr("div",null,null,"position: absolute; height: "+So+"px; width: 1px;"),i.gutters=qr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=qr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=qr("div",[i.inputDiv,i.scrollbarH,i.scrollbarV,i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),pa&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),Aa&&(n.style.width="0px"),ga||(i.scroller.draggable=!0),Ca&&(i.inputDiv.style.height="1px",i.inputDiv.style.position="absolute"),pa&&(i.scrollbarH.style.minHeight=i.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(i.wrapper):e(i.wrapper),i.viewFrom=i.viewTo=t,i.view=[],i.externalMeasured=null,i.viewOffset=0,i.lastSizeC=0,i.updateLineNumbers=null,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.prevInput="",i.alignWidgets=!1,i.pollingFast=!1,i.poll=new Rr,i.cachedCharWidth=i.cachedTextHeight=null,i.inaccurateSelection=!1,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1}function i(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,ft(e,100),e.state.modeGen++,e.curOp&&Kt(e)}function r(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),p(e)),o(e),Kt(e),Dt(e),setTimeout(function(){m(e)},100)}function a(e){var t=Vt(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/Ht(e.display)-3);return function(r){return Rn(e.doc,r)?0:i?(Math.ceil(r.text.length/n)||1)*t:t}}function o(e){var t=e.doc,i=a(e);t.iter(function(e){var t=i(e);t!=e.height&&sr(e,t)})}function s(e){var t=ao[e.options.keyMap],i=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(i?" cm-keymap-"+i:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Dt(e)}function c(e){d(e),Kt(e),setTimeout(function(){v(e)},20)}function d(e){var t=e.display.gutters,i=e.options.gutters;Ur(t);for(var n=0;n<i.length;++n){var r=i[n],a=t.appendChild(qr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none";var o=t.offsetWidth;e.display.sizer.style.marginLeft=o+"px",n&&(e.display.scrollbarH.style.left=e.options.fixedGutter?o+"px":0)}function u(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Nn(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=Tn(n);){var r=t.find(0,!0);i-=n.text.length-r.from.ch,n=r.to.line,i+=n.text.length-r.to.ch}return i}function p(e){var t=e.display,i=e.doc;t.maxLine=rr(i,i.first),t.maxLineLength=u(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=u(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function h(e){var t=Lr(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function f(e){var t=e.display.scroller;return{scrollHeight:t.scrollHeight,clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,barWidth:e.display.scrollbarH.clientWidth,paddingVert:yt(e.display)}}function m(e,t){t||(t=f(e));var i=e.display,n=e.doc.height,r=n+t.paddingVert;i.sizer.style.minHeight=i.heightForcer.style.top=r+"px",i.gutters.style.height=Math.max(r,t.clientHeight-So)+"px";var a=Math.max(r,t.scrollHeight),o=t.scrollWidth>t.clientWidth,s=a>t.clientHeight;s?(i.scrollbarV.style.display="block",i.scrollbarV.style.bottom=o?Xr(i.measure)+"px":"0",i.scrollbarV.firstChild.style.height=Math.max(0,a-t.clientHeight+(t.barHeight||i.scrollbarV.clientHeight))+"px"):(i.scrollbarV.style.display="",i.scrollbarV.firstChild.style.height="0"),o?(i.scrollbarH.style.display="block",i.scrollbarH.style.right=s?Xr(i.measure)+"px":"0",i.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||i.scrollbarH.clientWidth)+"px"):(i.scrollbarH.style.display="",i.scrollbarH.firstChild.style.width="0"),o&&s?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=i.scrollbarFiller.style.width=Xr(i.measure)+"px"):i.scrollbarFiller.style.display="",o&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=Xr(i.measure)+"px",i.gutterFiller.style.width=i.gutters.offsetWidth+"px"):i.gutterFiller.style.display="",xa&&0===Xr(i.measure)&&(i.scrollbarV.style.minWidth=i.scrollbarH.style.minHeight=Ia?"18px":"12px",i.scrollbarV.style.pointerEvents=i.scrollbarH.style.pointerEvents="none")}function g(e,t,i){var n=i&&null!=i.top?i.top:e.scroller.scrollTop,r=i&&i.height||e.wrapper.clientHeight;n=Math.floor(n-bt(e));var a=Math.ceil(n+r),o=cr(t,n),s=cr(t,a);if(i&&i.ensure){var l=i.ensure.from.line,c=i.ensure.to.line;if(o>l)return{from:l,to:cr(t,dr(rr(t,l))-e.wrapper.clientHeight)};if(Math.min(c,t.lastLine())>=s)return{from:cr(t,dr(rr(t,c))+e.wrapper.clientHeight),to:c}}return{from:o,to:s}}function v(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=w(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){e.options.fixedGutter&&i[o].gutter&&(i[o].gutter.style.left=a);var s=i[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function b(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=y(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(qr("div",[qr("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o),n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px";var s=n.gutters.offsetWidth;return n.scrollbarH.style.left=e.options.fixedGutter?s+"px":0,n.sizer.style.marginLeft=s+"px",!0}return!1}function y(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function w(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function C(e,t,i){for(var n,r=e.display.viewFrom,a=e.display.viewTo,o=g(e.display,e.doc,t),s=!0;;s=!1){var l=e.display.scroller.clientWidth;if(!x(e,o,i))break;n=!0;var c=f(e);if(dt(e),m(e,c),s&&e.options.lineWrapping&&l!=e.display.scroller.clientWidth)i=!0;else if(i=!1,t&&null!=t.top&&(t={top:Math.min(c.scrollHeight-c.clientHeight,t.top)}),o=g(e.display,e.doc,t),o.from>=e.display.viewFrom&&o.to<=e.display.viewTo)break}return e.display.updateLineNumbers=null,n&&(_r(e,"update",e),(e.display.viewFrom!=r||e.display.viewTo!=a)&&_r(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)),n}function x(e,t,i){var n=e.display,r=e.doc;if(!n.wrapper.offsetWidth)return void ei(e);if(!(!i&&t.from>=n.viewFrom&&t.to<=n.viewTo&&0==ni(e))){b(e)&&ei(e);var a=A(e),o=r.first+r.size,s=Math.max(t.from-e.options.viewportMargin,r.first),l=Math.min(o,t.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(r.first,n.viewFrom)),n.viewTo>l&&n.viewTo-l<20&&(l=Math.min(o,n.viewTo)),Pa&&(s=En(e.doc,s),l=Pn(e.doc,l));var c=s!=n.viewFrom||l!=n.viewTo||n.lastSizeC!=n.wrapper.clientHeight;ii(e,s,l),n.viewOffset=dr(rr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var d=ni(e);if(c||0!=d||i){if(d>4){var u=Yr();n.lineDiv.style.display="none"}return k(e,n.updateLineNumbers,a),d>4&&(n.lineDiv.style.display="",u&&Yr()!=u&&u.offsetHeight&&u.focus()),n.gutters.style.height="",Ur(n.cursorDiv),Ur(n.selectionDiv),c&&(n.lastSizeC=n.wrapper.clientHeight,ft(e,400)),I(e),!0}}}function I(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r,a=t.view[n];if(!a.hidden){if(pa){var o=a.node.offsetTop+a.node.offsetHeight;r=o-i,i=o}else{var s=a.node.getBoundingClientRect();r=s.bottom-s.top}var l=a.line.height-r;if(2>r&&(r=Vt(t)),(l>.001||-.001>l)&&(sr(a.line,r),M(a.line),a.rest))for(var c=0;c<a.rest.length;c++)M(a.rest[c])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function A(e){for(var t=e.display,i={},n={},r=t.gutters.firstChild,a=0;r;r=r.nextSibling,++a)i[e.options.gutters[a]]=r.offsetLeft,n[e.options.gutters[a]]=r.offsetWidth;return{fixedPos:w(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,i){function n(t){var i=t.nextSibling;return ga&&Na&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var r=e.display,a=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild,l=r.view,c=r.viewFrom,d=0;d<l.length;d++){var u=l[d];if(u.hidden);else if(u.node){for(;s!=u.node;)s=n(s);var p=a&&null!=t&&c>=t&&u.lineNumber;u.changes&&(Lr(u.changes,"gutter")>-1&&(p=!1),N(e,u,c,i)),p&&(Ur(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(y(e.options,c)))),s=u.node.nextSibling}else{var h=j(e,u,c,i);o.insertBefore(h,s)}c+=u.size}for(;s;)s=n(s)}function N(e,t,i,n){for(var r=0;r<t.changes.length;r++){var a=t.changes[r];"text"==a?D(e,t):"gutter"==a?P(e,t,i,n):"class"==a?E(t):"widget"==a&&R(t,n)}t.changes=null}function T(e){return e.node==e.text&&(e.node=qr("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),pa&&(e.node.style.zIndex=2)),e.node}function _(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=T(e);e.background=i.insertBefore(qr("div",null,t),i.firstChild)}}function S(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):qn(e,t)}function D(e,t){var i=t.text.className,n=S(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,E(t)):i&&(t.text.className=i)}function E(e){_(e),e.line.wrapClass?T(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function P(e,t,i,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var a=T(t),o=t.gutter=a.insertBefore(qr("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(qr("div",y(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=r.hasOwnProperty(l)&&r[l];c&&o.appendChild(qr("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))
}}}function R(e,t){e.alignable&&(e.alignable=null);for(var i,n=e.node.firstChild;n;n=i){var i=n.nextSibling;"CodeMirror-linewidget"==n.className&&e.node.removeChild(n)}z(e,t)}function j(e,t,i,n){var r=S(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),E(t),P(e,t,i,n),z(t,n),t.node}function z(e,t){if(F(e.line,e,t,!0),e.rest)for(var i=0;i<e.rest.length;i++)F(e.rest[i],e,t,!1)}function F(e,t,i,n){if(e.widgets)for(var r=T(t),a=0,o=e.widgets;a<o.length;++a){var s=o[a],l=qr("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||(l.ignoreEvents=!0),L(s,l,t,i),n&&s.above?r.insertBefore(l,t.gutter||t.text):r.appendChild(l),_r(s,"redraw")}}function L(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function B(e){return Ra(e.line,e.ch)}function O(e,t){return ja(e,t)<0?t:e}function G(e,t){return ja(e,t)<0?e:t}function V(e,t){this.ranges=e,this.primIndex=t}function H(e,t){this.anchor=e,this.head=t}function W(e,t){var i=e[t];e.sort(function(e,t){return ja(e.from(),t.from())}),t=Lr(e,i);for(var n=1;n<e.length;n++){var r=e[n],a=e[n-1];if(ja(a.to(),r.from())>=0){var o=G(a.from(),r.from()),s=O(a.to(),r.to()),l=o==a.head||o==r.head;t>=n&&--t,e.splice(n-- -1,2,new H(l?s:o,l?o:s))}}return new V(e,t)}function q(e,t){return new V([new H(e,t||e)],0)}function U(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Z(e,t){if(t.line<e.first)return Ra(e.first,0);var i=e.first+e.size-1;return t.line>i?Ra(i,rr(e,i).text.length):Y(t,rr(e,t.line).text.length)}function Y(e,t){var i=e.ch;return null==i||i>t?Ra(e.line,t):0>i?Ra(e.line,0):e}function X(e,t){return t>=e.first&&t<e.first+e.size}function $(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=Z(e,t[n]);return i}function J(e,t,i,n){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(n){var a=ja(i,r)<0;a!=ja(n,r)<0?(r=i,i=n):a!=ja(i,n)<0&&(i=n)}return new H(r,i)}return new H(n||i,i)}function K(e,t,i,n){rt(e,new V([J(e,e.sel.primary(),t,i)],0),n)}function Q(e,t,i){for(var n=[],r=0;r<e.sel.ranges.length;r++)n[r]=J(e,e.sel.ranges[r],t[r],null);var a=W(n,e.sel.primIndex);rt(e,a,i)}function et(e,t,i){var n=e.sel.ranges.slice(0);n[t]=i,rt(e,W(n,e.sel.primIndex))}function tt(e,t,i,n){rt(e,q(t,i),n)}function it(e,t){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new H(Z(e,t[i].anchor),Z(e,t[i].head))}};return To(e,"beforeSelectionChange",e,i),e.cm&&To(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?W(i.ranges,i.ranges.length-1):t}function nt(e,t,i){var n=e.history.done,r=Fr(n);r&&r.ranges?(n[n.length-1]=t,at(e,t,i)):rt(e,t,i)}function rt(e,t,i){at(e,t,i),gr(e,e.sel,e.cm?e.cm.curOp.id:0/0)}function at(e,t,i){(Er(e,"beforeSelectionChange")||e.cm&&Er(e.cm,"beforeSelectionChange"))&&(t=it(e,t));var n=ja(t.primary().head,e.sel.primary().head)<0?-1:1;ot(e,lt(e,t,n,!0)),i!==!1&&e.cm&&Ki(e.cm)}function ot(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=e.cm.curOp.cursorActivity=!0),_r(e,"cursorActivity",e))}function st(e){ot(e,lt(e,e.sel,null,!1),!1)}function lt(e,t,i,n){for(var r,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=ct(e,o.anchor,i,n),l=ct(e,o.head,i,n);(r||s!=o.anchor||l!=o.head)&&(r||(r=t.ranges.slice(0,a)),r[a]=new H(s,l))}return r?W(r,t.primIndex):t}function ct(e,t,i,n){var r=!1,a=t,o=i||1;e.cantEdit=!1;e:for(;;){var s=rr(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],d=c.marker;if((null==c.from||(d.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(d.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(n&&(To(d,"beforeCursorEnter"),d.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!d.atomic)continue;var u=d.find(0>o?-1:1);if(0==ja(u,a)&&(u.ch+=o,u.ch<0?u=u.line>e.first?Z(e,Ra(u.line-1)):null:u.ch>s.text.length&&(u=u.line<e.first+e.size-1?Ra(u.line+1,0):null),!u)){if(r)return n?(e.cantEdit=!0,Ra(e.first,0)):ct(e,t,i,!0);r=!0,u=t,o=-o}a=u;continue e}}return a}}function dt(e){for(var t=e.display,i=e.doc,n=document.createDocumentFragment(),r=document.createDocumentFragment(),a=0;a<i.sel.ranges.length;a++){var o=i.sel.ranges[a],s=o.empty();(s||e.options.showCursorWhenSelecting)&&ut(e,o,n),s||pt(e,o,r)}if(e.options.moveInputWithCursor){var l=Ft(e,i.sel.primary().head,"div"),c=t.wrapper.getBoundingClientRect(),d=t.lineDiv.getBoundingClientRect(),u=Math.max(0,Math.min(t.wrapper.clientHeight-10,l.top+d.top-c.top)),p=Math.max(0,Math.min(t.wrapper.clientWidth-10,l.left+d.left-c.left));t.inputDiv.style.top=u+"px",t.inputDiv.style.left=p+"px"}Zr(t.cursorDiv,n),Zr(t.selectionDiv,r)}function ut(e,t,i){var n=Ft(e,t.head,"div"),r=i.appendChild(qr("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=i.appendChild(qr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function pt(e,t,i){function n(e,t,i,n){0>t&&(t=0),s.appendChild(qr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?l-e:i)+"px; height: "+(n-t)+"px"))}function r(t,i,r){function a(i,n){return zt(e,Ra(t,i),"div",u,n)}var s,d,u=rr(o,t),p=u.text.length;return Kr(ur(u),i||0,null==r?p:r,function(e,t,o){var u,h,f,m=a(e,"left");if(e==t)u=m,h=f=m.left;else{if(u=a(t-1,"right"),"rtl"==o){var g=m;m=u,u=g}h=m.left,f=u.right}null==i&&0==e&&(h=c),u.top-m.top>3&&(n(h,m.top,null,m.bottom),h=c,m.bottom<u.top&&n(h,m.bottom,null,u.top)),null==r&&t==p&&(f=l),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!d||u.bottom>d.bottom||u.bottom==d.bottom&&u.right>d.right)&&(d=u),c+1>h&&(h=c),n(h,u.top,f-h,u.bottom)}),{start:s,end:d}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=a.lineSpace.offsetWidth,c=wt(e.display),d=t.from(),u=t.to();if(d.line==u.line)r(d.line,d.ch,u.ch);else{var p=rr(o,d.line),h=rr(o,u.line),f=Sn(p)==Sn(h),m=r(d.line,d.ch,f?p.text.length:null).end,g=r(u.line,f?0:null,u.ch).start;f&&(m.top<g.top-2?(n(m.right,m.top,null,m.bottom),n(c,g.top,g.left,g.bottom)):n(m.right,m.top,g.left-m.right,m.bottom)),m.bottom<g.top&&n(c,m.bottom,null,g.top)}i.appendChild(s)}function ht(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate))}}function ft(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Vr(mt,e))}function mt(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=io(t.mode,vt(e,t.frontier));Ut(e,function(){t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(t.frontier>=e.display.viewFrom){var a=r.styles;r.styles=Gn(e,r,n,!0);for(var o=!a||a.length!=r.styles.length,s=0;!o&&s<a.length;++s)o=a[s]!=r.styles[s];o&&Qt(e,t.frontier,"text"),r.stateAfter=io(t.mode,n)}else Hn(e,r.text,n),r.stateAfter=t.frontier%5==0?io(t.mode,n):null;return++t.frontier,+new Date>i?(ft(e,e.options.workDelay),!0):void 0})})}}function gt(e,t,i){for(var n,r,a=e.doc,o=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=rr(a,s-1);if(l.stateAfter&&(!i||s<=a.frontier))return s;var c=Eo(l.text,null,e.options.tabSize);(null==r||n>c)&&(r=s-1,n=c)}return r}function vt(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return!0;var a=gt(e,t,i),o=a>n.first&&rr(n,a-1).stateAfter;return o=o?io(n.mode,o):no(n.mode),n.iter(a,t,function(i){Hn(e,i.text,o);var s=a==t-1||a%5==0||a>=r.viewFrom&&a<r.viewTo;i.stateAfter=s?io(n.mode,o):null,++a}),i&&(n.frontier=a),o}function bt(e){return e.lineSpace.offsetTop}function yt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function wt(e){var t=Zr(e.measure,qr("pre",null,null,"text-align: left")).appendChild(qr("span","x"));return t.offsetLeft}function Ct(e,t,i){var n=e.options.lineWrapping,r=n&&e.display.scroller.clientWidth;if(!t.measure.heights||n&&t.measure.width!=r){var a=t.measure.heights=[];if(n){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],c=o[s+1];Math.abs(l.bottom-c.bottom)>2&&a.push((l.bottom+c.top)/2-i.top)}}a.push(i.bottom-i.top)}}function xt(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(lr(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function It(e,t){t=Sn(t);var i=lr(t),n=e.display.externalMeasured=new $t(e.doc,t,i);n.lineN=i;var r=n.built=qn(e,n);return n.text=r.pre,Zr(e.display.lineMeasure,r.pre),n}function Mt(e,t,i,n){return Nt(e,kt(e,t),i,n)}function At(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ti(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function kt(e,t){var i=lr(t),n=At(e,i);n&&!n.text?n=null:n&&n.changes&&N(e,n,i,A(e)),n||(n=It(e,t));var r=xt(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Nt(e,t,i,n){t.before&&(i=-1);var r,a=i+(n||"");return t.cache.hasOwnProperty(a)?r=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ct(e,t.view,t.rect),t.hasHeights=!0),r=Tt(e,t,i,n),r.bogus||(t.cache[a]=r)),{left:r.left,right:r.right,top:r.top,bottom:r.bottom}}function Tt(e,t,i,n){for(var r,a,o,s,l=t.map,c=0;c<l.length;c+=3){var d=l[c],u=l[c+1];if(d>i?(a=0,o=1,s="left"):u>i?(a=i-d,o=a+1):(c==l.length-3||i==u&&l[c+3]>i)&&(o=u-d,a=o-1,i>=u&&(s="right")),null!=a){if(r=l[c+2],d==u&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==a)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)r=l[(c-=3)+2],s="left";if("right"==n&&a==u-d)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)r=l[(c+=3)+2],s="right";break}}var p;if(3==r.nodeType){for(;a&&Wr(t.line.text.charAt(d+a));)--a;for(;u>d+o&&Wr(t.line.text.charAt(d+o));)++o;if(ha&&0==a&&o==u-d)p=r.parentNode.getBoundingClientRect();else if(ma&&e.options.lineWrapping){var h=jo(r,a,o).getClientRects();p=h.length?h["right"==n?h.length-1:0]:Ba}else p=jo(r,a,o).getBoundingClientRect()}else{a>0&&(s=n="right");var h;p=e.options.lineWrapping&&(h=r.getClientRects()).length>1?h["right"==n?h.length-1:0]:r.getBoundingClientRect()}if(ha&&!a&&(!p||!p.left&&!p.right)){var f=r.parentNode.getClientRects()[0];p=f?{left:f.left,right:f.left+Ht(e.display),top:f.top,bottom:f.bottom}:Ba}for(var m,g=(p.bottom+p.top)/2-t.rect.top,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);m=c?v[c-1]:0,g=v[c];var b={left:("right"==s?p.right:p.left)-t.rect.left,right:("left"==s?p.left:p.right)-t.rect.left,top:m,bottom:g};return p.left||p.right||(b.bogus=!0),b}function _t(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function St(e){e.display.externalMeasure=null,Ur(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)_t(e.display.view[t])}function Dt(e){St(e),e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Et(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Rt(e,t,i,n){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var a=zn(t.widgets[r]);i.top+=a,i.bottom+=a}if("line"==n)return i;n||(n="local");var o=dr(t);if("local"==n?o+=bt(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==n?0:Pt());var l=s.left+("window"==n?0:Et());i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function jt(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=Et(),r-=Pt();else if("local"==i||!i){var a=e.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function zt(e,t,i,n,r){return n||(n=rr(e.doc,t.line)),Rt(e,n,Mt(e,n,t.ch,r),i)}function Ft(e,t,i,n,r){function a(t,a){var o=Nt(e,r,t,a?"right":"left");return a?o.left=o.right:o.right=o.left,Rt(e,n,o,i)}function o(e,t){var i=s[t],n=i.level%2;return e==Qr(i)&&t&&i.level<s[t-1].level?(i=s[--t],e=ea(i)-(i.level%2?0:1),n=!0):e==ea(i)&&t<s.length-1&&i.level<s[t+1].level&&(i=s[++t],e=Qr(i)-i.level%2,n=!1),n&&e==i.to&&e>i.from?a(e-1):a(e,n)}n=n||rr(e.doc,t.line),r||(r=kt(e,n));var s=ur(n),l=t.ch;if(!s)return a(l);var c=oa(s,l),d=o(l,c);return null!=Zo&&(d.other=o(l,Zo)),d}function Lt(e,t){var i=0;e.options.lineWrapping||(i=Ht(e.display)*t.ch);var n=rr(e.doc,t.line),r=dr(n)+bt(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function Bt(e,t,i,n){var r=Ra(e,t);return r.xRel=n,i&&(r.outside=!0),r}function Ot(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,0>i)return Bt(n.first,0,!0,-1);var r=cr(n,i),a=n.first+n.size-1;if(r>a)return Bt(n.first+n.size-1,rr(n,a).text.length,!0,1);0>t&&(t=0);for(var o=rr(n,r);;){var s=Gt(e,o,r,t,i),l=Tn(o),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;r=lr(o=c.to.line)}}function Gt(e,t,i,n,r){function a(n){var r=Ft(e,Ra(i,n),"line",t,c);return s=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(s=!1,r.left)}var o=r-dr(t),s=!1,l=2*e.display.wrapper.clientWidth,c=kt(e,t),d=ur(t),u=t.text.length,p=ta(t),h=ia(t),f=a(p),m=s,g=a(h),v=s;if(n>g)return Bt(i,h,v,1);for(;;){if(d?h==p||h==la(t,p,1):1>=h-p){for(var b=f>n||g-n>=n-f?p:h,y=n-(b==p?f:g);Wr(t.text.charAt(b));)++b;var w=Bt(i,b,b==p?m:v,-1>y?-1:y>1?1:0);return w}var C=Math.ceil(u/2),x=p+C;if(d){x=p;for(var I=0;C>I;++I)x=la(t,x,1)}var M=a(x);M>n?(h=x,g=M,(v=s)&&(g+=1e3),u=C):(p=x,f=M,m=s,u-=C)}}function Vt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==za){za=qr("pre");for(var t=0;49>t;++t)za.appendChild(document.createTextNode("x")),za.appendChild(qr("br"));za.appendChild(document.createTextNode("x"))}Zr(e.measure,za);var i=za.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),Ur(e.measure),i||1}function Ht(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=qr("span","xxxxxxxxxx"),i=qr("pre",[t]);Zr(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function Wt(e){e.curOp={viewChanged:!1,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivity:!1,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Oa},_o++||(xo=[])}function qt(e){var t=e.curOp,i=e.doc,n=e.display;if(e.curOp=null,t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)){var r=C(e,{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate);e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)}if(!r&&t.selectionChanged&&dt(e),t.updateMaxLine&&p(e),n.maxLineChanged&&!e.options.lineWrapping&&n.maxLine){var a=Mt(e,n.maxLine,n.maxLine.text.length).left;n.maxLineChanged=!1;var o=Math.max(0,a+3+So),s=Math.max(0,n.sizer.offsetLeft+o-n.scroller.clientWidth);n.sizer.style.minWidth=o+"px",s<i.scrollLeft&&null==t.scrollLeft&&xi(e,Math.min(n.scroller.scrollLeft,s),!0),m(e)}if(null!=t.scrollTop&&n.scroller.scrollTop!=t.scrollTop){var l=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop));n.scroller.scrollTop=n.scrollbarV.scrollTop=i.scrollTop=l}if(null!=t.scrollLeft&&n.scroller.scrollLeft!=t.scrollLeft){var c=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft));n.scroller.scrollLeft=n.scrollbarH.scrollLeft=i.scrollLeft=c,v(e)}if(t.scrollToPos){var d=Yi(e,Z(e.doc,t.scrollToPos.from),Z(e.doc,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Zi(e,d)}t.selectionChanged&&ht(e),e.state.focused&&t.updateInput&&si(e,t.typing);var u=t.maybeHiddenMarkers,h=t.maybeUnhiddenMarkers;if(u)for(var f=0;f<u.length;++f)u[f].lines.length||To(u[f],"hide");if(h)for(var f=0;f<h.length;++f)h[f].lines.length&&To(h[f],"unhide");var g;if(--_o||(g=xo,xo=null),t.changeObjs)for(var f=0;f<t.changeObjs.length;f++)To(e,"change",e,t.changeObjs[f]);if(t.cursorActivity&&To(e,"cursorActivity",e),g)for(var f=0;f<g.length;++f)g[f]()}function Ut(e,t){if(e.curOp)return t();Wt(e);try{return t()}finally{qt(e)}}function Zt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wt(e);try{return t.apply(e,arguments)}finally{qt(e)}}}function Yt(e){return function(){if(this.curOp)return e.apply(this,arguments);Wt(this);try{return e.apply(this,arguments)}finally{qt(this)}}}function Xt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Wt(t);try{return e.apply(this,arguments)}finally{qt(t)}}}function $t(e,t,i){this.line=t,this.rest=Dn(t),this.size=this.rest?lr(Fr(this.rest))-i+1:1,this.node=this.text=null,this.hidden=Rn(e,t)}function Jt(e,t,i){for(var n,r=[],a=t;i>a;a=n){var o=new $t(e.doc,rr(e.doc,a),a);n=a+o.size,r.push(o)}return r}function Kt(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0),Pa&&(t=En(e.doc,t),i=Pn(e.doc,i));var r=e.display;n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo||(i<=r.viewFrom?(r.viewFrom+=n,r.viewTo+=n):t<=r.viewFrom&&i>=r.viewTo?ei(e):t<=r.viewFrom?(r.view=r.view.slice(ti(e,i)),r.viewFrom=i+n,r.viewTo+=n):i>=r.viewTo?(r.view=r.view.slice(0,ti(e,t)),r.viewTo=t):(r.view=r.view.slice(0,ti(e,t)).concat(Jt(e,t,i+n)).concat(r.view.slice(ti(e,i))),r.viewTo+=n));var a=r.externalMeasured;a&&(i<a.lineN?a.lineN+=n:t<a.lineN+a.size&&(r.externalMeasured=null))}function Qt(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[ti(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==Lr(o,i)&&o.push(i)}}}function ei(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ti(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,0>t)return n}function ii(e,t,i){var n=e.display,r=n.view;0==r.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Jt(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Jt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(ti(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Jt(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,ti(e,i)))),n.viewTo=i}function ni(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function ri(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){oi(e),e.state.focused&&ri(e)})}function ai(e){function t(){var n=oi(e);n||i?(e.display.pollingFast=!1,ri(e)):(i=!0,e.display.poll.set(60,t))}var i=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function oi(e){var t=e.display.input,i=e.display.prevInput,n=e.doc;if(!e.state.focused||Wo(t)||ci(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var r=t.value;if(r==i&&!e.somethingSelected())return!1;if(ua&&!ha&&e.display.inputHasSelection===r)return si(e),!1;var a=!e.curOp;a&&Wt(e),e.display.shift=!1;for(var o=0,s=Math.min(i.length,r.length);s>o&&i.charCodeAt(o)==r.charCodeAt(o);)++o;for(var l=r.slice(o),c=Ho(l),d=e.state.pasteIncoming&&c.length>1&&n.sel.ranges.length==c.length,u=n.sel.ranges.length-1;u>=0;u--){var p=n.sel.ranges[u],h=p.from(),f=p.to();o<i.length?h=Ra(h.line,h.ch-(i.length-o)):e.state.overwrite&&p.empty()&&!e.state.pasteIncoming&&(f=Ra(f.line,Math.min(rr(n,f.line).text.length,f.ch+Fr(c).length)));var m=e.curOp.updateInput,g={from:h,to:f,text:d?[c[u]]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(Oi(e.doc,g),_r(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&p.head.ch<100&&(!u||n.sel.ranges[u-1].head.line!=p.head.line)){var v=e.getModeAt(p.head).electricChars;if(v)for(var b=0;b<v.length;b++)if(l.indexOf(v.charAt(b))>-1){en(e,p.head.line,"smart");break}}}return Ki(e),e.curOp.updateInput=m,e.curOp.typing=!0,r.length>1e3||r.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=r,a&&qt(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function si(e,t){var i,n,r=e.doc;if(e.somethingSelected()){e.display.prevInput="";var a=r.sel.primary();i=qo&&(a.to().line-a.from().line>100||(n=e.getSelection()).length>1e3);var o=i?"-":n||e.getSelection();e.display.input.value=o,e.state.focused&&Ro(e.display.input),ua&&!ha&&(e.display.inputHasSelection=o)}else t||(e.display.prevInput=e.display.input.value="",ua&&!ha&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=i}function li(e){"nocursor"==e.options.readOnly||ka&&Yr()==e.display.input||e.display.input.focus()}function ci(e){return e.options.readOnly||e.doc.cantEdit}function di(e){function t(){e.state.focused&&setTimeout(Vr(li,e),0)}function i(){null==s&&(s=setTimeout(function(){s=null,o.cachedCharWidth=o.cachedTextHeight=Bo=null,e.setSize()},100))}function n(){for(var e=o.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(n,5e3):No(window,"resize",i)}function r(t){Dr(e,t)||Ao(t)}function a(t){o.inaccurateSelection&&(o.prevInput="",o.inaccurateSelection=!1,o.input.value=e.getSelection(),Ro(o.input)),"cut"==t.type&&(e.state.cutIncoming=!0)}var o=e.display;ko(o.scroller,"mousedown",Zt(e,hi)),ua?ko(o.scroller,"dblclick",Zt(e,function(t){if(!Dr(e,t)){var i=pi(e,t);if(i&&!bi(e,t)&&!ui(e.display,t)){Io(t);var n=on(rr(e.doc,i.line).text,i);K(e.doc,n.from,n.to)}}})):ko(o.scroller,"dblclick",function(t){Dr(e,t)||Io(t)}),ko(o.lineSpace,"selectstart",function(e){ui(o,e)||Io(e)}),Da||ko(o.scroller,"contextmenu",function(t){Pi(e,t)}),ko(o.scroller,"scroll",function(){o.scroller.clientHeight&&(Ci(e,o.scroller.scrollTop),xi(e,o.scroller.scrollLeft,!0),To(e,"scroll",e))}),ko(o.scrollbarV,"scroll",function(){o.scroller.clientHeight&&Ci(e,o.scrollbarV.scrollTop)}),ko(o.scrollbarH,"scroll",function(){o.scroller.clientHeight&&xi(e,o.scrollbarH.scrollLeft)}),ko(o.scroller,"mousewheel",function(t){Ii(e,t)}),ko(o.scroller,"DOMMouseScroll",function(t){Ii(e,t)}),ko(o.scrollbarH,"mousedown",t),ko(o.scrollbarV,"mousedown",t),ko(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0});var s;ko(window,"resize",i),setTimeout(n,5e3),ko(o.input,"keyup",Zt(e,_i)),ko(o.input,"input",function(){ua&&!ha&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),ai(e)}),ko(o.input,"keydown",Zt(e,Ti)),ko(o.input,"keypress",Zt(e,Si)),ko(o.input,"focus",Vr(Di,e)),ko(o.input,"blur",Vr(Ei,e)),e.options.dragDrop&&(ko(o.scroller,"dragstart",function(t){wi(e,t)}),ko(o.scroller,"dragenter",r),ko(o.scroller,"dragover",r),ko(o.scroller,"drop",Zt(e,yi))),ko(o.scroller,"paste",function(t){ui(o,t)||(e.state.pasteIncoming=!0,li(e),ai(e))}),ko(o.input,"paste",function(){if(ga&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=o.input.selectionStart,i=o.input.selectionEnd;o.input.value+="$",o.input.selectionStart=t,o.input.selectionEnd=i,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,ai(e)}),ko(o.input,"cut",a),ko(o.input,"copy",a),Ca&&ko(o.sizer,"mouseup",function(){Yr()==o.input&&o.input.blur(),li(e)})}function ui(e,t){for(var i=Nr(t);i!=e.wrapper;i=i.parentNode)if(!i||i.ignoreEvents||i.parentNode==e.sizer&&i!=e.mover)return!0}function pi(e,t,i,n){var r=e.display;if(!i){var a=Nr(t);if(a==r.scrollbarH||a==r.scrollbarH.firstChild||a==r.scrollbarV||a==r.scrollbarV.firstChild||a==r.scrollbarFiller||a==r.gutterFiller)return null}var o,s,l=r.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,s=t.clientY-l.top}catch(t){return null}var c,d=Ot(e,o,s);if(n&&1==d.xRel&&(c=rr(e.doc,d.line).text).length==d.ch){var u=Eo(c,c.length,e.options.tabSize)-c.length;d=Ra(d.line,Math.round((o-wt(e.display))/Ht(e.display))-u)}return d}function hi(e){if(!Dr(this,e)){var t=this,i=t.display;if(i.shift=e.shiftKey,ui(i,e))return void(ga||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!bi(t,e)){var n=pi(t,e);switch(window.focus(),Tr(e)){case 1:n?fi(t,e,n):Nr(e)==i.scroller&&Io(e);break;case 2:ga&&(t.state.lastMiddleDown=+new Date),n&&K(t.doc,n),setTimeout(Vr(li,t),20),Io(e);break;case 3:Da&&Pi(t,e)}}}}function fi(e,t,i){e.state.focused||Di(e);var n,r=+new Date;La&&La.time>r-400&&0==ja(La.pos,i)?n="triple":Fa&&Fa.time>r-400&&0==ja(Fa.pos,i)?(n="double",La={time:r,pos:i}):(n="single",Fa={time:r,pos:i});var a=e.doc.sel;e.options.dragDrop&&Vo&&!ci(e)&&"single"==n&&a.contains(i)>-1&&a.somethingSelected()?mi(e,t,i):gi(e,t,i,n)}function mi(e,t,i){var n=e.display,r=Zt(e,function(a){ga&&(n.scroller.draggable=!1),e.state.draggingText=!1,No(document,"mouseup",r),No(n.scroller,"drop",r),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Io(a),K(e.doc,i),li(e),ua&&!ha&&setTimeout(function(){document.body.focus(),li(e)},20))});ga&&(n.scroller.draggable=!0),e.state.draggingText=r,n.scroller.dragDrop&&n.scroller.dragDrop(),ko(document,"mouseup",r),ko(n.scroller,"drop",r)}function gi(e,t,i,n){function r(t,r){if(r||0!=ja(d,t))if(d=t,"rect"==n){for(var a=[],o=e.options.tabSize,s=Eo(rr(l,i.line).text,i.ch,o),c=Eo(rr(l,t.line).text,t.ch,o),p=Math.min(s,c),h=Math.max(s,c),f=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));m>=f;f++){var g=rr(l,f).text,v=jr(g,p,o);p==h?a.push(new H(Ra(f,v),Ra(f,v))):g.length>v&&a.push(new H(Ra(f,v),Ra(f,jr(g,h,o))))}a.length||a.push(new H(i,i)),rt(l,new V(a,a.length-1))}else{var b=u.primary(),y=b.anchor,w=t;if("single"!=n){if("double"==n)var C=on(rr(l,t.line).text,t);else var C={from:Ra(t.line,0),to:Z(l,Ra(t.line+1,0))};ja(C.to,y)>0?(w=C.to,y=G(b.from(),C.from)):(w=C.from,y=O(b.to(),C.to))}var a=u.ranges.slice(0);a[u.primIndex]=new H(Z(l,y),w),rt(l,W(a,u.primIndex))}}function a(t){var i=++h,o=pi(e,t,!0,"rect"==n);if(o)if(0!=ja(o,d)){e.state.focused||Di(e),r(o);var c=g(s,l);(o.line>=c.to||o.line<c.from)&&setTimeout(Zt(e,function(){h==i&&a(t)}),150)}else{var u=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;u&&setTimeout(Zt(e,function(){h==i&&(s.scroller.scrollTop+=u,a(t))}),50)}}function o(t){h=1/0,Io(t),li(e),No(document,"mousemove",f),No(document,"mouseup",m),br(l,l.history.done),l.history.atomicSelection=!1}var s=e.display,l=e.doc;if(Io(t),br(l,l.history.done),l.history.atomicSelection=!0,Na?t.metaKey:t.ctrlKey){var c=l.sel.contains(i);c>-1?rt(l,new V(l.sel.ranges,c),!1):rt(l,W(l.sel.ranges.concat([new H(i,i)]),l.sel.ranges.length),!1)}else t.altKey?(tt(l,i,i),n="rect",i=pi(e,t,!0,!0)):K(l,i,i);var d=i,u=l.sel;("double"==n||"triple"==n)&&(r(i,!0),u=l.sel);var p=s.wrapper.getBoundingClientRect(),h=0,f=Zt(e,function(e){ha||(ma?e.buttons:Tr(e))?a(e):o(e)}),m=Zt(e,o);ko(document,"mousemove",f),ko(document,"mouseup",m)}function vi(e,t,i,n,r){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Io(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(o>l.bottom||!Er(e,i))return kr(t);o-=l.top-s.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var d=s.gutters.childNodes[c];if(d&&d.getBoundingClientRect().right>=a){var u=cr(e.doc,o),p=e.options.gutters[c];return r(e,i,e,u,p,t),kr(t)}}}function bi(e,t){return vi(e,t,"gutterClick",!0,_r)}function yi(e){var t=this;if(!Dr(t,e)&&!ui(t.display,e)){Io(e),ua&&(Ga=+new Date);var i=pi(t,e,!0),n=e.dataTransfer.files;if(i&&!ci(t))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,s=function(e,n){var s=new FileReader;s.onload=function(){if(a[n]=s.result,++o==r){i=Z(t.doc,i);var e={from:i,to:i,text:Ho(a.join("\n")),origin:"paste"};Oi(t.doc,e),nt(t.doc,q(i,Za(e)))}},s.readAsText(e)},l=0;r>l;++l)s(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(Vr(li,t),20);try{var a=e.dataTransfer.getData("Text");if(a){var c=t.state.draggingText&&t.listSelections();if(at(t.doc,q(i,i)),c)for(var l=0;l<c.length;++l)Ui(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(a,"around","paste"),li(t)}}catch(e){}}}}function wi(e,t){if(ua&&(!e.state.draggingText||+new Date-Ga<100))return void Ao(t);if(!Dr(e,t)&&!ui(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!wa)){var i=qr("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ya&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),ya&&i.parentNode.removeChild(i)}}function Ci(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,da||C(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),da&&C(e),ft(e,100))}function xi(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,v(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function Ii(e,t){var i=t.wheelDeltaX,n=t.wheelDeltaY;null==i&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(i=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta);var r=e.display,a=r.scroller;if(i&&a.scrollWidth>a.clientWidth||n&&a.scrollHeight>a.clientHeight){if(n&&Na&&ga)e:for(var o=t.target,s=r.view;o!=a;o=o.parentNode)for(var l=0;l<s.length;l++)if(s[l].node==o){e.display.currentWheelTarget=o;break e}if(i&&!da&&!ya&&null!=Ha)return n&&Ci(e,Math.max(0,Math.min(a.scrollTop+n*Ha,a.scrollHeight-a.clientHeight))),xi(e,Math.max(0,Math.min(a.scrollLeft+i*Ha,a.scrollWidth-a.clientWidth))),Io(t),void(r.wheelStartX=null);if(n&&null!=Ha){var c=n*Ha,d=e.doc.scrollTop,u=d+r.wrapper.clientHeight;0>c?d=Math.max(0,d+c-50):u=Math.min(e.doc.height,u+c+50),C(e,{top:d,bottom:u})}20>Va&&(null==r.wheelStartX?(r.wheelStartX=a.scrollLeft,r.wheelStartY=a.scrollTop,r.wheelDX=i,r.wheelDY=n,setTimeout(function(){if(null!=r.wheelStartX){var e=a.scrollLeft-r.wheelStartX,t=a.scrollTop-r.wheelStartY,i=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(Ha=(Ha*Va+i)/(Va+1),++Va)}},200)):(r.wheelDX+=i,r.wheelDY+=n))}}function Mi(e,t,i){if("string"==typeof t&&(t=ro[t],!t))return!1;e.display.pollingFast&&oi(e)&&(e.display.pollingFast=!1);var n=e.display.shift,r=!1;try{ci(e)&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=Do}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}function Ai(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function ki(e,t){var i=ln(e.options.keyMap),n=i.auto;clearTimeout(Wa),n&&!so(t)&&(Wa=setTimeout(function(){ln(e.options.keyMap)==i&&(e.options.keyMap=n.call?n.call(null,e):n,s(e))},50));var r=lo(t,!0),a=!1;if(!r)return!1;var o=Ai(e);return a=t.shiftKey?oo("Shift-"+r,o,function(t){return Mi(e,t,!0)})||oo(r,o,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Mi(e,t):void 0}):oo(r,o,function(t){return Mi(e,t)}),a&&(Io(t),ht(e),_r(e,"keyHandled",e,r,t)),a}function Ni(e,t,i){var n=oo("'"+i+"'",Ai(e),function(t){return Mi(e,t,!0)});return n&&(Io(t),ht(e),_r(e,"keyHandled",e,"'"+i+"'",t)),n
}function Ti(e){var t=this;if(t.state.focused||Di(t),!Dr(t,e)){ua&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=ki(t,e);ya&&(Ua=n?i:null,!n&&88==i&&!qo&&(Na?e.metaKey:e.ctrlKey)&&t.replaceSelection(""))}}function _i(e){Dr(this,e)||16==e.keyCode&&(this.doc.sel.shift=!1)}function Si(e){var t=this;if(!Dr(t,e)){var i=e.keyCode,n=e.charCode;if(ya&&i==Ua)return Ua=null,void Io(e);if(!(ya&&(!e.which||e.which<10)||Ca)||!ki(t,e)){var r=String.fromCharCode(null==n?i:n);Ni(t,e,r)||(ua&&!ha&&(t.display.inputHasSelection=null),ai(t))}}}function Di(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(To(e,"focus",e),e.state.focused=!0,-1==e.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(e.display.wrapper.className+=" CodeMirror-focused"),e.curOp||(si(e),ga&&setTimeout(Vr(si,e,!0),0))),ri(e),ht(e))}function Ei(e){e.state.focused&&(To(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function Pi(e,t){function i(){if(null!=r.input.selectionStart){var e=r.input.value="​"+(c?r.input.value:"");r.prevInput="​",r.input.selectionStart=1,r.input.selectionEnd=e.length}}function n(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,ha&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=o),ri(e),null!=r.input.selectionStart){(!ma||ha)&&i(),clearTimeout(qa);var t=0,n=function(){"​"==r.prevInput&&0==r.input.selectionStart?Zt(e,ro.selectAll)(e):t++<10?qa=setTimeout(n,500):si(e)};qa=setTimeout(n,200)}}if(!Dr(e,t,"contextmenu")){var r=e.display;if(!ui(r,t)&&!Ri(e,t)){var a=pi(e,t),o=r.scroller.scrollTop;if(a&&!ya){var s=e.options.resetSelectionOnContextMenu;s&&-1==e.doc.sel.contains(a)&&Zt(e,rt)(e.doc,q(a),!1);var l=r.input.style.cssText;r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: transparent; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",li(e),si(e);var c=e.somethingSelected();if(c||(r.input.value=r.prevInput=" "),ma&&!ha&&i(),Da){Ao(t);var d=function(){No(window,"mouseup",d),setTimeout(n,20)};ko(window,"mouseup",d)}else setTimeout(n,50)}}}}function Ri(e,t){return Er(e,"gutterContextMenu")?vi(e,t,"gutterContextMenu",!1,To):!1}function ji(e,t){if(ja(e,t.from)<0)return e;if(ja(e,t.to)<=0)return Za(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Za(t).ch-t.to.ch),Ra(i,n)}function zi(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new H(ji(r.anchor,t),ji(r.head,t)))}return W(i,e.sel.primIndex)}function Fi(e,t,i){return e.line==t.line?Ra(i.line,e.ch-t.ch+i.ch):Ra(i.line+(e.line-t.line),e.ch)}function Li(e,t,i){for(var n=[],r=Ra(e.first,0),a=r,o=0;o<t.length;o++){var s=t[o],l=Fi(s.from,r,a),c=Fi(Za(s),r,a);if(r=s.to,a=c,"around"==i){var d=e.sel.ranges[o],u=ja(d.head,d.anchor)<0;n[o]=new H(u?c:l,u?l:c)}else n[o]=new H(l,l)}return new V(n,e.sel.primIndex)}function Bi(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(t,i,n,r){t&&(this.from=Z(e,t)),i&&(this.to=Z(e,i)),n&&(this.text=n),void 0!==r&&(this.origin=r)}),To(e,"beforeChange",e,n),e.cm&&To(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Oi(e,t,i){if(e.cm){if(!e.cm.curOp)return Zt(e.cm,Oi)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Er(e,"beforeChange")||e.cm&&Er(e.cm,"beforeChange"))||(t=Bi(e,t,!0))){var n=Ea&&!i&&wn(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)Gi(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text});else Gi(e,t)}}function Gi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ja(t.from,t.to)){var i=zi(e,t);mr(e,t,i,e.cm?e.cm.curOp.id:0/0),Wi(e,t,i,vn(e,t));var n=[];ir(e,function(e,i){i||-1!=Lr(n,e.history)||(Ar(e.history,t),n.push(e.history)),Wi(e,t,null,vn(e,t))})}}function Vi(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var n,r=e.history,a=e.sel,o="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<o.length&&(!i&&o[l].ranges);l++);if(l!=o.length){for(br(e,s);n=o.pop(),n.ranges;){if(s.push(n),i&&!n.equals(e.sel))return r.pendingSelection=n,at(e,n);a=n}var c=[];vr(a,s),s.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var d=Er(e,"beforeChange")||e.cm&&Er(e.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var u=n.changes[l];if(u.origin=t,d&&!Bi(e,u,!1))return void(o.length=0);c.push(hr(e,u));var p=l?zi(e,u,null):Fr(o);Wi(e,u,p,yn(e,u));var h=[];ir(e,function(e,t){t||-1!=Lr(h,e.history)||(Ar(e.history,u),h.push(e.history)),Wi(e,u,null,yn(e,u))})}}}}function Hi(e,t){e.first+=t,e.sel=new V(Br(e.sel.ranges,function(e){return new H(Ra(e.anchor.line+t,e.anchor.ch),Ra(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm&&Kt(e.cm,e.first,e.first,t)}function Wi(e,t,i,n){if(e.cm&&!e.cm.curOp)return Zt(e.cm,Wi)(e,t,i,n);if(t.to.line<e.first)return void Hi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Hi(e,r),t={from:Ra(e.first,0),to:Ra(t.to.line+r,t.to.ch),text:[Fr(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Ra(a,rr(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ar(e,t.from,t.to),i||(i=zi(e,t,null)),e.cm?qi(e.cm,t,n):Qn(e,t,n),rt(e,i,!1)}}function qi(e,t,i){var n=e.doc,r=e.display,o=t.from,s=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=lr(Sn(rr(n,o.line))),n.iter(c,s.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&(e.curOp.cursorActivity=!0),Qn(n,t,i,a(e)),e.options.lineWrapping||(n.iter(c,o.line+t.text.length,function(e){var t=u(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),ft(e,400);var d=t.text.length-(s.line-o.line)-1;o.line!=s.line||1!=t.text.length||Kn(e.doc,t)?Kt(e,o.line,s.line+1,d):Qt(e,o.line,"text"),Er(e,"change")&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push({from:o,to:s,text:t.text,removed:t.removed,origin:t.origin})}function Ui(e,t,i,n,r){if(n||(n=i),ja(n,i)<0){var a=n;n=i,i=a}"string"==typeof t&&(t=Ho(t)),Oi(e,{from:i,to:n,text:t,origin:r})}function Zi(e,t){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Ma){var a=qr("div","​",null,"position: absolute; top: "+(t.top-i.viewOffset-bt(e.display))+"px; height: "+(t.bottom-t.top+So)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(r),e.display.lineSpace.removeChild(a)}}function Yi(e,t,i,n){for(null==n&&(n=0);;){var r=!1,a=Ft(e,t),o=i&&i!=t?Ft(e,i):a,s=$i(e,Math.min(a.left,o.left),Math.min(a.top,o.top)-n,Math.max(a.left,o.left),Math.max(a.bottom,o.bottom)+n),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=s.scrollTop&&(Ci(e,s.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(r=!0)),null!=s.scrollLeft&&(xi(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(r=!0)),!r)return a}}function Xi(e,t,i,n,r){var a=$i(e,t,i,n,r);null!=a.scrollTop&&Ci(e,a.scrollTop),null!=a.scrollLeft&&xi(e,a.scrollLeft)}function $i(e,t,i,n,r){var a=e.display,o=Vt(e.display);0>i&&(i=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=a.scroller.clientHeight-So,c={},d=e.doc.height+yt(a),u=o>i,p=r>d-o;if(s>i)c.scrollTop=u?0:i;else if(r>s+l){var h=Math.min(i,(p?d:r)-l);h!=s&&(c.scrollTop=h)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,m=a.scroller.clientWidth-So;t+=a.gutters.offsetWidth,n+=a.gutters.offsetWidth;var g=a.gutters.offsetWidth,v=g+10>t;return f+g>t||v?(v&&(t=0),c.scrollLeft=Math.max(0,t-10-g)):n>m+f-3&&(c.scrollLeft=n+10-m),c}function Ji(e,t,i){(null!=t||null!=i)&&Qi(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Ki(e){Qi(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin,isCursor:!0}}function Qi(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=Lt(e,t.from),n=Lt(e,t.to),r=$i(e,Math.min(i.left,n.left),Math.min(i.top,n.top)-t.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function en(e,t,i,n){var r,a=e.doc;null==i&&(i="add"),"smart"==i&&(e.doc.mode.indent?r=vt(e,t):i="prev");var o=e.options.tabSize,s=rr(a,t),l=Eo(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var c,d=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&(c=e.doc.mode.indent(r,s.text.slice(d.length),s.text),c==Do)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>a.first?Eo(rr(a,t-1).text,null,o):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/o);h;--h)p+=o,u+="	";if(c>p&&(u+=zr(c-p)),u!=d)Ui(e.doc,u,Ra(t,0),Ra(t,d.length),"+input");else for(var h=0;h<a.sel.ranges.length;h++){var f=a.sel.ranges[h];if(f.head.line==t&&f.head.ch<d.length){var p=Ra(t,d.length);et(a,h,new H(p,p));break}}s.stateAfter=null}function tn(e,t,i,n){var r=t,a=t,o=e.doc;return"number"==typeof t?a=rr(o,U(o,t)):r=lr(t),null==r?null:n(a,r)?(Qt(e,r,i),a):null}function nn(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=t(i[r]);n.length&&ja(a.from,Fr(n).to)<=0;){var o=n.pop();if(ja(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}Ut(e,function(){for(var t=n.length-1;t>=0;t--)Ui(e.doc,"",n[t].from,n[t].to,"+delete");Ki(e)})}function rn(e,t,i,n,r){function a(){var t=s+i;return t<e.first||t>=e.first+e.size?u=!1:(s=t,d=rr(e,t))}function o(e){var t=(r?la:ca)(d,l,i,!0);if(null==t){if(e||!a())return u=!1;l=r?(0>i?ia:ta)(d):0>i?d.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=i,d=rr(e,s),u=!0;if("char"==n)o();else if("column"==n)o(!0);else if("word"==n||"group"==n)for(var p=null,h="group"==n,f=!0;!(0>i)||o(!f);f=!1){var m=d.text.charAt(l)||"\n",g=Fo(m)?"w":h?/\s/.test(m)?null:"p":null;if(p&&p!=g){0>i&&(i=1,o());break}if(g&&(p=g),i>0&&!o(!f))break}var v=ct(e,Ra(s,l),c,!0);return u||(v.hitSide=!0),v}function an(e,t,i,n){var r,a=e.doc,o=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+i*(s-(0>i?1.5:.5)*Vt(e.display))}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(;;){var l=Ot(e,o,r);if(!l.outside)break;if(0>i?0>=r:r>=a.height){l.hitSide=!0;break}r+=5*i}return l}function on(e,t){var i=t.ch,n=t.ch;if(e){(t.xRel<0||n==e.length)&&i?--i:++n;for(var r=e.charAt(i),a=Fo(r)?Fo:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Fo(e)};i>0&&a(e.charAt(i-1));)--i;for(;n<e.length&&a(e.charAt(n));)++n}return{from:Ra(t.line,i),to:Ra(t.line,n)}}function sn(t,i,n,r){e.defaults[t]=i,n&&(Xa[t]=r?function(e,t,i){i!=$a&&n(e,t,i)}:n)}function ln(e){return"string"==typeof e?ao[e]:e}function cn(e,t,i,n,r){if(n&&n.shared)return dn(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Zt(e.cm,cn)(e,t,i,n,r);var a=new uo(e,r),o=ja(t,i);if(n&&Gr(n,a),o>0||0==o&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=qr("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||(a.widgetNode.ignoreEvents=!0),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(_n(e,t.line,t,i,a)||t.line!=i.line&&_n(e,i.line,t,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Pa=!0}a.addToHistory&&mr(e,{from:t,to:i,origin:"markText"},e.sel,0/0);var s,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&a.collapsed&&!c.options.lineWrapping&&Sn(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&sr(e,0),fn(e,new un(a,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),a.collapsed&&e.iter(t.line,i.line+1,function(t){Rn(e,t)&&sr(t,0)}),a.clearOnEnter&&ko(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(Ea=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++po,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)Kt(c,t.line,i.line+1);else if(a.className||a.title||a.startStyle||a.endStyle)for(var d=t.line;d<=i.line;d++)Qt(c,d,"text");a.atomic&&st(c.doc)}return a}function dn(e,t,i,n,r){n=Gr(n),n.shared=!1;var a=[cn(e,t,i,n,r)],o=a[0],s=n.widgetNode;return ir(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),a.push(cn(e,Z(e,t),Z(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Fr(a)}),new ho(a,o)}function un(e,t,i){this.marker=e,this.from=t,this.to=i}function pn(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function hn(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function fn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function mn(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var a=e[r],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!i||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new un(o,a.from,l?null:a.to))}}return n}function gn(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var a=e[r],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!i||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new un(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return n}function vn(e,t){var i=X(e,t.from.line)&&rr(e,t.from.line).markedSpans,n=X(e,t.to.line)&&rr(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,a=t.to.ch,o=0==ja(t.from,t.to),s=mn(i,r,o),l=gn(n,a,o),c=1==t.text.length,d=Fr(t.text).length+(c?r:0);if(s)for(var u=0;u<s.length;++u){var p=s[u];if(null==p.to){var h=pn(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+d):p.to=r}}if(l)for(var u=0;u<l.length;++u){var p=l[u];if(null!=p.to&&(p.to+=d),null==p.from){var h=pn(s,p.marker);h||(p.from=d,c&&(s||(s=[])).push(p))}else p.from+=d,c&&(s||(s=[])).push(p)}s&&(s=bn(s)),l&&l!=s&&(l=bn(l));var f=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(var u=0;u<s.length;++u)null==s[u].to&&(m||(m=[])).push(new un(s[u].marker,null,null));for(var u=0;g>u;++u)f.push(m);f.push(l)}return f}function bn(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function yn(e,t){var i=Cr(e,t),n=vn(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(i[r]=o)}return i}function wn(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=Lr(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],a=0;a<n.length;++a)for(var o=n[a],s=o.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ja(c.to,s.from)<0||ja(c.from,s.to)>0)){var d=[l,1],u=ja(c.from,s.from),p=ja(c.to,s.to);(0>u||!o.inclusiveLeft&&!u)&&d.push({from:c.from,to:s.from}),(p>0||!o.inclusiveRight&&!p)&&d.push({from:s.to,to:c.to}),r.splice.apply(r,d),l+=d.length-1}}return r}function Cn(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function xn(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function In(e){return e.inclusiveLeft?-1:0}function Mn(e){return e.inclusiveRight?1:0}function An(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),a=ja(n.from,r.from)||In(e)-In(t);if(a)return-a;var o=ja(n.to,r.to)||Mn(e)-Mn(t);return o?o:t.id-e.id}function kn(e,t){var i,n=Pa&&e.markedSpans;if(n)for(var r,a=0;a<n.length;++a)r=n[a],r.marker.collapsed&&null==(t?r.from:r.to)&&(!i||An(i,r.marker)<0)&&(i=r.marker);return i}function Nn(e){return kn(e,!0)}function Tn(e){return kn(e,!1)}function _n(e,t,i,n,r){var a=rr(e,t),o=Pa&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var c=l.marker.find(0),d=ja(c.from,i)||In(l.marker)-In(r),u=ja(c.to,n)||Mn(l.marker)-Mn(r);if(!(d>=0&&0>=u||0>=d&&u>=0)&&(0>=d&&(ja(c.to,i)||Mn(l.marker)-In(r))>0||d>=0&&(ja(c.from,n)||In(l.marker)-Mn(r))<0))return!0}}}function Sn(e){for(var t;t=Nn(e);)e=t.find(-1,!0).line;return e}function Dn(e){for(var t,i;t=Tn(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function En(e,t){var i=rr(e,t),n=Sn(i);return i==n?t:lr(n)}function Pn(e,t){if(t>e.lastLine())return t;var i,n=rr(e,t);if(!Rn(e,n))return t;for(;i=Tn(n);)n=i.find(1,!0).line;return lr(n)+1}function Rn(e,t){var i=Pa&&t.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&jn(e,t,n))return!0}}function jn(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return jn(e,n.line,pn(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r,a=0;a<t.markedSpans.length;++a)if(r=t.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&jn(e,t,r))return!0}function zn(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||Zr(e.cm.display.measure,qr("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Fn(e,t,i,n){var r=new fo(e,i,n);return r.noHScroll&&(e.display.alignWidgets=!0),tn(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,!Rn(e.doc,t)||r.showIfHidden){var n=dr(t)<e.doc.scrollTop;sr(t,t.height+zn(r)),n&&Ji(e,null,r.height)}return!0}),r}function Ln(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Cn(e),xn(e,i);var r=n?n(e):1;r!=e.height&&sr(e,r)}function Bn(e){e.parent=null,Cn(e)}function On(t,i,n,r,a,o){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,d=null,u=new co(i,t.options.tabSize);for(""==i&&n.blankLine&&n.blankLine(r);!u.eol();){if(u.pos>t.options.maxHighlightLength?(s=!1,o&&Hn(t,i,r,u.pos),u.pos=i.length,l=null):l=n.token(u,r),t.options.addModeClass){var p=e.innerMode(n,r).mode.name;p&&(l="m-"+(l?p+" "+l:p))}s&&d==l||(c<u.start&&a(u.start,d),c=u.start,d=l),u.start=u.pos}for(;c<u.pos;){var h=Math.min(u.pos,c+5e4);a(h,d),c=h}}function Gn(e,t,i,n){var r=[e.state.modeGen];On(e,t.text,e.doc.mode,i,function(e,t){r.push(e,t)},n);for(var a=0;a<e.state.overlays.length;++a){var o=e.state.overlays[a],s=1,l=0;On(e,t.text,o.mode,!0,function(e,t){for(var i=s;e>l;){var n=r[s];n>e&&r.splice(s,1,e,r[s+1],n),s+=2,l=Math.min(e,n)}if(t)if(o.opaque)r.splice(i,s-i,e,t),s=i+2;else for(;s>i;i+=2){var a=r[i+1];r[i+1]=a?a+" "+t:t}})}return r}function Vn(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(t.styles=Gn(e,t,t.stateAfter=vt(e,lr(t)))),t.styles}function Hn(e,t,i,n){var r=e.doc.mode,a=new co(t,e.options.tabSize);for(a.start=a.pos=n||0,""==t&&r.blankLine&&r.blankLine(i);!a.eol()&&a.pos<=e.options.maxHighlightLength;)r.token(a,i),a.start=a.pos}function Wn(e,t){if(!e)return null;for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}if(/^\s*$/.test(e))return null;var r=t.cm.options.addModeClass?vo:go;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function qn(e,t){var i=qr("span",null,null,ga?"padding-right: .1px":null),n={pre:qr("pre",[i]),content:i,col:0,pos:0,cm:e};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var a,o=r?t.rest[r-1]:t.line;n.pos=0,n.addToken=Zn,(ma||ga)&&e.getOption("lineWrapping")&&(n.addToken=Yn(n.addToken)),Jr(e.display.measure)&&(a=ur(o))&&(n.addToken=Xn(n.addToken,a)),n.map=[],Jn(o,n,Vn(e,o)),0==n.map.length&&n.map.push(0,0,n.content.appendChild($r(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return To(e,"renderLine",e,t.line,n.pre),n}function Un(e){var t=qr("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function Zn(e,t,i,n,r,a){if(t){var o=e.cm.options.specialChars,s=!1;if(o.test(t))for(var l=document.createDocumentFragment(),c=0;;){o.lastIndex=c;var d=o.exec(t),u=d?d.index-c:t.length-c;if(u){var p=document.createTextNode(t.slice(c,c+u));l.appendChild(ha?qr("span",[p]):p),e.map.push(e.pos,e.pos+u,p),e.col+=u,e.pos+=u}if(!d)break;if(c+=u+1,"	"==d[0]){var h=e.cm.options.tabSize,f=h-e.col%h,p=l.appendChild(qr("span",zr(f),"cm-tab"));e.col+=f}else{var p=e.cm.options.specialCharPlaceholder(d[0]);l.appendChild(ha?qr("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),ha&&(s=!0),e.pos+=t.length}if(i||n||r||s){var m=i||"";n&&(m+=n),r&&(m+=r);var g=qr("span",[l],m);return a&&(g.title=a),e.content.appendChild(g)}e.content.appendChild(l)}}function Yn(e){function t(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":" ";return t+=" "}return function(i,n,r,a,o,s){e(i,n.replace(/ {3,}/g,t),r,a,o,s)}}function Xn(e,t){return function(i,n,r,a,o,s){r=r?r+" cm-force-border":"cm-force-border";for(var l=i.pos,c=l+n.length;;){for(var d=0;d<t.length;d++){var u=t[d];if(u.to>l&&u.from<=l)break}if(u.to>=c)return e(i,n,r,a,o,s);e(i,n.slice(0,u.to-l),r,a,null,s),a=null,n=n.slice(u.to-l),l=u.to}}}function $n(e,t,i,n){var r=!n&&i.widgetNode;r&&(e.map.push(e.pos,e.pos+t,r),e.content.appendChild(r)),e.pos+=t}function Jn(e,t,i){var n=e.markedSpans,r=e.text,a=0;if(n)for(var o,s,l,c,d,u,p=r.length,h=0,f=1,m="",g=0;;){if(g==h){s=l=c=d="",u=null,g=1/0;for(var v=[],b=0;b<n.length;++b){var y=n[b],w=y.marker;y.from<=h&&(null==y.to||y.to>h)?(null!=y.to&&g>y.to&&(g=y.to,l=""),w.className&&(s+=" "+w.className),w.startStyle&&y.from==h&&(c+=" "+w.startStyle),w.endStyle&&y.to==g&&(l+=" "+w.endStyle),w.title&&!d&&(d=w.title),w.collapsed&&(!u||An(u.marker,w)<0)&&(u=y)):y.from>h&&g>y.from&&(g=y.from),"bookmark"==w.type&&y.from==h&&w.widgetNode&&v.push(w)}if(u&&(u.from||0)==h&&($n(t,(null==u.to?p+1:u.to)-h,u.marker,null==u.from),null==u.to))return;if(!u&&v.length)for(var b=0;b<v.length;++b)$n(t,0,v[b])}if(h>=p)break;for(var C=Math.min(p,g);;){if(m){var x=h+m.length;if(!u){var I=x>C?m.slice(0,C-h):m;t.addToken(t,I,o?o+s:s,c,h+I.length==g?l:"",d)}if(x>=C){m=m.slice(C-h),h=C;break}h=x,c=""}m=r.slice(a,a=i[f++]),o=Wn(i[f++],t)}}else for(var f=1;f<i.length;f+=2)t.addToken(t,r.slice(a,a=i[f]),Wn(i[f+1],t))}function Kn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Fr(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Qn(e,t,i,n){function r(e){return i?i[e]:null}function a(e,i,r){Ln(e,i,r,n),_r(e,"change",e,t)}var o=t.from,s=t.to,l=t.text,c=rr(e,o.line),d=rr(e,s.line),u=Fr(l),p=r(l.length-1),h=s.line-o.line;if(Kn(e,t)){for(var f=0,m=[];f<l.length-1;++f)m.push(new mo(l[f],r(f),n));a(d,d.text,p),h&&e.remove(o.line,h),m.length&&e.insert(o.line,m)}else if(c==d)if(1==l.length)a(c,c.text.slice(0,o.ch)+u+c.text.slice(s.ch),p);else{for(var m=[],f=1;f<l.length-1;++f)m.push(new mo(l[f],r(f),n));m.push(new mo(u+c.text.slice(s.ch),p,n)),a(c,c.text.slice(0,o.ch)+l[0],r(0)),e.insert(o.line+1,m)}else if(1==l.length)a(c,c.text.slice(0,o.ch)+l[0]+d.text.slice(s.ch),r(0)),e.remove(o.line+1,h);else{a(c,c.text.slice(0,o.ch)+l[0],r(0)),a(d,u+d.text.slice(s.ch),p);for(var f=1,m=[];f<l.length-1;++f)m.push(new mo(l[f],r(f),n));h>1&&e.remove(o.line+1,h-1),e.insert(o.line+1,m)}_r(e,"change",e,t)}function er(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function tr(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}function ir(e,t,i){function n(e,r,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=r){var l=a&&s.sharedHist;(!i||l)&&(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function nr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),i(e),e.options.lineWrapping||p(e),e.options.mode=t.modeOption,Kt(e)}function rr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(a>t){i=r;break}t-=a}return i.lines[t]}function ar(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var a=e.text;r==i.line&&(a=a.slice(0,i.ch)),r==t.line&&(a=a.slice(t.ch)),n.push(a),++r}),n}function or(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function sr(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function lr(e){if(null==e.parent)return null;for(var t=e.parent,i=Lr(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function cr(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],a=r.height;if(a>t){e=r;continue e}t-=a,i+=r.chunkSize()}return i}while(!e.lines);for(var n=0;n<e.lines.length;++n){var o=e.lines[n],s=o.height;if(s>t)break;t-=s}return i+n}function dr(e){e=Sn(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var n=0;n<a.children.length;++n){var o=a.children[n];if(o==i)break;t+=o.height}return t}function ur(e){var t=e.order;return null==t&&(t=e.order=Yo(e.text)),t}function pr(e,t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.pendingSelTime=0,this.lastOp=null,this.lastOrigin=null,this.pendingSelection=t.sel,this.generation=this.maxGeneration=e||1,this.atomicSelection=!1}function hr(e,t){var i={from:B(t.from),to:Za(t),text:ar(e,t.from,t.to)};return yr(e,i,t.from.line,t.to.line+1),ir(e,function(e){yr(e,i,t.from.line,t.to.line+1)},!0),i}function fr(e){for(;;){var t=Fr(e.done);if(!t||!t.ranges)return t;e.done.pop()}}function mr(e,t,i,n){var r=e.history;r.undone.length=0,br(e,r.done);var a,o=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=fr(r))){var s=Fr(a.changes);0==ja(t.from,t.to)&&0==ja(t.from,s.to)?s.to=Za(t):a.changes.push(hr(e,t))}else{var l=Fr(r.done);for(l&&l.ranges||vr(e.sel,r.done),a={changes:[hr(e,t)],generation:r.generation},r.done.push(a);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=o,r.lastOp=n,r.lastOrigin=t.origin,s||To(e,"historyAdded")}function gr(e,t,i){var n=e.history,r=n.pendingSelection,a=+new Date;r&&!n.atomicSelection&&i!=n.lastOp&&(r.ranges.length!=t.ranges.length||t.somethingSelected()!=r.somethingSelected()||a-n.pendingSelTime>(e.cm?e.cm.options.historySelectionEventDelay:1e3))&&br(e,n.done),n.pendingSelection=t,n.pendingSelTime=a,n.lastOp=i}function vr(e,t){var i=Fr(t);i&&i.ranges&&i.equals(e)||t.push(e)}function br(e,t){var i=e.history;i.pendingSelection&&(vr(i.pendingSelection,t),i.pendingSelection=null)}function yr(e,t,i,n){var r=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[a]=i.markedSpans),++a})}function wr(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Cr(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,r=[];n<t.text.length;++n)r.push(wr(i[n]));return r}function xr(e,t,i){for(var n=0,r=[];n<e.length;++n){var a=e[n];if(a.ranges)r.push(i?V.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];r.push({changes:s});for(var l=0;l<o.length;++l){var c,d=o[l];if(s.push({from:d.from,to:d.to,text:d.text}),t)for(var u in d)(c=u.match(/^spans_(\d+)$/))&&Lr(t,Number(c[1]))>-1&&(Fr(s)[u]=d[u],delete d[u])}}}return r}function Ir(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Mr(e,t,i,n){for(var r=0;r<e.length;++r){var a=e[r],o=!0;if(a.ranges){a.copied||(a=e[r]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)Ir(a.ranges[s].anchor,t,i,n),Ir(a.ranges[s].head,t,i,n)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(i<l.from.line)l.from=Ra(l.from.line+n,l.from.ch),l.to=Ra(l.to.line+n,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function Ar(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;Mr(e.done,i,n,r),Mr(e.undone,i,n,r)}function kr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Nr(e){return e.target||e.srcElement}function Tr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Na&&e.ctrlKey&&1==t&&(t=3),t}function _r(e,t){function i(e){return function(){e.apply(null,r)}}var n=e._handlers&&e._handlers[t];if(n){var r=Array.prototype.slice.call(arguments,2);xo||(++_o,xo=[],setTimeout(Sr,0));for(var a=0;a<n.length;++a)xo.push(i(n[a]))}}function Sr(){--_o;var e=xo;xo=null;for(var t=0;t<e.length;++t)e[t]()}function Dr(e,t,i){return To(e,i||t.type,e,t),kr(t)||t.codemirrorIgnore}function Er(e,t){var i=e._handlers&&e._handlers[t];return i&&i.length>0}function Pr(e){e.prototype.on=function(e,t){ko(this,e,t)},e.prototype.off=function(e,t){No(this,e,t)}}function Rr(){this.id=null}function jr(e,t,i){for(var n=0,r=0;;){var a=e.indexOf("	",n);-1==a&&(a=e.length);var o=a-n;if(a==e.length||r+o>=t)return n+Math.min(o,t-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=t)return n}}function zr(e){for(;Po.length<=e;)Po.push(Fr(Po)+" ");return Po[e]}function Fr(e){return e[e.length-1]}function Lr(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function Br(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Or(e,t){var i;if(Object.create)i=Object.create(e);else{var n=function(){};n.prototype=e,i=new n}return t&&Gr(t,i),i}function Gr(e,t){t||(t={});for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Vr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Hr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Wr(e){return e.charCodeAt(0)>=768&&Lo.test(e)}function qr(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)r.appendChild(t[a]);return r}function Ur(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Zr(e,t){return Ur(e).appendChild(t)}function Yr(){return document.activeElement}function Xr(e){if(null!=Bo)return Bo;var t=qr("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Zr(e,t),t.offsetWidth&&(Bo=t.offsetHeight-t.clientHeight),Bo||0}function $r(e){if(null==Oo){var t=qr("span","​");Zr(e,qr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Oo=t.offsetWidth<=1&&t.offsetHeight>2&&!pa)}return Oo?qr("span","​"):qr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Jr(e){if(null!=Go)return Go;var t=Zr(e,document.createTextNode("AخA")),i=jo(t,0,1).getBoundingClientRect();if(i.left==i.right)return!1;var n=jo(t,1,2).getBoundingClientRect();return Go=n.right-i.right<3}function Kr(e,t,i,n){if(!e)return n(t,i,"ltr");for(var r=!1,a=0;a<e.length;++a){var o=e[a];(o.from<i&&o.to>t||t==i&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,i),1==o.level?"rtl":"ltr"),r=!0)
}r||n(t,i,"ltr")}function Qr(e){return e.level%2?e.to:e.from}function ea(e){return e.level%2?e.from:e.to}function ta(e){var t=ur(e);return t?Qr(t[0]):0}function ia(e){var t=ur(e);return t?ea(Fr(t)):e.text.length}function na(e,t){var i=rr(e.doc,t),n=Sn(i);n!=i&&(t=lr(n));var r=ur(n),a=r?r[0].level%2?ia(n):ta(n):0;return Ra(t,a)}function ra(e,t){for(var i,n=rr(e.doc,t);i=Tn(n);)n=i.find(1,!0).line,t=null;var r=ur(n),a=r?r[0].level%2?ta(n):ia(n):n.text.length;return Ra(null==t?lr(n):t,a)}function aa(e,t,i){var n=e[0].level;return t==n?!0:i==n?!1:i>t}function oa(e,t){Zo=null;for(var i,n=0;n<e.length;++n){var r=e[n];if(r.from<t&&r.to>t)return n;if(r.from==t||r.to==t){if(null!=i)return aa(e,r.level,e[i].level)?(r.from!=r.to&&(Zo=i),n):(r.from!=r.to&&(Zo=n),i);i=n}}return i}function sa(e,t,i,n){if(!n)return t+i;do t+=i;while(t>0&&Wr(e.text.charAt(t)));return t}function la(e,t,i,n){var r=ur(e);if(!r)return ca(e,t,i,n);for(var a=oa(r,t),o=r[a],s=sa(e,t,o.level%2?-i:i,n);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return oa(r,s)==a?s:(o=r[a+=i],i>0==o.level%2?o.to:o.from);if(o=r[a+=i],!o)return null;s=i>0==o.level%2?sa(e,o.to,-1,n):sa(e,o.from,1,n)}}function ca(e,t,i,n){var r=t+i;if(n)for(;r>0&&Wr(e.text.charAt(r));)r+=i;return 0>r||r>e.text.length?null:r}var da=/gecko\/\d/i.test(navigator.userAgent),ua=/MSIE \d/.test(navigator.userAgent),pa=ua&&(null==document.documentMode||document.documentMode<8),ha=ua&&(null==document.documentMode||document.documentMode<9),fa=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),ma=ua||fa,ga=/WebKit\//.test(navigator.userAgent),va=ga&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ba=/Chrome\//.test(navigator.userAgent),ya=/Opera\//.test(navigator.userAgent),wa=/Apple Computer/.test(navigator.vendor),Ca=/KHTML\//.test(navigator.userAgent),xa=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Ia=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Ma=/PhantomJS/.test(navigator.userAgent),Aa=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ka=Aa||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Na=Aa||/Mac/.test(navigator.platform),Ta=/win/i.test(navigator.platform),_a=ya&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);_a&&(_a=Number(_a[1])),_a&&_a>=15&&(ya=!1,ga=!0);var Sa=Na&&(va||ya&&(null==_a||12.11>_a)),Da=da||ma&&!ha,Ea=!1,Pa=!1,Ra=e.Pos=function(e,t){return this instanceof Ra?(this.line=e,void(this.ch=t)):new Ra(e,t)},ja=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};V.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(0!=ja(i.anchor,n.anchor)||0!=ja(i.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new H(B(this.ranges[t].anchor),B(this.ranges[t].head));return new V(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(ja(t,n.from())>=0&&ja(e,n.to())<=0)return i}return-1}},H.prototype={from:function(){return G(this.anchor,this.head)},to:function(){return O(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var za,Fa,La,Ba={left:0,right:0,top:0,bottom:0},Oa=0,Ga=0,Va=0,Ha=null;ma?Ha=-.53:da?Ha=15:ba?Ha=-.7:wa&&(Ha=-1/3);var Wa,qa,Ua=null,Za=e.changeEnd=function(e){return e.text?Ra(e.from.line+e.text.length-1,Fr(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),li(this),ai(this)},setOption:function(e,t){var i=this.options,n=i[e];(i[e]!=t||"mode"==e)&&(i[e]=t,Xa.hasOwnProperty(e)&&Zt(this,Xa[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||"string"!=typeof t[i]&&t[i].name==e)return t.splice(i,1),!0},addOverlay:Yt(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:i&&i.opaque}),this.state.modeGen++,Kt(this)}),removeOverlay:Yt(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Kt(this)}}),indentLine:Yt(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),X(this.doc,e)&&en(this,e,t,i)}),indentSelection:Yt(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(en(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&Ki(this));else{var a=Math.max(i,r.from().line),o=r.to();i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var s=a;i>s;++s)en(this,s,e)}}}),getTokenAt:function(e,t){var i=this.doc;e=Z(i,e);for(var n=vt(this,e.line,t),r=this.doc.mode,a=rr(i,e.line),o=new co(a.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var s=r.token(o,n)}return{start:o.start,end:o.pos,string:o.current(),type:s||null,state:n}},getTokenTypeAt:function(e){e=Z(this.doc,e);var t=Vn(this,rr(this.doc,e.line)),i=0,n=(t.length-1)/2,r=e.ch;if(0==r)return t[2];for(;;){var a=i+n>>1;if((a?t[2*a-1]:0)>=r)n=a;else{if(!(t[2*a+1]<r))return t[2*a+2];i=a+1}}},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!to.hasOwnProperty(t))return to;var n=to[t],r=this.getModeAt(e);if("string"==typeof r[t])n[r[t]]&&i.push(n[r[t]]);else if(r[t])for(var a=0;a<r[t].length;a++){var o=n[r[t][a]];o&&i.push(o)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(var a=0;a<n._global.length;a++){var s=n._global[a];s.pred(r,this)&&-1==Lr(i,s.val)&&i.push(s.val)}return i},getStateAfter:function(e,t){var i=this.doc;return e=U(i,null==e?i.first+i.size-1:e),vt(this,e+1,t)},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?Z(this.doc,e):e?n.from():n.to(),Ft(this,i,t||"page")},charCoords:function(e,t){return zt(this,Z(this.doc,e),t||"page")},coordsChar:function(e,t){return e=jt(this,e,t||"page"),Ot(this,e.left,e.top)},lineAtHeight:function(e,t){return e=jt(this,{top:e,left:0},t||"page").top,cr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i=!1,n=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>n&&(e=n,i=!0);var r=rr(this.doc,e);return Rt(this,rr(this.doc,e),{top:0,left:0},t||"page").top+(i?r.height:0)},defaultTextHeight:function(){return Vt(this.display)},defaultCharWidth:function(){return Ht(this.display)},setGutterMarker:Yt(function(e,t,i){return tn(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&Hr(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Yt(function(e){var t=this,i=t.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Qt(t,n,"gutter"),Hr(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),addLineClass:Yt(function(e,t,i){return tn(this,e,"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(new RegExp("(?:^|\\s)"+i+"(?:$|\\s)").test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Yt(function(e,t,i){return tn(this,e,"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var a=r.match(new RegExp("(?:^|\\s+)"+i+"(?:$|\\s+)"));if(!a)return!1;var o=a.index+a[0].length;e[n]=r.slice(0,a.index)+(a.index&&o!=r.length?" ":"")+r.slice(o)||null}return!0})}),addLineWidget:Yt(function(e,t,i){return Fn(this,e,t,i)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!X(this.doc,e))return null;var t=e;if(e=rr(this.doc,e),!e)return null}else{var t=lr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var a=this.display;e=Ft(this,Z(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",a.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),i&&Xi(this,s,o,s+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Yt(Ti),triggerOnKeyPress:Yt(Si),triggerOnKeyUp:Yt(_i),execCommand:function(e){return ro.hasOwnProperty(e)?ro[e](this):void 0},findPosH:function(e,t,i,n){var r=1;0>t&&(r=-1,t=-t);for(var a=0,o=Z(this.doc,e);t>a&&(o=rn(this.doc,o,r,i,n),!o.hitSide);++a);return o},moveH:Yt(function(e,t){var i=this;i.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?rn(i.doc,n.head,e,t,i.options.rtlMoveVisually):0>e?n.from():n.to()})}),deleteH:Yt(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):nn(this,function(i){var r=rn(n,i.head,e,t,!1);return 0>e?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=1,a=n;0>t&&(r=-1,t=-t);for(var o=0,s=Z(this.doc,e);t>o;++o){var l=Ft(this,s,"div");if(null==a?a=l.left:l.left=a,s=an(this,l,r,i),s.hitSide)break}return s},moveV:Yt(function(e,t){var i=this,n=this.doc,r=[],a=!i.display.shift&&!n.sel.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=Ft(i,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),r.push(s.left);var l=an(i,s,e,t);return"page"==t&&o==n.sel.primary()&&Ji(i,null,zt(i,l,"div").top-s.top),l}),r.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=r[o]}),toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursorDiv.className+=" CodeMirror-overwrite":this.display.cursorDiv.className=this.display.cursorDiv.className.replace(" CodeMirror-overwrite",""),To(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Yr()==this.display.input},scrollTo:Yt(function(e,t){(null!=e||null!=t)&&Qi(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=So;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:Yt(function(e,t){if(null==e?e={from:this.doc.sel.primary().head,to:null}:"number"==typeof e?e={from:Ra(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Qi(this),this.curOp.scrollToPos=e;else{var i=$i(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Yt(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&St(this),this.curOp.forceUpdate=!0,To(this,"refresh",this)}),operation:function(e){return Ut(this,e)},refresh:Yt(function(){var e=this.display.cachedTextHeight;Kt(this),Dt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),(null==e||Math.abs(e-Vt(this.display))>.5)&&o(this),To(this,"refresh",this)}),swapDoc:Yt(function(e){var t=this.doc;return t.cm=null,nr(this,e),Dt(this),si(this),this.scrollTo(e.scrollLeft,e.scrollTop),_r(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pr(e);var Ya=e.defaults={},Xa=e.optionHandlers={},$a=e.Init={toString:function(){return"CodeMirror.Init"}};sn("value","",function(e,t){e.setValue(t)},!0),sn("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),sn("indentUnit",2,i,!0),sn("indentWithTabs",!1),sn("smartIndent",!0),sn("tabSize",4,function(e){n(e),Dt(e),Kt(e)},!0),sn("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),sn("specialCharPlaceholder",Un,function(e){e.refresh()},!0),sn("electricChars",!0),sn("rtlMoveVisually",!Ta),sn("wholeLineUpdateBefore",!0),sn("theme","default",function(e){l(e),c(e)},!0),sn("keyMap","default",s),sn("extraKeys",null),sn("lineWrapping",!1,r,!0),sn("gutters",[],function(e){h(e.options),c(e)},!0),sn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?w(e.display)+"px":"0",e.refresh()},!0),sn("coverGutterNextToScrollbar",!1,m,!0),sn("lineNumbers",!1,function(e){h(e.options),c(e)},!0),sn("firstLineNumber",1,c,!0),sn("lineNumberFormatter",function(e){return e},c,!0),sn("showCursorWhenSelecting",!1,dt,!0),sn("resetSelectionOnContextMenu",!0),sn("readOnly",!1,function(e,t){"nocursor"==t?(Ei(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||si(e))}),sn("disableInput",!1,function(e,t){t||si(e)},!0),sn("dragDrop",!0),sn("cursorBlinkRate",530),sn("cursorScrollMargin",0),sn("cursorHeight",1),sn("workTime",100),sn("workDelay",100),sn("flattenSpans",!0,n,!0),sn("addModeClass",!1,n,!0),sn("pollInterval",100),sn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),sn("historyEventDelay",500),sn("historySelectionEventDelay",1e3),sn("viewportMargin",10,function(e){e.refresh()},!0),sn("maxHighlightLength",1e4,n,!0),sn("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),sn("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),sn("autofocus",null);var Ja=e.modes={},Ka=e.mimeModes={};e.defineMode=function(t,i){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){i.dependencies=[];for(var n=2;n<arguments.length;++n)i.dependencies.push(arguments[n])}Ja[t]=i},e.defineMIME=function(e,t){Ka[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Ka.hasOwnProperty(t))t=Ka[t];else if(t&&"string"==typeof t.name&&Ka.hasOwnProperty(t.name)){var i=Ka[t.name];t=Or(i,t),t.name=i.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){var i=e.resolveMode(i),n=Ja[i.name];if(!n)return e.getMode(t,"text/plain");var r=n(t,i);if(Qa.hasOwnProperty(i.name)){var a=Qa[i.name];for(var o in a)a.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=a[o])}if(r.name=i.name,i.helperType&&(r.helperType=i.helperType),i.modeProps)for(var o in i.modeProps)r[o]=i.modeProps[o];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Qa=e.modeExtensions={};e.extendMode=function(e,t){var i=Qa.hasOwnProperty(e)?Qa[e]:Qa[e]={};Gr(t,i)},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineDocExtension=function(e,t){yo.prototype[e]=t},e.defineOption=sn;var eo=[];e.defineInitHook=function(e){eo.push(e)};var to=e.helpers={};e.registerHelper=function(t,i,n){to.hasOwnProperty(t)||(to[t]=e[t]={_global:[]}),to[t][i]=n},e.registerGlobalHelper=function(t,i,n,r){e.registerHelper(t,i,r),to[t]._global.push({pred:n,val:r})};var io=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i},no=e.startState=function(e,t,i){return e.startState?e.startState(t,i):!0};e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var ro=e.commands={selectAll:function(e){e.setSelection(Ra(e.firstLine(),0),Ra(e.lastLine()),!1)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),!1)},killLine:function(e){nn(e,function(t){if(t.empty()){var i=rr(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:Ra(t.head.line+1,0)}:{from:t.head,to:Ra(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){nn(e,function(t){return{from:Ra(t.from().line,0),to:Z(e.doc,Ra(t.to().line+1,0))}})},delLineLeft:function(e){nn(e,function(e){return{from:Ra(e.from().line,0),to:e.from()}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Ra(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Ra(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return na(e,t.head.line)})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){var i=na(e,t.head.line),n=e.getLineHandle(i.line),r=ur(n);if(!r||0==r[0].level){var a=Math.max(0,n.text.search(/\S/)),o=t.head.line==i.line&&t.head.ch<=a&&t.head.ch;return Ra(i.line,o?0:a)}return i})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ra(e,t.head.line)})},goLineRight:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")})},goLineLeft:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")})},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	",null,"+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	",null,"+input")},transposeChars:function(e){Ut(e,function(){for(var t=e.listSelections(),i=0;i<t.length;i++){var n=t[i].head,r=rr(e.doc,n.line);n.ch>0&&n.ch<r.length-1&&e.replaceRange(r.charAt(n.ch)+r.charAt(n.ch-1),Ra(n.line,n.ch-1),Ra(n.line,n.ch+1))}})},newlineAndIndent:function(e){Ut(e,function(){for(var t=e.listSelections().length,i=0;t>i;i++){var n=e.listSelections()[i];e.replaceRange("\n",n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0),Ki(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},ao=e.keyMap={};ao.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ao.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ao.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},ao.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ao["default"]=Na?ao.macDefault:ao.pcDefault;var oo=e.lookupKey=function(e,t,i){function n(t){t=ln(t);var r=t[e];if(r===!1)return"stop";if(null!=r&&i(r))return!0;if(t.nofallthrough)return"stop";var a=t.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return n(a);for(var o=0;o<a.length;++o){var s=n(a[o]);if(s)return s}return!1}for(var r=0;r<t.length;++r){var a=n(t[r]);if(a)return"stop"!=a}},so=e.isModifierKey=function(e){var t=Uo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},lo=e.keyName=function(e,t){if(ya&&34==e.keyCode&&e["char"])return!1;var i=Uo[e.keyCode];return null==i||e.altGraphKey?!1:(e.altKey&&(i="Alt-"+i),(Sa?e.metaKey:e.ctrlKey)&&(i="Ctrl-"+i),(Sa?e.ctrlKey:e.metaKey)&&(i="Cmd-"+i),!t&&e.shiftKey&&(i="Shift-"+i),i)};e.fromTextArea=function(t,i){function n(){t.value=c.getValue()}if(i||(i={}),i.value=t.value,!i.tabindex&&t.tabindex&&(i.tabindex=t.tabindex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus){var r=Yr();i.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(ko(t.form,"submit",n),!i.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){n(),a.submit=o,a.submit(),a.submit=s}}catch(l){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return c.save=n,c.getTextArea=function(){return t},c.toTextArea=function(){n(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(No(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=o))},c};var co=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};co.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));return i?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Eo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Eo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Eo(this.string,null,this.tabSize)-(this.lineStart?Eo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return r(a)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var uo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};Pr(uo),uo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Wt(e),Er(this,"clear")){var i=this.find();i&&_r(this,"clear",i.from,i.to)}for(var n=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=pn(o.markedSpans,this);e&&!this.collapsed?Qt(e,lr(o),"text"):e&&(null!=s.to&&(r=lr(o)),null!=s.from&&(n=lr(o))),o.markedSpans=hn(o.markedSpans,s),null==s.from&&this.collapsed&&!Rn(this.doc,o)&&e&&sr(o,Vt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=Sn(this.lines[a]),c=u(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Kt(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&st(e.doc)),t&&qt(e)}},uo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var i,n,r=0;r<this.lines.length;++r){var a=this.lines[r],o=pn(a.markedSpans,this);if(null!=o.from&&(i=Ra(t?a:lr(a),o.from),-1==e))return i;if(null!=o.to&&(n=Ra(t?a:lr(a),o.to),1==e))return n}return i&&{from:i,to:n}},uo.prototype.changed=function(){var e=this.find(-1,!0),t=this.doc.cm;if(e&&t){var i=e.line,n=lr(e.line),r=At(t,n);if(r&&_t(r),n>=t.display.viewFrom&&n<t.display.viewTo){var a=t.display.view[ti(t,n)];!a.hidden&&a.node&&a.node.offsetHeight!=i.height&&sr(i,a.node.offsetHeight),Ut(t,function(){t.curOp.selectionChanged=t.curOp.forceUpdate=t.curOp.updateMaxLine=!0})}}},uo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Lr(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},uo.prototype.detachLine=function(e){if(this.lines.splice(Lr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var po=0,ho=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0,n=this;i<e.length;++i)e[i].parent=this,ko(e[i],"clear",function(){n.clear()})};Pr(ho),ho.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();_r(this,"clear")}},ho.prototype.find=function(e,t){return this.primary.find(e,t)};var fo=e.LineWidget=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.cm=e,this.node=t};Pr(fo),fo.prototype.clear=function(){var e=this.cm,t=this.line.widgets,i=lr(this.line);if(null!=i&&t){for(var n=0;n<t.length;++n)t[n]==this&&t.splice(n--,1);t.length||(this.line.widgets=null);var r=dr(this.line)<e.doc.scrollTop;sr(this.line,Math.max(0,this.line.height-zn(this))),r&&Ji(e,null,-this.height),Ut(e,function(){Qt(e,i,"widget")})}},fo.prototype.changed=function(){var e=this.height,t=this.cm;this.height=null;var i=zn(this)-e;if(i){sr(this.line,this.line.height+i);var n=lr(this.line);Ut(t,function(){Qt(t,n,"widget")})}};var mo=e.Line=function(e,t,i){this.text=e,xn(this,t),this.height=i?i(this):1};Pr(mo),mo.prototype.lineNo=function(){return lr(this)};var go={},vo={};er.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;n>i;++i){var r=this.lines[i];this.height-=r.height,Bn(r),_r(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;n>e;++e)if(i(this.lines[e]))return!0}},tr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(r>e){var a=Math.min(t,r-e),o=n.height;if(n.removeInner(e,a),this.height-=o-n.height,r==a&&(this.children.splice(i--,1),n.parent=null),0==(t-=a))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof er))){var s=[];this.collapse(s),this.children=[new er(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(a>=e){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var o=r.lines.splice(r.lines.length-25,25),s=new er(o);r.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new tr(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=Lr(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var r=new tr(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(a>e){var o=Math.min(t,a-e);if(r.iterN(e,o,i))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var bo=0,yo=e.Doc=function(e,t,i){if(!(this instanceof yo))return new yo(e,t,i);null==i&&(i=0),tr.call(this,[new er([new mo("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var n=Ra(i,0);this.sel=q(n),this.history=new pr(null,this),this.id=++bo,this.modeOption=t,"string"==typeof e&&(e=Ho(e)),Qn(this,{from:n,to:n,text:e}),rt(this,q(n),!1)};yo.prototype=Or(tr.prototype,{constructor:yo,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=or(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:Xt(function(e){var t=Ra(this.first,0),i=this.first+this.size-1;Oi(this,{from:t,to:Ra(i,rr(this,i).text.length),text:Ho(e),origin:"setValue"},!0),rt(this,q(t))}),replaceRange:function(e,t,i,n){t=Z(this,t),i=i?Z(this,i):t,Ui(this,e,t,i,n)},getRange:function(e,t,i){var n=ar(this,Z(this,e),Z(this,t));return i===!1?n:n.join(i||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return X(this,e)?rr(this,e):void 0},getLineNumber:function(e){return lr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=rr(this,e)),Sn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first
},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Z(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||e===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Xt(function(e,t,i){tt(this,Z(this,"number"==typeof e?Ra(e,t||0):e),null,i)}),setSelection:Xt(function(e,t,i){tt(this,Z(this,e),Z(this,t||e),i)}),extendSelection:Xt(function(e,t,i){K(this,Z(this,e),t&&Z(this,t),i)}),extendSelections:Xt(function(e,t){Q(this,$(this,e,t))}),extendSelectionsBy:Xt(function(e,t){Q(this,Br(this.sel.ranges,e),t)}),setSelections:Xt(function(e,t,i){if(e.length){for(var n=0,r=[];n<e.length;n++)r[n]=new H(Z(this,e[n].anchor),Z(this,e[n].head));null==t&&(t=e.length-1),rt(this,W(r,t),i)}}),addSelection:Xt(function(e,t){var i=this.sel.ranges.slice(0);i.push(new H(Z(this,e),Z(this,t||e))),rt(this,W(i,i.length-1),!1)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=ar(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=ar(this,i[n].from(),i[n].to());e!==!1&&(r=r.join(e||"\n")),t[n]=r}return t},replaceSelection:Xt(function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i)}),replaceSelections:function(e,t,i){for(var n=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];n[a]={from:o.from(),to:o.to(),text:Ho(e[a]),origin:i}}for(var s=t&&"end"!=t&&Li(this,n,t),a=n.length-1;a>=0;a--)Oi(this,n[a]);s?nt(this,s):this.cm&&Ki(this.cm)},undo:Xt(function(){Vi(this,"undo")}),redo:Xt(function(){Vi(this,"redo")}),undoSelection:Xt(function(){Vi(this,"undo",!0)}),redoSelection:Xt(function(){Vi(this,"redo",!0)}),setExtending:function(e){this.extend=e},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new pr(this.history.maxGeneration,this)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:xr(this.history.done),undone:xr(this.history.undone)}},setHistory:function(e){var t=this.history=new pr(this.history.maxGeneration,this);t.done=xr(e.done.slice(0),null,!0),t.undone=xr(e.undone.slice(0),null,!0)},markText:function(e,t,i){return cn(this,Z(this,e),Z(this,t),i,"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1};return e=Z(this,e),cn(this,e,e,i,"bookmark")},findMarksAt:function(e){e=Z(this,e);var t=[],i=rr(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t){e=Z(this,e),t=Z(this,t);var i=[],n=e.line;return this.iter(e.line,t.line+1,function(r){var a=r.markedSpans;if(a)for(var o=0;o<a.length;o++){var s=a[o];n==e.line&&e.ch>s.to||null==s.from&&n!=e.line||n==t.line&&s.from>t.ch||i.push(s.marker.parent||s.marker)}++n}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first;return this.iter(function(n){var r=n.text.length+1;return r>e?(t=e,!0):(e-=r,void++i)}),Z(this,Ra(i,t))},indexFromPos:function(e){e=Z(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new yo(or(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new yo(or(this,t,i),e.mode||this.modeOption,t);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=this.linked[i];if(n.doc==t){this.linked.splice(i,1),t.unlinkDoc(this);break}}if(t.history==this.history){var r=[t.id];ir(t,function(e){r.push(e.id)},!0),t.history=new pr(null,t),t.history.done=xr(this.history.done,r),t.history.undone=xr(this.history.undone,r)}},iterLinkedDocs:function(e){ir(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),yo.prototype.eachLine=yo.prototype.iter;var wo="iter insert remove copy getEditor".split(" ");for(var Co in yo.prototype)yo.prototype.hasOwnProperty(Co)&&Lr(wo,Co)<0&&(e.prototype[Co]=function(e){return function(){return e.apply(this.doc,arguments)}}(yo.prototype[Co]));Pr(yo);var xo,Io=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Mo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ao=e.e_stop=function(e){Io(e),Mo(e)},ko=e.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={}),r=n[t]||(n[t]=[]);r.push(i)}},No=e.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}}},To=e.signal=function(e,t){var i=e._handlers&&e._handlers[t];if(i)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)},_o=0,So=30,Do=e.Pass={toString:function(){return"CodeMirror.Pass"}};Rr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Eo=e.countColumn=function(e,t,i,n,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=n||0,o=r||0;;){var s=e.indexOf("	",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=i-o%i,a=s+1}},Po=[""],Ro=function(e){e.select()};Aa?Ro=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ma&&(Ro=function(e){try{e.select()}catch(t){}}),[].indexOf&&(Lr=function(e,t){return e.indexOf(t)}),[].map&&(Br=function(e,t){return e.map(t)});var jo,zo=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Fo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||zo.test(e))},Lo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;jo=document.createRange?function(e,t,i){var n=document.createRange();return n.setEnd(e,i),n.setStart(e,t),n}:function(e,t,i){var n=document.body.createTextRange();return n.moveToElementText(e.parentNode),n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n},ua&&(Yr=function(){try{return document.activeElement}catch(e){return document.body}});var Bo,Oo,Go,Vo=function(){if(ha)return!1;var e=qr("div");return"draggable"in e||"dragDrop"in e}(),Ho=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;n>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var a=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=a.indexOf("\r");-1!=o?(i.push(a.slice(0,o)),t+=o+1):(i.push(a),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Wo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},qo=function(){var e=qr("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Uo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Uo,function(){for(var e=0;10>e;e++)Uo[e+48]=Uo[e+96]=String(e);for(var e=65;90>=e;e++)Uo[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Uo[e+111]=Uo[e+63235]="F"+e}();var Zo,Yo=function(){function e(e){return 247>=e?i.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?n.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!r.test(i))return!1;for(var n,d=i.length,u=[],p=0;d>p;++p)u.push(n=e(i.charCodeAt(p)));for(var p=0,h=c;d>p;++p){var n=u[p];"m"==n?u[p]=h:h=n}for(var p=0,f=c;d>p;++p){var n=u[p];"1"==n&&"r"==f?u[p]="n":o.test(n)&&(f=n,"r"==n&&(u[p]="R"))}for(var p=1,h=u[0];d-1>p;++p){var n=u[p];"+"==n&&"1"==h&&"1"==u[p+1]?u[p]="1":","!=n||h!=u[p+1]||"1"!=h&&"n"!=h||(u[p]=h),h=n}for(var p=0;d>p;++p){var n=u[p];if(","==n)u[p]="N";else if("%"==n){for(var m=p+1;d>m&&"%"==u[m];++m);for(var g=p&&"!"==u[p-1]||d>m&&"1"==u[m]?"1":"N",v=p;m>v;++v)u[v]=g;p=m-1}}for(var p=0,f=c;d>p;++p){var n=u[p];"L"==f&&"1"==n?u[p]="L":o.test(n)&&(f=n)}for(var p=0;d>p;++p)if(a.test(u[p])){for(var m=p+1;d>m&&a.test(u[m]);++m);for(var b="L"==(p?u[p-1]:c),y="L"==(d>m?u[m]:c),g=b||y?"L":"R",v=p;m>v;++v)u[v]=g;p=m-1}for(var w,C=[],p=0;d>p;)if(s.test(u[p])){var x=p;for(++p;d>p&&s.test(u[p]);++p);C.push(new t(0,x,p))}else{var I=p,M=C.length;for(++p;d>p&&"L"!=u[p];++p);for(var v=I;p>v;)if(l.test(u[v])){v>I&&C.splice(M,0,new t(1,I,v));var A=v;for(++v;p>v&&l.test(u[v]);++v);C.splice(M,0,new t(2,A,v)),I=v}else++v;p>I&&C.splice(M,0,new t(1,I,p))}return 1==C[0].level&&(w=i.match(/^\s+/))&&(C[0].from=w[0].length,C.unshift(new t(0,0,w[0].length))),1==Fr(C).level&&(w=i.match(/\s+$/))&&(Fr(C).to-=w[0].length,C.push(new t(0,d-w[0].length,d))),C[0].level!=Fr(C).level&&C.push(new t(C[0].level,d,d)),C}}();return e.version="4.0.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("codemirror")):"function"==typeof define&&define.amd?define("codemirrorYaml",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,i){var n=e.peek(),r=i.escaped;if(i.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(i.literal&&e.indentation()>i.keyCol)return e.skipToEnd(),"string";if(i.literal&&(i.literal=!1),e.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?i.inlinePairs++:"}"==n?i.inlinePairs--:"["==n?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!r&&","==n)return e.next(),"meta";if(i.inlinePairs>0&&!r&&","==n)return i.keyCol=0,i.pair=!1,i.pairStart=!1,e.next(),"meta";if(i.pairStart){if(e.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==i.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(i.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!i.pair&&e.match(/^\s*\S+(?=\s*:($|\s))/i)?(i.pair=!0,i.keyCol=e.indentation(),"atom"):i.pair&&e.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")}),define("adapters/jquery-adapter",["jquery","bootbox","bootstrap","jqueryNumeric","jqueryMaskInput","jqueryScrollTo","jqueryValidatorEngine","jqueryValidatorEnginePtBr","morris","raphael","datetimepicker","bootbox","datetimepicker_lang_pt_BR","jqueryUI","nprogress","slimscroll","slimscrollHorizontal","jqueryGritter","metisMenu","editable","joint","shapesUml","codemirror","codemirrorYaml"],function(e){e.mask.definitions.h="[A-Fa-f0-9]",e.fn.editable.defaults.mode="popup",e.fn.datetimepicker.defaults.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"};var t=function(e){var t="";return"number"==typeof e?(t+=e,t=t.replace(/\./g,",")):t=e.replace(/\./g,","),t.replace(/[^\d.,-]/g,"")},i=function(e,i){e=t(e);var n=e.toString().replace("$",""),r=!1,a=[],o=1,s=null;n.indexOf(",")>0&&(r=n.split(","),n=r[0]),n=n.split("").reverse();for(var l=0,c=n.length;c>l;l++)"."!=n[l]&&(a.push(n[l]),o%3==0&&c-1>l&&a.push("."),o++);return s=a.reverse().join(""),s+(r?","+r[1].substr(0,i):"")};return e.fn.formatNumber=function(t){var n=this.val();this.val(i(n,t||2)),this.on("keyup",function(){var n=e(this);n.val(i(n.val(),t||2))})},e}),define("adapters/underscore-adapter",["underscore"],function(e){return e.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e}),function(e){if("object"==typeof exports)module.exports=e(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)define("backbonePageable",["underscore","backbone"],e);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var t=Backbone.PageableCollection,i=e(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=t,i}}}(function(e,t){function i(t,i){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+i+"` must be a finite integer");return t}function n(e){for(var t,i,n,r,a={},o=decodeURIComponent,s=e.split("&"),l=0,c=s.length;c>l;l++){var d=s[l];t=d.split("="),i=t[0],n=t[1]||!0,i=o(i),n=o(n),r=a[i],f(r)?r.push(n):a[i]=r?[r,n]:n}return a}function r(e,t,i){var n=e._events[t];if(n&&n.length){var r=n[n.length-1],a=r.callback;r.callback=function(){try{a.apply(this,arguments),i()}catch(e){throw e}finally{r.callback=a}}}else i()}var a=e.extend,o=e.omit,s=e.clone,l=e.each,c=e.pick,d=e.contains,u=e.isEmpty,p=e.pairs,h=e.invert,f=e.isArray,m=e.isFunction,g=e.isObject,v=e.keys,b=e.isUndefined,y=e.result,w=Math.ceil,C=Math.floor,x=Math.max,I=t.Collection.prototype,M=/[\s'"]/g,A=/[<>\s'"]/g,k=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){I.constructor.apply(this,arguments),t=t||{},this.defaultFetchError=t.defaultFetchError||function(){},this.defaultFetchSuccess=t.defaultFetchSuccess||function(){};var i=this.mode=t.mode||this.mode||N.mode,n=a({},N.queryParams,this.queryParams,t.queryParams||{});n.directions=a({},N.queryParams.directions,this.queryParams.directions,n.directions||{}),this.queryParams=n;var r=this.state=a({},N.state,this.state,t.state||{});r.currentPage=null==r.currentPage?r.firstPage:r.currentPage,f(e)||(e=e?[e]:[]),e=e.slice(),"server"==i||null!=r.totalRecords||u(e)||(r.totalRecords=e.length),this.switchMode(i,a({fetch:!1,resetState:!1,models:e},t));var o=t.comparator;if(r.sortKey&&!o&&this.setSorting(r.sortKey,r.order,t),"server"!=i){var l=this.fullCollection;o&&t.full&&(this.comparator=null,l.comparator=o),t.full&&l.sort(),e&&!u(e)&&(this.reset(e,a({silent:!0},t)),this.getPage(r.currentPage),e.splice.apply(e,[0,e.length].concat(this.models)))}this._initState=s(this.state)},_makeFullCollection:function(e,i){var n,r,a,o=["url","model","sync","comparator"],s=this.constructor.prototype,l={};for(n=0,r=o.length;r>n;n++)a=o[n],b(s[a])||(l[a]=s[a]);var c=new(t.Collection.extend(l))(e,i);for(n=0,r=o.length;r>n;n++)a=o[n],this[a]!==s[a]&&(c[a]=this[a]);return c},_makeCollectionEventHandler:function(e,t){return function(i,n,o,c){var d=e._handlers;l(v(d),function(i){var n=d[i];e.off(i,n),t.off(i,n)});var u=s(e.state),p=u.firstPage,h=0===p?u.currentPage:u.currentPage-1,f=u.pageSize,m=h*f,g=m+f;if("add"==i){var y,C,x,I,c=c||{};if(o==t)C=t.indexOf(n),C>=m&&g>C&&(I=e,y=x=C-m);else{y=e.indexOf(n),C=m+y,I=t;var x=b(c.at)?C:c.at+m}if(c.onRemove||(++u.totalRecords,delete c.onRemove),e.state=e._checkState(u),I){I.add(n,a({},c||{},{at:x}));var M=y>=f?n:!b(c.at)&&g>x&&e.length>f?e.at(f):null;M&&r(o,i,function(){e.remove(M,{onAdd:!0})})}}if("remove"==i)if(c.onAdd)delete c.onAdd;else{if(--u.totalRecords){var A=u.totalPages=w(u.totalRecords/f);u.lastPage=0===p?A-1:A||p,u.currentPage>A&&(u.currentPage=u.lastPage)}else u.totalRecords=null,u.totalPages=null;e.state=e._checkState(u);var k,N=c.index;o==e?((k=t.at(g))&&r(e,i,function(){e.push(k,{onRemove:!0})}),t.remove(n)):N>=m&&g>N&&((k=t.at(g-1))&&r(e,i,function(){e.push(k,{onRemove:!0})}),e.remove(n))}if("reset"==i)if(c=o,o=n,o==e&&null==c.from&&null==c.to){var T=t.models.slice(0,m),_=t.models.slice(m+e.models.length);t.reset(T.concat(e.models).concat(_),c)}else o==t&&((u.totalRecords=t.models.length)||(u.totalRecords=null,u.totalPages=null),"client"==e.mode&&(u.lastPage=u.currentPage=u.firstPage),e.state=e._checkState(u),e.reset(t.models.slice(m,g),a({},c,{parse:!1})));"sort"==i&&(c=o,o=n,o===t&&e.reset(t.models.slice(m,g),a({},c,{parse:!1}))),l(v(d),function(i){var n=d[i];l([e,t],function(e){e.on(i,n);var t=e._events[i]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,n=this.links,r=e.totalRecords,a=e.pageSize,o=e.currentPage,s=e.firstPage,l=e.totalPages;if(null!=r&&null!=a&&null!=o&&null!=s&&("infinite"==t?n:!0)){if(r=i(r,"totalRecords"),a=i(a,"pageSize"),o=i(o,"currentPage"),s=i(s,"firstPage"),1>a)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=w(r/a),0>s||s>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===s?x(0,l-1):l||s,"infinite"==t){if(!n[o+""])throw new RangeError("No link found for page "+o)}else if(s>o||l>0&&(s?o>l:o>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(s?">":">=")+" totalPages if "+s+"-based. Got "+o+".")}return e},setPageSize:function(e,t){e=i(e,"pageSize"),t=t||{first:!1};var n=this.state,r=w(n.totalRecords/e),s=r?x(n.firstPage,C(r*n.currentPage/n.totalPages)):n.firstPage;return n=this.state=this._checkState(a({},n,{pageSize:e,currentPage:t.first?n.firstPage:s,totalPages:r})),this.getPage(n.currentPage,o(t,["first"]))},switchMode:function(t,i){if(!d(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');i=i||{fetch:!0,resetState:!0};var n=this.state=i.resetState?s(this._initState):this._checkState(a({},this.state));this.mode=t;var r,c=this,u=this.fullCollection,p=this._handlers=this._handlers||{};if("server"==t||u)"server"==t&&u&&(l(v(p),function(e){r=p[e],c.off(e,r),u.off(e,r)}),delete this._handlers,this._fullComparator=u.comparator,delete this.fullCollection);else{u=this._makeFullCollection(i.models||[],i),u.pageableCollection=this,this.fullCollection=u;var h=this._makeCollectionEventHandler(this,u);l(["add","remove","reset","sort"],function(t){p[t]=r=e.bind(h,{},t),c.on(t,r),u.on(t,r)}),u.comparator=this._fullComparator}if("infinite"==t)for(var f=this.links={},m=n.firstPage,g=w(n.totalRecords/n.pageSize),b=0===m?x(0,g-1):g||m,y=n.firstPage;b>=y;y++)f[y]=this.url;else this.links&&delete this.links;return i.fetch?this.fetch(o(i,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasPrevious:function(){var e="hasPrevious has been deprecated, use hasPreviousPage instead";return"undefined"!=typeof console&&console.warn&&console.warn(e),this.hasPreviousPage()},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},hasNext:function(){var e="hasNext has been deprecated, use hasNextPage instead";return"undefined"!=typeof console&&console.warn&&console.warn(e),this.hasNextPage()},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var n=this.mode,r=this.fullCollection;t=t||{fetch:!1};var s=this.state,l=s.firstPage,c=s.currentPage,d=s.lastPage,p=s.pageSize,h=e;switch(e){case"first":h=l;break;case"prev":h=c-1;break;case"next":h=c+1;break;case"last":h=d;break;default:h=i(e,"index")}this.state=this._checkState(a({},s,{currentPage:h})),t.from=c,t.to=h;var f=(0===l?h:h-1)*p,m=r&&r.length?r.models.slice(f,f+p):[];return"client"!=n&&("infinite"!=n||u(m))||t.fetch?("infinite"==n&&(t.url=this.links[h]),this.fetch(o(t,"fetch"))):(this.reset(m,o(t,"fetch")),this)},getPageByOffset:function(e,t){if(0>e)throw new RangeError("`offset must be > 0`");e=i(e);var n=C(e/this.state.pageSize);return 0!==this.state.firstPage&&n++,n>this.state.lastPage&&(n=this.state.lastPage),this.getPage(n,t)},sync:function(e,i,n){var r=this;if("infinite"==r.mode){var o=n.success,s=r.state.currentPage;n.success=function(e,t,i){var l=r.links,c=r.parseLinks(e,a({xhr:i},n));c.first&&(l[r.state.firstPage]=c.first),c.prev&&(l[s-1]=c.prev),c.next&&(l[s+1]=c.next),o&&o(e,t,i)}}return(I.sync||t.sync).call(r,e,i,n)},parseLinks:function(e,t){var i={},n=t.xhr.getResponseHeader("Link");if(n){var r=["first","prev","next"];l(n.split(","),function(e){var t=e.split(";"),n=t[0].replace(A,""),a=t.slice(1);l(a,function(e){var t=e.split("="),a=t[0].replace(M,""),o=t[1].replace(M,"");"rel"==a&&d(r,o)&&(i[o]=n)})})}return i},parse:function(e,t){var i=this.parseState(e,s(this.queryParams),s(this.state),t);return i&&(this.state=this._checkState(a({},this.state,i))),this.parseRecords(e,t)},parseState:function(t,i,n){if(t&&2===t.length&&g(t[0])&&f(t[1])){var r=s(n),a=t[0];return l(p(o(i,"directions")),function(t){var i=t[0],n=t[1],o=a[n];b(o)||e.isNull(o)||(r[i]=a[n])}),a.order&&(r.order=1*h(i.directions)[a.order]),r}},parseRecords:function(e){return e&&2===e.length&&g(e[0])&&f(e[1])?e[1]:e},fetch:function(t){t=t||{};var i=this;this.trigger("fetching");var r=t.success||this.defaultFetchSuccess;t.resetState&&(i.state.currentPage=1);var l=function(e,t,n){0===t.itens.length&&(i.state.currentPage=1,i.state.firstPage=1,i.state.lastPage=null,i.state.currentPage=1,i.state.totalPages=null),i.reset(),i.state.totalRecords=t.totalRecords;var a=i.state.totalRecords%i.state.pageSize;0===a?(i.state.lastPage=Math.floor(i.state.totalRecords/i.state.pageSize),i.state.totalPages=Math.floor(i.state.totalRecords/i.state.pageSize)):(i.state.lastPage=Math.floor(i.state.totalRecords/i.state.pageSize)+1,i.state.totalPages=Math.floor(i.state.totalRecords/i.state.pageSize)+1),i.add(t.itens),r(e,t,n),i.trigger("fetched")};t.success=l;var d=t.error||this.fetchError||this.defaultFetchError;t.error=d;var u=this._checkState(this.state),h=this.mode;"infinite"!=h||t.url||(t.url=this.links[u.currentPage]);var f=t.data||{},g=y(t,"url")||y(this,"url")||"",w=g.indexOf("?");-1!=w&&(a(f,n(g.slice(w+1))),g=g.slice(0,w)),t.url=g,t.data=f;var C,x,M,A,k="client"==this.mode?c(this.queryParams,"sortKey","order"):o(c(this.queryParams,v(N.queryParams)),"directions"),T=p(k),_=s(this);for(C=0;C<T.length;C++)x=T[C],M=x[0],A=x[1],A=m(A)?A.call(_):A,null!=u[M]&&null!=A&&(f[A]=u[M]);u.sortKey&&u.order?f[k.order]=this.queryParams.directions[u.order+""]:u.sortKey||delete f[k.order];var S=p(o(this.queryParams,v(N.queryParams)));for(C=0;C<S.length;C++)x=S[C],A=x[1],A=m(A)?A.call(_):A,null!=A&&(f[x[0]]=A);if(this.filterQueryParams&&e.extend(f,this.filterQueryParams),"server"!=h){var D=this,E=this.fullCollection,P=t.success;return t.success=function(e,i,n){n=n||{},b(t.silent)?delete n.silent:n.silent=t.silent;var r=e.models;"client"==h?E.reset(r,n):(E.add(r,a({at:E.length},a(n,{parse:!1}))),D.trigger("reset",D,n)),P&&P(e,i,n)},I.fetch.call(this,a({},t,{silent:!0}))}return I.fetch.call(this,t)},_makeComparator:function(e,t,i){var n=this.state;return e=e||n.sortKey,t=t||n.order,e&&t?(i||(i=function(e,t){return e.get(t)}),function(n,r){var a,o=i(n,e),s=i(r,e);return 1===t&&(a=o,o=s,s=a),o===s?0:s>o?-1:1}):void 0},setSorting:function(e,t,i){var n=this.state;n.sortKey=e,n.order=t=t||n.order;var r=this.fullCollection,o=!1,s=!1;e||(o=s=!0);var l=this.mode;i=a({side:"client"==l?l:"server",full:!0},i);var c=this._makeComparator(e,t,i.sortValue),d=i.full,u=i.side;return"client"==u?d?(r&&(r.comparator=c),o=!0):(this.comparator=c,s=!0):"server"!=u||d||(this.comparator=c),o&&(this.comparator=null),s&&r&&(r.comparator=null),this}}),N=k.prototype;return k}),function(e){define("backboneLocalstorage",["backbone"],function(){return function(){return function(e,t){function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function n(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}t.LocalStorage=window.Store=function(e){this.name=e;var t=this.localStorage().getItem(this.name);this.records=t&&t.split(",")||[]},e.extend(t.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(e){return e.id||(e.id=n(),e.set(e.idAttribute,e.id)),this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),this.records.push(e.id.toString()),this.save(),e.toJSON()},update:function(t){return this.localStorage().setItem(this.name+"-"+t.id,JSON.stringify(t)),e.include(this.records,t.id.toString())||this.records.push(t.id.toString()),this.save(),t.toJSON()},find:function(e){return JSON.parse(this.localStorage().getItem(this.name+"-"+e.id))},findAll:function(){return e(this.records).chain().map(function(e){return JSON.parse(this.localStorage().getItem(this.name+"-"+e))},this).compact().value()},destroy:function(t){return this.localStorage().removeItem(this.name+"-"+t.id),this.records=e.reject(this.records,function(e){return e==t.id.toString()}),this.save(),t},localStorage:function(){return localStorage}}),t.LocalStorage.sync=window.Store.sync=t.localSync=function(e,t,i){var n,r=t.localStorage||t.collection.localStorage,a=$.Deferred&&$.Deferred();switch(e){case"read":n=void 0!=t.id?r.find(t):r.findAll();break;case"create":n=r.create(t);break;case"update":n=r.update(t);break;case"delete":n=r.destroy(t)}return n?(i&&i.success&&i.success(n),a&&a.resolve()):(i&&i.error&&i.error("Record not found"),a&&a.reject()),a&&a.promise()},t.ajaxSync=t.sync,t.getSyncMethod=function(e){return e.localStorage||e.collection&&e.collection.localStorage?t.localSync:t.ajaxSync},t.sync=function(e,i,n){return t.getSyncMethod(i).apply(this,[e,i,n])}}(_,Backbone),e.Store=Store}.apply(e,arguments)})}(this),function(e){define("backboneWebSocket",["backbone","underscore"],function(){return function(){return function(e,t){t.WebSocket=function(e,t){this.onReceiveData=t,this.url=e},e.extend(t.WebSocket.prototype,{connect:function(){var e=window.location.host,t=window.location.pathname.split("/")[1],i="ws://"+e+"/"+t+"/"+this.url;if("WebSocket"in window)this.socket=new WebSocket(i);else{if(!("MozWebSocket"in window))return void console.log("Error: WebSocket is not supported by this browser.");this.socket=new MozWebSocket(i)}this.socket.onopen=this._onOpen(this),this.socket.onclose=this._onClose,this.socket.onmessage=this.onReceiveData},_onOpen:function(){return function(){console.log("[ Info ]: WebSocket connection opened.")}},_onClose:function(){console.log("[ Info ]: WebSocket connection closed.")},_send:function(e){var t=JSON.stringify(e);console.log("[Info] Sending message ",t),this.socket.send(t)},close:function(){this.socket.close()}})}(_,Backbone),e.WebSocket=WebSocket}.apply(e,arguments)})}(this),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function e(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function t(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,n){var r=["opacity",t,~~(100*e),i,n].join("-"),a=.01+i/n*100,o=Math.max(1-(1-e)/t*(100-a),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return u[r]||(p.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+o+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",p.cssRules.length),u[r]=1),r}function n(e,t){var i,n,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<d.length;n++)if(i=d[n]+t,void 0!==r[i])return i;return void 0!==r[t]?t:void 0}function r(e,t){for(var i in t)e.style[n(e,i)||i]=t[i];return e}function a(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,h)}function l(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,n){function a(){return r(i("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function s(e,s,l){t(p,t(r(a(),{rotation:360/n.lines*e+"deg",left:~~s}),t(r(i("roundrect",{arcsize:n.corners}),{width:c,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),i("fill",{color:o(n.color,e),opacity:n.opacity}),i("stroke",{opacity:0}))))
}var l,c=n.length+n.width,d=2*c,u=2*-(n.width+n.length)+"px",p=r(a(),{position:"absolute",top:u,left:u});if(n.shadow)for(l=1;l<=n.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,i,n){var r=e.firstChild;n=n.shadow&&n.lines||0,r&&t+n<r.childNodes.length&&(r=r.childNodes[t+n],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}}var c,d=["webkit","Moz","ms","O"],u={},p=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},a(s.prototype,{spin:function(t){this.stop();{var i=this,n=i.opts,a=i.el=r(e(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex});n.radius+n.length+n.width}if(r(a,{left:n.left,top:n.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),i.lines(a,i.opts),!c){var o,s=0,l=(n.lines-1)*(1-n.direction)/2,d=n.fps,u=d/n.speed,p=(1-n.opacity)/(u*n.trail/100),h=u/n.lines;!function f(){s++;for(var e=0;e<n.lines;e++)o=Math.max(1-(s+(n.lines-e)*h)%u*p,n.opacity),i.opacity(a,e*n.direction+l,o,n);i.timeout=i.el&&setTimeout(f,~~(1e3/d))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,a){function s(t,i){return r(e(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*d+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var l,d=0,u=(a.lines-1)*(1-a.direction)/2;d<a.lines;d++)l=r(e(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:c&&i(a.opacity,a.trail,u+d*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(l,r(s("#000","0 0 4px #000"),{top:"2px"})),t(n,t(l,s(o(a.color,d),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var f=r(e("group"),{behavior:"url(#default#VML)"});return!n(f,"transform")&&f.adj?l():c=n(f,"animation"),s}),function(root){define("list",[],function(){return function(){function List(){this.elements=new Array}return List.prototype.size=function(){return this.elements.length},List.prototype.isEmpty=function(){return 0==this.elements.length},List.prototype.add=function(value,index){if(value)with(this){if((isNaN(index)||!checkIndex(index))&&(index=elements.length),index<elements.length)for(var i=elements.length;i>index;i--)elements[i]=elements[i-1];elements[index]=value}},List.prototype.set=function(e,t){e&&!isNaN(t)&&this.checkIndex(t)&&(this.elements[t]=e)},List.prototype.get=function(index){with(this)return isNaN(index)?first():checkIndex(index)?elements[index]:null},List.prototype.first=function(){with(this)return isEmpty()?null:get(0)},List.prototype.last=function(){with(this)return isEmpty()?null:get(elements.length-1)},List.prototype.remove=function(index){isNaN(index)&&(index=0);var obj=null;with(this)if(checkIndex(index)){obj=elements[index];for(var j=index;j<elements.length-1;j++)elements[j]=elements[j+1];elements.length-=1}return obj},List.prototype.contains=function(e){return-1!=this.indexOf(e)},List.prototype.indexOf=function(value){if(value)with(this)for(var i=0;i<elements.length;i++)if(elements[i]==value)return i;return-1},List.prototype.lastIndexOf=function(value){if(value)with(this)for(var i=elements.length-1;i>=0;i--)if(elements[i]==value)return i;return-1},List.prototype.sort=function(e){e&&null!=e?this.elements.sort(e):this.elements.sort()},List.prototype.clear=function(){this.elements.length=0},List.prototype.checkIndex=function(e){return e>=0&&e<this.elements.length},List.prototype.toString=function(){return"[object List]"},root.List=List}.apply(root,arguments)})}(this),function(root){define("map",[],function(){return function(){function Map(e){this.buckets=new Array,(isNaN(e)||1>e)&&(e=10);for(var t=0;e>t;t++)this.buckets[t]=new Bucket}function Bucket(){this.depth=0,this.first=null}function Entry(e,t,i){this.key=e,this.value=t,this.next=i?i:null}return Map.prototype._hashCode=function(e){for(var t=JSON.stringify(e),i=-1,n=0;n<t.length;n++)i=31*i+t.charCodeAt(n);return i},Map.prototype.bucketFor=function(obj){with(this)return buckets[this._hashCode(obj)%buckets.length]},Map.prototype.size=function(){var sz=0;with(this)for(var i=0;i<buckets.length;i++)sz+=buckets[i].depth;return sz},Map.prototype.isEmpty=function(){with(this)for(var i=0;i<buckets.length;i++)if(buckets[i].depth>0)return!1;return!0},Map.prototype.keys=function(){var a=new Array;with(this)for(var bucket,e,i=0;i<buckets.length;i++)for(bucket=buckets[i],e=bucket.first;null!=e;e=e.next)a[a.length]=e.key;return a},Map.prototype.values=function(){var a=new Array;with(this)for(var bucket,e,i=0;i<buckets.length;i++)for(bucket=buckets[i],e=bucket.first;null!=e;e=e.next)a[a.length]=e.value;return a},Map.prototype.containsKey=function(key){if(key&&null!=key)with(this)for(var bucket=bucketFor(key),e=bucket.first;null!=e;e=e.next)if(e.key==key)return!0;return!1},Map.prototype.containsValue=function(value){if(value)with(this)for(var bucket,e,i=0;i<buckets.length;i++)for(bucket=buckets[i],e=bucket.first;null!=e;e=e.next)if(e.value==value)return!0;return!1},Map.prototype.put=function(key,value){with(this)return key&&null!=key&&value?bucketFor(key).add(key,value):null},Map.prototype.get=function(key){if(key&&null!=key)with(this)for(var bucket=bucketFor(key),e=bucket.first;null!=e;e=e.next)if(e.key==key)return e.value;return null},Map.prototype.remove=function(key){if(key&&null!=key)with(this)return bucketFor(key).remove(key);return null},Map.prototype.clear=function(){with(this)for(var i=0;i<buckets.length;i++)buckets[i].clear()},Map.prototype.toString=function(){for(var e="[",t=this.keys(),i=0;i<t.length;i++){var n=t[i];e+="("+n+", "+this.get(n)+") ,"}return e+" ]"},Bucket.prototype.add=function(key,value){with(this){if(null!=first)for(var e=first;null!=e;e=e.next)if(e.key==key){var old=e.value;return e.value=value,old}first=new Entry(key,value,first),depth++}return null},Bucket.prototype.remove=function(key){with(this)if(null!=first)for(var e=first,prev=null;null!=e;prev=e,e=e.next)if(e.key==key)return null==prev?first=e.next:prev.next=e.next,depth--,e.value;return null},Bucket.prototype.clear=function(){with(this)first=null,depth=0},Bucket.prototype.toString=function(){return"[object Bucket]"},Entry.prototype.toString=function(){return"[object Entry]"},root.Map=Map}.apply(root,arguments)})}(this),function(e){define("set",[],function(){return function(){function t(e){this.map=new Map(e)}return t.placeholder=new Object,t.prototype.size=function(){return this.map.size()},t.prototype.isEmpty=function(){return this.map.isEmpty()},t.prototype.clear=function(){return this.map.clear()},t.prototype.add=function(e){return null==this.map.put(e,t.placeholder)},t.prototype.contains=function(e){return this.map.containsKey(e)},t.prototype.remove=function(e){return this.map.remove(e)==t.placeholder},t.prototype.values=function(){return this.map.keys()},t.prototype.toString=function(){return"[object Set]"},e.Set=t}.apply(e,arguments)})}(this),define("adapters/col-adapter",["list","map","set"],function(e,t,i){var n={};return n.List=e,n.Map=t,n.Set=i,n}),define("utilities/utils",["nprogress","moment","spin","adapters/col-adapter","bootbox","adapters/underscore-adapter","adapters/jquery-adapter","bootstrap"],function(e,t,i,n,r,a,o){Number.prototype.formatMoney=function(e,t,i){var n=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,i=void 0==i?",":i,r=0>n?"-":"",a=parseInt(n=Math.abs(+n||0).toFixed(e))+"",o=(o=a.length)>3?o%3:0;return r+(o?a.substr(0,o)+i:"")+a.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?t+Math.abs(n-a).toFixed(e).slice(2):"")};{var s={lines:11,length:7,width:6,radius:10,corners:1,rotate:22,direction:1,color:"#000",speed:1.1,trail:65,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};new i(s)}return{moment:t,VENT:a.extend({},Backbone.Events),Bootbox:bootbox,NProgress:e.configure({minimum:.2}),displayValidationErrors:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addValidationError(t,e[t]);this.showAlert("Erro!","Fix validation errors and try again","alert-error")},escapeById:function(e,t){var i=null,n=o("#"+e)||o("input:radio[name ='"+e+"']");if(n){if(n.prop("tagName")&&n.prop("tagName")){var r=n.prop("tagName").toUpperCase();"SELECT"===r&&(i=n.children(":selected").attr("value")||null)}var a=n.attr("type");if("checkbox"===a||"radio"===a)i=n.is(":checked");else{var s=n.val();s&&(i=s.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&#x27;"))}}return i&&t&&(i=i.indexOf("-")>0?i.replace(/-/g,"").replace(/\./g,"").replace(/\,/g,"."):i.replace(/\./g,"").replace(/\,/g,".")),i},escapeByName:function(e){var t=o("input:radio[name ='"+e+"']:checked");return t?t.val():""},setVal:function(e,t){var i=o("#"+e)||o("input:radio[name ='"+e+"'][value='"+t+"']");if(i){var n=i.attr("type");"checkbox"===n||"radio"===n?i.prop("checked",t):i.val(t)}},escapeByAttr:function(e,t){return a.escape(o("#"+e).attr(t))},escapeByIdSelect:function(e){return a.escape(o("#"+e+" option:selected").text())},showErrorMessage:function(e,t){var i=o("#"+e);i.css("display","visible"),i.removeClass("alert-info"),i.addClass("alert-error"),i.append(t)},showInfoMessage:function(e,t){var i=o("#"+e);i.css("display","block"),i.removeClass("alert-error"),i.addClass("alert-info"),i.append(t)},addValidationError:function(e,t){var i=o("#"+e).parent().parent();i.addClass("error"),o(".help-inline",i).html(t)},removeValidationError:function(e){var t=o("#"+e).parent().parent();t.removeClass("error"),o(".help-inline",t).html("")},showAlert:function(e,t,i){var n="";o(".alert").removeClass("alert-error alert-warning alert-success alert-info"),o(".alert").addClass(i),n="<ul>";for(var r in t)n+="<li>"+t[r]+"</li>";n+="</ul>",o(".alert").html("<strong>"+e+"</strong> "+n),o(".alert").show()},hideAlert:function(){},getTodayDate:function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},getActualHour:function(){},changeEvent:function(e,t){var i=e.target,n={};if(""!==i.name){n[i.name]=i.value,t.set(n);var r=t.validateItem(i.id);r.isValid===!1?utils.showAlert("Erro!",r.messages,"alert-error"):(utils.removeValidationError(i.id),o(".alert").hide())}},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),n=i.exec(window.location.href);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))},backListEvents:function(){var e=this;console.log("voltando para a lista de midias"),window.setTimeout(function(){e.navigate("sintsview/showMedias")},1500)},resfresh:function(e,t){this.intervalName&&clearInterval(this.intervalName),this.intervalName=window.setInterval(function(){t&&t()},1e3*e||3e4)},markActiveItem:function(e){try{var t=o(".nav .sub li a");t.parent().parent().removeClass("show"),t.removeClass("active"),o("#"+e).addClass("active");var i=o("#"+e).parent();i&&(o("#nav-accordion").find("li").removeClass("active"),i.parent().addClass("active").addClass("open"),o("#"+e).addClass("active")),t.parent().parent().addClass("show")}catch(n){console.log(n)}},adjustMapSize:function(){o(function(){o("#map").height(o(window).height()-122),o("#map").width(o(window).width()),o("#over_map").height(o(window).height()-122),o("#_GMapContainer").height(o(window).height()-122)}),o(window).bind("resize load",function(){o("#map").height(o(window).height()-122),o("#_GMapContainer").height(o(window).height()-122),o("#map").width(o(window).width()),o("#_GMapContainer").width(o(window).width()),o("#over_map").height(o(window).height()-122)})},showSuccessMessage:function(e,t){this.showMessage("success",e,t)},showErrorMessage:function(e,t,i){var n="";t?(this.getJson(t.responseText).legalMessage?n=this.getJson(t.responseText).legalMessage:this.showMessage("error",e,i),this.logError(t)):this.showMessage("error",e,i)},showMessage:function(e,t,i){var n=i||"messages_div",r=o("#"+n),a="<i class='fa fa-info-circle'></i> ";"success"==e?a="<i class='fa fa-thumbs-o-up'></i> ":"error"==e&&(a="<i class='fa fa-exclamation-triangle'></i> ",e="danger"),i||o("body,html").animate({scrollTop:0}),r.html("<div class='alert alert-"+e+" '> <strong> "+a+" </strong>	&nbsp;"+t+"<a class='close' data-dismiss='alert' href='#' aria-hidden='true'>&times;</a>	</div>"),r.show(),"danger"!==e&&setTimeout(function(){r.slideUp(400)},3e3)},goPage:function(e,t){t?window.location.hash=e:window.setTimeout(function(){window.location.hash=e},1e3)},uploadImage:function(e,t,i){o("form").ajaxSubmit({success:t,error:i})},showChooseFile:function(e,t,i,n){o("#"+e).trigger("click"),o("#"+e).change(function(){var e=o("#"+t);e&&e.ajaxSubmit({success:i,error:n})})},validateInput:function(e,t){var i=o("#"+e),n=o("#"+t);return null==n.val()||""==n.val()?(i.addClass("has-error"),n.change(function(e){var t=o(e.target);t.val().length>0&&i.removeClass("has-error")}),!0):!1},hasInvalidFields:function(e){for(var t=e.keys(),i=new n.Set,r=0;r<t.length;r++){var a=t[r],o=e.get(a);i.add(this.validateInput(a,o))}return i.contains(!0)},clear:function(e){var t=o("#"+e);t.val("");var i=t.attr("type");("checkbox"===i||"radio"===i)&&(t.prop("checked",!1),t.attr("checked",!1))},loadCombo:function(e,t,i,n){var r=this;t.fetch({success:function(){t.each(function(t){e.append("<option value="+t.get("id")+">"+t.get("name")+"</option>")}),e.val(i.model?i.model.get(n):"")},error:function(){r.showMessage("error","Problemas ao carregar o combobox!")}})},breadcrumb:function(e){if(e){var t="<ul class='breadcrumb'>	<li>		<i class='fa "+e.iconClass+" '></i>		<a href='#"+e.url+" '> &nbsp; "+e.itemLabel+"</a>	</li>	<li class='active realce-breadcumb'>"+e.itemSubFolderName+"</li></ul>";o("#breadcrumbs").html(t)}},appendView:function(e,t){e.append(t.render().el),Marionette.triggerMethod.call(t,"show")},showSpinner:function(e){var e=document.getElementById(e)},stopSpinner:function(){},scrollTop:function(){o("body,html").animate({scrollTop:0})},scrollDownModal:function(){o(".modal-body").animate({scrollTop:800})},scrollUpModal:function(){o(".modal-body").animate({scrollTop:-800})},getWrappedModel:function(e){var t=o(e.target).parent();if(!t)return null;var i=t.data("model");return i},enterPressed:function(e){var t=e.keyCode?e.keyCode:e.which;return 13==t},isNumeric:function(e){return o.isNumeric(e)},cepFormatado:function(e){var t=e.replace(/[^0-9]+/,"");return t=t.replace(/^(\d{5})(\d)/,"$1-$2")},validCep:function(e){var t=e.replace(/[^0-9]+/,"");return 8==t.length&&this.isNumeric(t)},clearChecked:function(e){var t=o("#"+e);t.attr("checked",!1)},getJson:function(e){var t={};try{"string"==typeof e?t=JSON.parse(e):"object"==typeof e&&(t=e)}catch(i){console.error(i)}return t},toStrNumber:function(e){var t="";return"number"==typeof e?(t+=e,t=t.replace(/\./g,",")):t=""+e,t.replace(/[^\d.,-]/g,"")},formatFinalNumber:function(e){var t=this.formatNumber(e);return t.indexOf(",")<0?t+",00":t},formatNumber:function(e){e=this.toStrNumber(e);var t=e.toString().replace("$",""),i=!1,n=[],r=1,a=null;t.indexOf(",")>0&&(i=t.split(","),t=i[0]),t=t.split("").reverse();for(var o=0,s=t.length;s>o;o++)"."!=t[o]&&(n.push(t[o]),r%3==0&&s-1>o&&n.push("."),r++);return a=n.reverse().join(""),a+(i?","+i[1].substr(0,2):"")},onlyNumber:function(e){return e.replace(/[^0-9]+/,"")},notificationError:function(e){return o.gritter.add({title:e.title||"Aviso !",text:e.text,time:1e4,sticky:!1,icon:e.icon||"fa fa-exclamation-circle",class_name:e.className||"warn-notice"}),!1},validateUnique:function(e){var t=this;if(!e.collection)return void console.error("Deveria ser passado uma collection para a consulta...");var i=new e.collection;if(!e.view)return void console.error("Deveria ser passado a view a ser validada");var n=e.view.ui.inputId,r={};if(e.element.val()){var a=e.element.val();e.onlyNumber&&(a=a.replace(/\D/g,"")),e.uppercase&&(a=e.element.val().toUpperCase()),r[e.fieldName]=a,i.filter({success:function(){i.each(function(i){i.get("id")!=n.val()&&(t.notificationError({title:"Erro",text:e.text||"Já existe registro com "+(e.displayFieldName||e.fieldName)+" "+a}),e.element.val(""))})},error:function(e,t,i){console.log(e,t,i),console.error(t.responseText||t.getResponseHeader("exception"))},data:r})}},handleError:function(e,t){0===e.status&&0===e.readyState?this.notificationError({title:"Sem conexão",className:"error-notice",icon:"fa fa-chain-broken",text:"Aparentemente voce não está conectado"}):console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},getCurrencySymbol:function(){return"R$"},formatNumeric:function(e,t){var i=e||0;return i.formatMoney(t,",",".")},refreshEditable:function(e,t){e.val(t),e.text(t),e.removeClass("editable-empty").addClass("editable-unsaved")},refreshEditableVisual:function(e){e.removeClass("editable-empty").addClass("editable-unsaved")},toUnderscore:function(e,t){var i=e.replace(/([A-Z])/g,function(e,t,i){return 0==i?e.toLowerCase():"_"+e.toLowerCase()});return t?i.toUpperCase():i},toFrase:function(e){var t=e.replace(/([A-Z])/g,function(e,t,i){return 0==i?e.toLowerCase():" "+e.toLowerCase()});return this.firstUpper(t)},firstUpper:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getVEntityByName:function(e){var t=visualEntities.values(),i=null;return a.each(t,function(t){return t.get("entity").get("name")==e?i=t:void 0}),i},getBEntities:function(){var e=globalVisualEntities.values(),t=[];return a.each(e,function(e){t.push(e.get("entity"))}),t},BEntityContainsAttribute:function(e,t){var i=this.getBEntityByName(e),n=!1;return a.each(i.get("attributes"),function(e){e.name==t&&(n=!0)}),n},getBEntityByName:function(e){var t=null;return a.each(this.getBEntities(),function(i){i.get("name")==e&&(t=i)}),t},findViewByModel:function(e){var t=this.getVEntityByName(e.get&&e.get("name"));return paper.findViewByModel(t)},showHidePanel:function(e){var t=e.closest("div.hpanel"),i=e.find("i:first"),n=t.find("div.panel-body"),r=t.find("div.panel-footer");n.slideToggle(300),r.slideToggle(200),i.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("panel-collapse"),setTimeout(function(){t.resize(),t.find("[id^=map-]").resize()},50)}}}),function(e){define("backgrid",["backbone"],function(){return function(){return function(e){"object"==typeof exports?module.exports=e(module.exports,require("underscore"),require("backbone")):e(this,this._,this.Backbone)}(function(e,t,i){function n(e,t,i){var n=t-(e+"").length;n=0>n?0:n;for(var r="",a=0;n>a;a++)r+=i;return r+e}var r="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||r.trim()){r="["+r+"]";var a=new RegExp("^"+r+r+"*"),o=new RegExp(r+r+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(a,"").replace(o,"")}}var s=i.$,l=e.Backgrid={Extension:{},resolveNameToClass:function(e,i){if(t.isString(e)){var n=t.map(e.split("-"),function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("")+i,r=l[n]||l.Extension[n];if(t.isUndefined(r))throw new ReferenceError("Class '"+n+"' not found");return r}return e},callByNeed:function(){var e=arguments[0];if(!t.isFunction(e))return e;var i=arguments[1],n=[].slice.call(arguments,2);return e.apply(i,n+""?n:[])}};t.extend(l,i.Events);var c=l.Command=function(e){t.extend(this,{altKey:!!e.altKey,"char":e["char"],charCode:e.charCode,ctrlKey:!!e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:!!e.metaKey,repeat:!!e.repeat,shiftKey:!!e.shiftKey,which:e.which})};t.extend(c.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var d=l.CellFormatter=function(){};t.extend(d.prototype,{fromRaw:function(e){return e},toRaw:function(e){return e}});var u=l.NumberFormatter=function(e){if(t.extend(this,this.defaults,e||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};u.prototype=new d,t.extend(u.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(e){if(!e||t.isNull(e)||t.isUndefined(e))return"";e=parseFloat(e),e=e.toFixed(~~this.decimals);var i=e.split("."),n=i[0],r=i[1]?(this.decimalSeparator||".")+i[1]:"";return n.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+r},toRaw:function(e){if(e=e.trim(),""===e)return null;for(var i="",n=e.split(this.orderSeparator),r=0;r<n.length;r++)i+=n[r];var a=i.split(this.decimalSeparator);i="";for(var r=0;r<a.length;r++)i=i+a[r]+".";"."===i[i.length-1]&&(i=i.slice(0,i.length-1));var o=1*(1*i).toFixed(~~this.decimals);return t.isNumber(o)&&!t.isNaN(o)?o:void 0}});var p=l.PercentFormatter=function(){l.NumberFormatter.apply(this,arguments)};p.prototype=new l.NumberFormatter,t.extend(p.prototype,{defaults:t.extend({},u.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(e){var t=[].slice.call(arguments,1);return t.unshift(e*this.multiplier),(u.prototype.fromRaw.apply(this,t)||"0")+this.symbol},toRaw:function(e){var i=e.split(this.symbol);if(i&&i[0]&&""===i[1]||null==i[1]){var n=u.prototype.toRaw.call(this,i[0]);return t.isUndefined(n)?n:n/this.multiplier}}});var h=l.DatetimeFormatter=function(e){if(t.extend(this,this.defaults,e||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};h.prototype=new d,t.extend(h.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(e,i){if(""===(e+"").trim())return null;var r,a=null;if(t.isNumber(e)){var o=new Date(e);r=n(o.getUTCFullYear(),4,0)+"-"+n(o.getUTCMonth()+1,2,0)+"-"+n(o.getUTCDate(),2,0),a=n(o.getUTCHours(),2,0)+":"+n(o.getUTCMinutes(),2,0)+":"+n(o.getUTCSeconds(),2,0)}else{e=e.trim();var s=e.split(this.ISO_SPLITTER_RE)||[];r=this.DATE_RE.test(s[0])?s[0]:"",a=r&&s[1]?s[1]:this.TIME_RE.test(s[0])?s[0]:""}var l=this.DATE_RE.exec(r)||[],c=this.TIME_RE.exec(a)||[];if(i){if(this.includeDate&&t.isUndefined(l[0]))return;if(this.includeTime&&t.isUndefined(c[0]))return;if(!this.includeDate&&r)return;if(!this.includeTime&&a)return}var o=new Date(Date.UTC(1*l[1]||0,1*l[2]-1||0,1*l[3]||0,1*c[1]||null,1*c[2]||null,1*c[3]||null,1*c[5]||null)),d="";return this.includeDate&&(d=n(o.getUTCFullYear(),4,0)+"-"+n(o.getUTCMonth()+1,2,0)+"-"+n(o.getUTCDate(),2,0)),this.includeTime&&(d=d+(this.includeDate?"T":"")+n(o.getUTCHours(),2,0)+":"+n(o.getUTCMinutes(),2,0)+":"+n(o.getUTCSeconds(),2,0),this.includeMilli&&(d=d+"."+n(o.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(d+="Z"),d},fromRaw:function(e){return t.isNull(e)||t.isUndefined(e)?"":this._convert(e)},toRaw:function(e){return this._convert(e,!0)}});var f=l.StringFormatter=function(){};f.prototype=new d,t.extend(f.prototype,{fromRaw:function(e){return t.isUndefined(e)||t.isNull(e)?"":e+""}});var m=l.EmailFormatter=function(){};m.prototype=new d,t.extend(m.prototype,{toRaw:function(e){var i=e.trim().split("@");return 2===i.length&&t.all(i)?e:void 0}});var g=l.SelectFormatter=function(){};g.prototype=new d,t.extend(g.prototype,{fromRaw:function(e){return t.isArray(e)?e:null!=e?[e]:[]}});var v=l.CellEditor=i.View.extend({initialize:function(e){this.formatter=e.formatter,this.column=e.column,this.column instanceof T||(this.column=new T(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(e,t){return(null==t||t.get("name")==this.column.get("name"))&&this.$el.focus(),this}}),b=l.InputCellEditor=v.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(e){b.__super__.initialize.apply(this,arguments),e.placeholder&&this.$el.attr("placeholder",e.placeholder)},render:function(){var e=this.model;return this.$el.val(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this},saveOrCancel:function(e){var i=this.formatter,n=this.model,r=this.column,a=new c(e),o="blur"===e.type;if(a.moveUp()||a.moveDown()||a.moveLeft()||a.moveRight()||a.save()||o){e.preventDefault(),e.stopPropagation();var s=this.$el.val(),l=i.toRaw(s,n);t.isUndefined(l)?n.trigger("backgrid:error",n,r,s):(n.set(r.get("name"),l),n.trigger("backgrid:edited",n,r,a))}else a.cancel()&&(e.stopPropagation(),n.trigger("backgrid:edited",n,r,a))},postRender:function(e,t){if(null==t||t.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var i=this.$el.val();this.$el.focus().val(null).val(i)}else this.$el.focus();return this}}),y=l.Cell=i.View.extend({tagName:"td",formatter:d,editor:b,events:{click:"enterEditMode"},initialize:function(e){this.column=e.column,this.column instanceof T||(this.column=new T(this.column));var i=this.column,n=this.model,r=this.$el,a=l.resolveNameToClass(i.get("formatter")||this.formatter,"Formatter");t.isFunction(a.fromRaw)||t.isFunction(a.toRaw)||(a=new a),this.formatter=a,this.editor=l.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(n,"change:"+i.get("name"),function(){r.hasClass("editor")||this.render()}),this.listenTo(n,"backgrid:error",this.renderError),this.listenTo(i,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&r.toggleClass(i,t[i])}),l.callByNeed(i.editable(),i,n)&&r.addClass("editable"),l.callByNeed(i.renderable(),i,n)&&r.addClass("renderable")},render:function(){this.$el.empty();var e=this.model;return this.$el.text(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this.delegateEvents(),this},enterEditMode:function(){var e=this.model,t=this.column,i=l.callByNeed(t.editable(),t,e);i&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),e.trigger("backgrid:edit",e,t,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),e.trigger("backgrid:editing",e,t,this,this.currentEditor))},renderError:function(e,t){(null==t||t.get("name")==this.column.get("name"))&&this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),y.__super__.remove.apply(this,arguments)}}),w=l.StringCell=y.extend({className:"string-cell",formatter:f}),C=l.UriCell=y.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(e){C.__super__.initialize.apply(this,arguments),this.title=e.title||this.title,this.target=e.target||this.target},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model);return this.$el.append(s("<a>",{tabIndex:-1,href:e,title:this.title||t,target:this.target}).text(t)),this.delegateEvents(),this}}),x=(l.EmailCell=w.extend({className:"email-cell",formatter:m,render:function(){this.$el.empty();var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.append(s("<a>",{tabIndex:-1,href:"mailto:"+t,title:t}).text(t)),this.delegateEvents(),this}}),l.NumberCell=y.extend({className:"number-cell",decimals:u.prototype.defaults.decimals,decimalSeparator:u.prototype.defaults.decimalSeparator,orderSeparator:u.prototype.defaults.orderSeparator,formatter:u,initialize:function(){x.__super__.initialize.apply(this,arguments);var e=this.formatter;e.decimals=this.decimals,e.decimalSeparator=this.decimalSeparator,e.orderSeparator=this.orderSeparator}})),I=(l.IntegerCell=x.extend({className:"integer-cell",decimals:0}),l.PercentCell=x.extend({className:"percent-cell",multiplier:p.prototype.defaults.multiplier,symbol:p.prototype.defaults.symbol,formatter:p,initialize:function(){I.__super__.initialize.apply(this,arguments);var e=this.formatter;e.multiplier=this.multiplier,e.symbol=this.symbol}})),M=l.DatetimeCell=y.extend({className:"datetime-cell",includeDate:h.prototype.defaults.includeDate,includeTime:h.prototype.defaults.includeTime,includeMilli:h.prototype.defaults.includeMilli,formatter:h,initialize:function(){M.__super__.initialize.apply(this,arguments);var e=this.formatter;e.includeDate=this.includeDate,e.includeTime=this.includeTime,e.includeMilli=this.includeMilli;var i=this.includeDate?"YYYY-MM-DD":"";i+=this.includeDate&&this.includeTime?"T":"",i+=this.includeTime?"HH:mm:ss":"",i+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:t.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:i})})}}),A=(l.DateCell=M.extend({className:"date-cell",includeTime:!1}),l.TimeCell=M.extend({className:"time-cell",includeDate:!1}),l.BooleanCellEditor=v.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.prop("checked",t),this},enterOrExitEditMode:function(e){if(!this.mouseDown){var t=this.model;t.trigger("backgrid:edited",t,this.column,new c(e))}},saveOrCancel:function(e){var t=this.model,i=this.column,n=this.formatter,r=new c(e);if(r.passThru()&&"change"!=e.type)return!0;r.cancel()&&(e.stopPropagation(),t.trigger("backgrid:edited",t,i,r));var a=this.$el;if(r.save()||r.moveLeft()||r.moveRight()||r.moveUp()||r.moveDown()){e.preventDefault(),e.stopPropagation();var o=n.toRaw(a.prop("checked"),t);t.set(i.get("name"),o),t.trigger("backgrid:edited",t,i,r)}else if("change"==e.type){var o=n.toRaw(a.prop("checked"),t);t.set(i.get("name"),o),a.focus()}}})),k=(l.BooleanCell=y.extend({className:"boolean-cell",editor:A,events:{click:"enterEditMode"},render:function(){this.$el.empty();var e=this.model,t=this.column,i=l.callByNeed(t.editable(),t,e);return this.$el.append(s("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(e.get(t.get("name")),e),disabled:!i})),this.delegateEvents(),this}}),l.SelectCellEditor=v.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:t.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null}),setOptionValues:function(e){this.optionValues=e,this.optionValues=t.result(this,"optionValues")},setMultiple:function(e){this.multiple=e,this.$el.prop("multiple",e)},_renderOptions:function(e,i){for(var n="",r=0;r<e.length;r++)n+=this.template({text:e[r][0],value:e[r][1],selected:t.indexOf(i,e[r][1])>-1});return n},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),i=this.model,n=this.formatter.fromRaw(i.get(this.column.get("name")),i);if(!t.isArray(e))throw new TypeError("optionValues must be an array");for(var r=null,a=null,r=null,o=null,l=null,c=0;c<e.length;c++){var r=e[c];if(t.isArray(r))a=r[0],r=r[1],this.$el.append(this.template({text:a,value:r,selected:t.indexOf(n,r)>-1}));
else{if(!t.isObject(r))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");o=r.name,l=s("<optgroup></optgroup>",{label:o}),l.append(this._renderOptions.call(this,r.values,n)),this.$el.append(l)}}return this.delegateEvents(),this},save:function(){var e=this.model,t=this.column;e.set(t.get("name"),this.formatter.toRaw(this.$el.val(),e))},close:function(e){var t=this.model,i=this.column,n=new c(e);n.cancel()?(e.stopPropagation(),t.trigger("backgrid:edited",t,i,new c(e))):(n.save()||n.moveLeft()||n.moveRight()||n.moveUp()||n.moveDown()||"blur"==e.type)&&(e.preventDefault(),e.stopPropagation(),this.save(e),t.trigger("backgrid:edited",t,i,new c(e)))}})),N=l.SelectCell=y.extend({className:"select-cell",editor:k,multiple:!1,formatter:g,optionValues:void 0,delimiter:", ",initialize:function(){N.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",function(e,t,i,n){t.get("name")==this.column.get("name")&&(n.setOptionValues(this.optionValues),n.setMultiple(this.multiple))})},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),i=this.model,n=this.formatter.fromRaw(i.get(this.column.get("name")),i),r=[];try{if(!t.isArray(e)||t.isEmpty(e))throw new TypeError;for(var a=0;a<n.length;a++)for(var o=n[a],s=0;s<e.length;s++){var l=e[s];if(t.isArray(l)){var c=l[0],l=l[1];l==o&&r.push(c)}else{if(!t.isObject(l))throw new TypeError;for(var d=l.values,u=0;u<d.length;u++){var p=d[u];p[1]==o&&r.push(p[0])}}}this.$el.append(r.join(this.delimiter))}catch(h){if(h instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw h}return this.delegateEvents(),this}}),T=l.Column=i.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var e=l.resolveNameToClass(this.get("headerCell"),"HeaderCell"),t=l.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:t,headerCell:e},{silent:!0})},sortValue:function(){var e=this.get("sortValue");return t.isString(e)?this[e]:t.isFunction(e)?e:function(e,t){return e.get(t)}}});t.each(["sortable","renderable","editable"],function(e){T.prototype[e]=function(){var i=this.get(e);return t.isString(i)?this[i]:t.isFunction(i)?i:!!i}});{var _=l.Columns=i.Collection.extend({model:T}),S=l.Row=i.View.extend({tagName:"tr",initialize:function(e){var t=this.columns=e.columns;t instanceof i.Collection||(t=this.columns=new _(t));for(var n=this.cells=[],r=0;r<t.length;r++)n.push(this.makeCell(t.at(r),e));this.listenTo(t,"add",function(t,i){var r=i.indexOf(t),a=this.makeCell(t,e);n.splice(r,0,a);var o=this.$el;0===r?o.prepend(a.render().$el):r===i.length-1?o.append(a.render().$el):o.children().eq(r).before(a.render().$el)}),this.listenTo(t,"remove",function(e,t,i){n[i.index].remove(),n.splice(i.index,1)})},makeCell:function(e){return new(e.get("cell"))({column:e,model:this.model})},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.cells.length;t++)e.appendChild(this.cells[t].render().el);return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.cells.length;e++){var t=this.cells[e];t.remove.apply(t,arguments)}return i.View.prototype.remove.apply(this,arguments)}}),D=l.EmptyRow=i.View.extend({tagName:"tr",emptyText:null,initialize:function(e){this.emptyText=e.emptyText,this.columns=e.columns},render:function(){this.$el.empty();var e=document.createElement("td");return e.setAttribute("colspan",this.columns.length),e.appendChild(document.createTextNode(t.result(this,"emptyText"))),this.el.className="empty",this.el.appendChild(e),this}}),E=l.HeaderCell=i.View.extend({tagName:"th",events:{"click a":"onClick"},initialize:function(e){this.column=e.column,this.column instanceof T||(this.column=new T(this.column));var t=this.column,i=this.collection,n=this.$el;this.listenTo(t,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&n.toggleClass(i,t[i])}),this.listenTo(t,"change:direction",this.setCellDirection),this.listenTo(t,"change:name change:label",this.render),l.callByNeed(t.editable(),t,i)&&n.addClass("editable"),l.callByNeed(t.renderable(),t,i)&&n.addClass("renderable"),this.listenTo(i.fullCollection||i,"sort",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(e,t){this.$el.removeClass("ascending").removeClass("descending"),e.cid==this.column.cid&&this.$el.addClass(t)},onClick:function(e){function t(e,t){"ascending"===n.get("direction")?r.trigger(a,t,"descending"):"descending"===n.get("direction")?r.trigger(a,t,null):r.trigger(a,t,"ascending")}function i(e,t){"ascending"===n.get("direction")?r.trigger(a,t,"descending"):r.trigger(a,t,"ascending")}e.preventDefault();var n=this.column,r=this.collection,a="backgrid:sort",o=l.callByNeed(n.sortable(),n,this.collection);if(o){var s=n.get("sortType");"toggle"===s?i(this,n):t(this,n)}this.render()},render:function(){this.$el.parent().find("a>b").removeClass("fa fa-sort-alpha-asc").removeClass("fa fa-sort-alpha-desc"),this.$el.empty();var e,t=this.column,i=l.callByNeed(t.sortable(),t,this.collection);return e=i?s("<a>").text(t.get("label")).append("ascending"===t.get("direction")?"&nbsp; <b class='fa fa-sort-alpha-asc'></b>":"descending"===t.get("direction")?"&nbsp; <b class='fa fa-sort-alpha-desc'></b>":" &nbsp; <b class=''></b>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.addClass(t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this}}),P=(l.HeaderRow=l.Row.extend({requiredOptions:["columns","collection"],initialize:function(){l.Row.prototype.initialize.apply(this,arguments)},makeCell:function(e,t){var i=e.get("headerCell")||t.headerCell||E;return i=new i({column:e,collection:this.collection})}}),l.Header=i.View.extend({tagName:"thead",initialize:function(e){this.columns=e.columns,this.columns instanceof i.Collection||(this.columns=new _(this.columns)),this.row=new l.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),i.View.prototype.remove.apply(this,arguments)}})),R=l.Body=i.View.extend({tagName:"tbody",initialize:function(e){this.columns=e.columns,this.columns instanceof i.Collection||(this.columns=new _(this.columns)),this.row=e.row||S,this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this.emptyText=e.emptyText,this._unshiftEmptyRowMayBe();var t=this.collection;this.listenTo(t,"add",this.insertRow),this.listenTo(t,"remove",this.removeRow),this.listenTo(t,"sort",this.refresh),this.listenTo(t,"reset",this.refresh),this.listenTo(t,"backgrid:sort",this.sort),this.listenTo(t,"backgrid:edited",this.moveToNextCell)},_unshiftEmptyRowMayBe:function(){0===this.rows.length&&null!=this.emptyText&&this.rows.unshift(new D({emptyText:this.emptyText,columns:this.columns}))},insertRow:function(e,t,n){if(this.rows[0]instanceof D&&this.rows.pop().remove(),!(t instanceof i.Collection||n))return void this.collection.add(e,n=t);var r=new this.row({columns:this.columns,model:e}),a=t.indexOf(e);this.rows.splice(a,0,r);var o=this.$el,s=o.children(),l=r.render().$el;return a>=s.length?o.append(l):s.eq(a).before(l),this},removeRow:function(e,i,n){return n?((t.isUndefined(n.render)||n.render)&&this.rows[n.index].remove(),this.rows.splice(n.index,1),this._unshiftEmptyRowMayBe(),this):(this.collection.remove(e,n=i),void this._unshiftEmptyRowMayBe())},refresh:function(){for(var e=0;e<this.rows.length;e++)this.rows[e].remove();return this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.rows.length;t++){var i=this.rows[t];e.appendChild(i.render().el)}return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.rows.length;e++){var t=this.rows[e];t.remove.apply(t,arguments)}return i.View.prototype.remove.apply(this,arguments)},sort:function(e,n){if(!t.contains(["ascending","descending",null],n))throw new RangeError('direction must be one of "ascending", "descending" or `null`');t.isString(e)&&(e=this.columns.findWhere({name:e}));var r,a=this.collection;r="ascending"===n?-1:"descending"===n?1:null;var o=this.makeComparator(e.get("name"),r,r?e.sortValue():function(e){return 1*e.cid.replace("c","")});return i.PageableCollection&&a instanceof i.PageableCollection?(a.setSorting(r&&e.get("name"),r,{sortValue:e.sortValue()}),a.fullCollection?(null==a.fullCollection.comparator&&(a.fullCollection.comparator=o),a.fullCollection.sort(),a.trigger("backgrid:sorted",e,n,a)):a.fetch({reset:!0,success:function(){a.trigger("backgrid:sorted",e,n,a)}})):(a.comparator=o,a.sort(),a.trigger("backgrid:sorted",e,n,a)),e.set("direction",n),this},makeComparator:function(e,t,i){return function(n,r){var a,o=i(n,e),s=i(r,e);return 1===t&&(a=o,o=s,s=a),o===s?0:s>o?-1:1}},moveToNextCell:function(e,t,i){var n,r,a,o,s,c=this.collection.indexOf(e),d=this.columns.indexOf(t);if(this.rows[c].cells[d].exitEditMode(),i.moveUp()||i.moveDown()||i.moveLeft()||i.moveRight()||i.save()){var u=this.columns.length,p=u*this.collection.length;if(i.moveUp()||i.moveDown()){o=c+(i.moveUp()?-1:1);var h=this.rows[o];h?(n=h.cells[d],l.callByNeed(n.column.editable(),n.column,e)&&(n.enterEditMode(),e.trigger("backgrid:next",o,d,!1))):e.trigger("backgrid:next",o,d,!0)}else if(i.moveLeft()||i.moveRight()){for(var f=i.moveRight(),m=c*u+d+(f?1:-1);m>=0&&p>m;f?m++:m--)if(o=~~(m/u),s=m-o*u,n=this.rows[o].cells[s],r=l.callByNeed(n.column.renderable(),n.column,n.model),a=l.callByNeed(n.column.editable(),n.column,e),r&&a){n.enterEditMode(),e.trigger("backgrid:next",o,s,!1);break}m==p&&e.trigger("backgrid:next",~~(m/u),m-o*u,!0)}}return this}});l.Footer=i.View.extend({tagName:"tfoot",initialize:function(e){this.columns=e.columns,this.columns instanceof i.Collection||(this.columns=new l.Columns(this.columns))}}),l.Grid=i.View.extend({tagName:"table",className:"backgrid",header:P,body:R,footer:null,initialize:function(e){e.columns instanceof i.Collection||(e.columns=new _(e.columns)),this.columns=e.columns;var n=t.omit(e,["el","id","attributes","className","tagName","events"]);this.body=e.body||this.body,this.body=new this.body(n),this.header=e.header||this.header,this.header&&(this.header=new this.header(n)),this.footer=e.footer||this.footer,this.footer&&(this.footer=new this.footer(n)),this.listenTo(this.columns,"reset",function(){this.header&&(this.header=new(this.header.remove().constructor)(n)),this.body=new(this.body.remove().constructor)(n),this.footer&&(this.footer=new(this.footer.remove().constructor)(n)),this.render()})},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),i.View.prototype.remove.apply(this,arguments)}})}return l}),e.Backgrid=Backgrid}.apply(e,arguments)})}(this),function(e){define("backboneSelectAll",["backgrid"],function(){return function(){!function(e,t){"object"==typeof exports?module.exports=t(require("backbone"),require("backgrid")):t(e.Backbone,e.Backgrid)}(this,function(e,t){var i=t.Extension.SelectRowCell=e.View.extend({className:"select-row-cell",tagName:"td",events:{"keydown input[type=checkbox]":"onKeydown","change input[type=checkbox]":"onChange","click input[type=checkbox]":"enterEditMode"},initialize:function(e){this.column=e.column,this.column instanceof t.Column||(this.column=new t.Column(this.column));var i=this.column,n=this.model,r=this.$el;this.listenTo(i,"change:renderable",function(e,t){r.toggleClass("renderable",t)}),t.callByNeed(i.renderable(),i,n)&&r.addClass("renderable"),this.listenTo(n,"backgrid:select",function(e,t){this.$el.find("input[type=checkbox]").prop("checked",t).change()})},enterEditMode:function(){this.$el.find("input[type=checkbox]").focus()},exitEditMode:function(){this.$el.find("input[type=checkbox]").blur()},onKeydown:function(e){var i=new t.Command(e);return i.passThru()?!0:void(i.cancel()?(e.stopPropagation(),this.$el.find("input[type=checkbox]").blur()):(i.save()||i.moveLeft()||i.moveRight()||i.moveUp()||i.moveDown())&&(e.preventDefault(),e.stopPropagation(),this.model.trigger("backgrid:edited",this.model,this.column,i)))},onChange:function(){var e=this.$el.find("input[type=checkbox]").prop("checked");this.$el.parent().toggleClass("selected",e),this.model.trigger("backgrid:selected",this.model,e)},render:function(){return this.$el.empty().append('<input tabindex="-1" type="checkbox" />'),this.delegateEvents(),this}}),n=t.Extension.SelectAllHeaderCell=i.extend({className:"select-all-header-cell",tagName:"th",initialize:function(e){this.column=e.column,this.column instanceof t.Column||(this.column=new t.Column(this.column));var i=this.collection,n=this.selectedModels={};this.listenTo(i.fullCollection||i,"backgrid:selected",function(e,t){t?n[e.id||e.cid]=1:(delete n[e.id||e.cid],this.$el.find("input[type=checkbox]").prop("checked",!1))}),this.listenTo(i.fullCollection||i,"remove",function(e){delete n[e.id||e.cid]}),this.listenTo(i,"backgrid:refresh",function(){for(var e=this.$el.find("input[type=checkbox]").prop("checked"),t=0;t<i.length;t++){var r=i.at(t);(e||n[r.id||r.cid])&&r.trigger("backgrid:select",r,!0)}});var r=this.column,a=this.$el;this.listenTo(r,"change:renderable",function(e,t){a.toggleClass("renderable",t)}),t.callByNeed(r.renderable(),r,i)&&a.addClass("renderable")},onChange:function(){var e=this.$el.find("input[type=checkbox]").prop("checked"),t=this.collection;t.each(function(t){t.trigger("backgrid:select",t,e)}),t.fullCollection&&t.fullCollection.each(function(i){t.get(i.cid)||i.trigger("backgrid:selected",i,e)}),this.collection.trigger("backgrid:select-all",this.collection,e)}});t.Grid.prototype.getSelectedModels=function(){for(var e,t=this.header.row.cells,i=0,r=t.length;r>i;i++){var a=t[i];if(a instanceof n){e=a;break}}var o=[];if(e){var s=e.selectedModels,l=this.collection.fullCollection||this.collection;for(var c in s)o.push(l.get(c))}return o},t.Grid.prototype.clearSelectedModels=function(){for(var e=this.getSelectedModels(),t=0,i=e.length;i>t;t++){var n=e[t];n.trigger("backgrid:select",n,!1)}}})}.apply(e,arguments)})}(this),define("adapters/backbone-adapter",["backbone","backbonePageable","backboneLocalstorage","backboneWebSocket","utilities/utils","backboneSelectAll"],function(e,t,i,n,r){return e.PageableCollection=t,defaultSync=e.sync,e.sync=function(e,t,i){var n=i.success,a=i.error;return r.NProgress.start(!0),i.success=function(e,t,i){n(e,t,i)},i.error=function(e,t,i){a(e,t,i),r.handleError(e,t,i),r.NProgress.done(!1,!0)},i.complete=function(){r.NProgress.done(!1,!0)},defaultSync(e,t,i)},e}),function(e,t){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(i,n){return e.Marionette=t(e,i,n)});else if("undefined"!=typeof exports){var i=require("backbone"),n=require("underscore");module.exports=t(e,i,n)}else e.Marionette=t(e,e.Backbone,e._)}(this,function(e,t,i){!function(e,t){var i=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var i=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(i.prototype,{add:function(e,t){var i=e.cid;return this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var i=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===i?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[i],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,i){t.each(this._views,function(n){t.isFunction(n[e])&&n[e].apply(n,i||[])})},_updateLength:function(){this.length=t.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(n,function(e){i.prototype[e]=function(){var i=t.values(this._views),n=[i].concat(t.toArray(arguments));return t[e].apply(t,n)}}),i}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=i,this},e.ChildViewContainer}(t,i),function(e,t){var i=e.Wreqr,n=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=i,this},n.Handlers=function(e,t){var i=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,i){var n=null;t.isObject(e)&&!t.isFunction(e)&&(n=e.context,e=e.callback),this.setHandler(i,e,n)},this)},setHandler:function(e,t,i){var n={callback:t,context:i};this._wreqrHandlers[e]=n,this.trigger("handler:add",e,t,i)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(e,t),n.CommandStorage=function(){var i=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(i.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var i=this.getCommands(e);i.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),i}(),n.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,i)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,i,n){var r=this.storage.getCommands(e);t.each(r.instances,function(e){i.apply(n,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var i,n=e.storageType||this.storageType;i=t.isFunction(n)?new n:n,this.storage=i}})}(n),n.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(n),n.EventAggregator=function(e,t){var i=function(){};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events),i}(e,t),n.Channel=function(){var i=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,i,n){if(i){n=n||this;var r="vent"===e?"on":"setHandler";t.each(i,function(i,a){this[e][r](a,t.bind(i,n))},this)}}}),i}(n),n.radio=function(e){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(i.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var i=this._channels[t];return i||(i=new e.Channel(t),this._channels[t]=i),i},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(n[e],function(t){this[e][t]=r(this,e,t)},this)},this)}});var n={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(e,t,i){return function(n){var r=e._getChannel(n)[t],a=Array.prototype.slice.call(arguments,1);return r[i].apply(r,a)}};return new i}(n),e.Wreqr}(t,i);var n=e.Marionette,r=t.Marionette={};r.VERSION="2.2.0",r.noConflict=function(){return e.Marionette=n,this},t.Marionette=r,r.Deferred=t.$.Deferred;var a=Array.prototype.slice;r.extend=t.Model.extend,r.getOption=function(e,t){if(e&&t){var i;return i=e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},r.proxyGetOption=function(e){return r.getOption(this,e)},r.normalizeMethods=function(e){var t={};return i.each(e,function(e,n){i.isFunction(e)||(e=this[e]),e&&(t[n]=e)},this),t},r.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},r.normalizeUIKeys=function(e,t){return"undefined"!=typeof e?(e=i.clone(e),i.each(i.keys(e),function(i){var n=r.normalizeUIString(i,t);n!==i&&(e[n]=e[i],delete e[i])}),e):void 0},r.normalizeUIValues=function(e,t){return"undefined"!=typeof e?(i.each(e,function(n,a){i.isString(n)&&(e[a]=r.normalizeUIString(n,t))}),e):void 0},r.actAsCollection=function(e,t){var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(n){e[n]=function(){var e=i.values(i.result(this,t)),r=[e].concat(i.toArray(arguments));return i[n].apply(i,r)}})},r.triggerMethod=function(e){function t(e,t,i){return i.toUpperCase()}var n,r=/(^|:)(\w)/gi,a="on"+e.replace(r,t),o=this[a];return i.isFunction(o)&&(n=o.apply(this,i.tail(arguments))),i.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n},r.triggerMethodOn=function(e,t){var n,a=i.tail(arguments,2);return n=i.isFunction(e.triggerMethod)?e.triggerMethod:r.triggerMethod,n.apply(e,[t].concat(a))},r.MonitorDOMRefresh=function(e){function n(e){e._isShown=!0,a(e)}function r(e){e._isRendered=!0,a(e)}function a(e){e._isShown&&e._isRendered&&o(e)&&i.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function o(i){return t.$.contains(e,i.el)}return function(e){e.listenTo(e,"show",function(){n(e)}),e.listenTo(e,"render",function(){r(e)})}}(document.documentElement),function(e){function t(t,n,r,a){var o=a.split(/\s+/);i.each(o,function(i){var a=t[i];if(!a)throw new e.Error('Method "'+i+'" was configured as an event handler, but does not exist.');t.listenTo(n,r,a)})}function n(e,t,i,n){e.listenTo(t,i,n)}function r(e,t,n,r){var a=r.split(/\s+/);i.each(a,function(i){var r=e[i];e.stopListening(t,n,r)})}function a(e,t,i,n){e.stopListening(t,i,n)}function o(t,n,r,a,o){if(n&&r){if(!i.isFunction(r)&&!i.isObject(r))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});i.isFunction(r)&&(r=r.call(t)),i.each(r,function(e,r){i.isFunction(e)?a(t,n,r,e):o(t,n,r,e)})}}e.bindEntityEvents=function(e,i,r){o(e,i,r,n,t)},e.unbindEntityEvents=function(e,t,i){o(e,t,i,a,r)},e.proxyBindEntityEvents=function(t,i){return e.bindEntityEvents(this,t,i)},e.proxyUnbindEntityEvents=function(t,i){return e.unbindEntityEvents(this,t,i)}}(r);var o=["description","fileName","lineNumber","name","message","number"];return r.Error=r.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/"+r.VERSION+"/",constructor:function(e,t){i.isObject(e)?(t=e,e=t.message):t||(t={});var n=Error.call(this,e);i.extend(this,i.pick(n,o),i.pick(t,o)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,r.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),r.Error.extend=r.extend,r.Callbacks=function(){this._deferred=r.Deferred(),this._callbacks=[]},i.extend(r.Callbacks.prototype,{add:function(e,t){var n=i.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),n.then(function(i){t&&(i.context=t),e.call(i.context,i.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=r.Deferred(),this._callbacks=[],i.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.options=e||{},i.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,i.extend(r.Controller.prototype,t.Events,{destroy:function(){var e=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.triggerMethod.apply(this,["destroy"].concat(e)),this.stopListening(),this.off(),this},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Object=function(e){this.options=i.extend({},i.result(this,"options"),e),this.initialize.apply(this,arguments)},r.Object.extend=r.extend,i.extend(r.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),i.extend(r.Object.prototype,t.Events),r.Region=function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new r.Error({name:"NoElError",message:'An "el" must be specified for a region.'});if(this.$el=this.getEl(this.el),this.initialize){var i=a.apply(arguments);this.initialize.apply(this,i)}},i.extend(r.Region,{buildRegion:function(e,t){if(i.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(i.isFunction(e))return this._buildRegionFromRegionClass(e);throw new r.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,n){var r=e.regionClass||n,a=i.omit(e,"selector","regionClass");e.selector&&!a.el&&(a.el=e.selector);var o=new r(a);return e.parentEl&&(o.getEl=function(n){if(i.isObject(n))return t.$(n);var r=e.parentEl;return i.isFunction(r)&&(r=r()),r.find(n)}),o},_buildRegionFromRegionClass:function(e){return new e}}),i.extend(r.Region.prototype,t.Events,{show:function(e,t){this._ensureElement();var n=t||{},a=e!==this.currentView,o=!!n.preventDestroy,s=!!n.forceShow,l=!!this.currentView,c=!o&&a,d=a||s;return l&&this.triggerMethod("before:swapOut",this.currentView),c&&this.empty(),d?(e.once("destroy",i.bind(this.empty,this)),e.render(),l&&this.triggerMethod("before:swap",e),this.triggerMethod("before:show",e),r.triggerMethodOn(e,"before:show"),l&&this.triggerMethod("swapOut",this.currentView),this.attachHtml(e),this.currentView=e,l&&this.triggerMethod("swap",e),this.triggerMethod("show",e),r.triggerMethodOn(e,"show"),this):this},_ensureElement:function(){if(i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length)throw new r.Error('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(e){return t.$(e)},attachHtml:function(e){this.el.innerHTML="",this.el.appendChild(e.el)},empty:function(){var e=this.currentView;if(e)return this.triggerMethod("before:empty",e),this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,this},_destroyView:function(){var e=this.currentView;e.destroy&&!e.isDestroyed?e.destroy():e.remove&&e.remove()},attachView:function(e){return this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:r.proxyGetOption,triggerMethod:r.triggerMethod}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.call(this,t)},addRegions:function(e,t){i.isFunction(e)&&(e=e.apply(this,arguments));var n={};return i.each(e,function(e,r){i.isString(e)&&(e={selector:e}),e.selector&&(e=i.defaults({},e,t));var a=this.addRegion(r,e);n[r]=a},this),n},addRegion:function(t,i){var n;return n=i instanceof e.Region?i:e.Region.buildRegion(i,e.Region),this.triggerMethod("before:add:region",t,n),this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(e){return this._regions[e]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return i.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return i.each(e,function(e){e.empty()},this),e},destroy:function(){return this.removeRegions(),e.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=i.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(r),r.TemplateCache=function(e){this.templateId=e},i.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=a.call(arguments),i=t.length;if(i>0)for(e=0;i>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),i.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var i=t.$(e).html();if(!i||0===i.length)throw new r.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return i},compileTemplate:function(e){return i.template(e)}}),r.Renderer={render:function(e,t){if(!e)throw new r.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i;return(i="function"==typeof e?e:r.TemplateCache.get(e))(t)}},r.View=t.View.extend({constructor:function(e){i.bindAll(this,"render"),this.options=i.extend({},i.result(this,"options"),i.isFunction(e)?e.call(this):e),this._behaviors=r.Behaviors(this),t.View.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)
},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,a.call(arguments,1))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return i.isFunction(t)&&(t=t.call(this)),i.extend(e,t)},normalizeUIKeys:function(e){var t=i.result(this,"ui"),n=i.result(this,"_uiBindings");return r.normalizeUIKeys(e,n||t)},normalizeUIValues:function(e){var t=i.result(this,"ui"),n=i.result(this,"_uiBindings");return r.normalizeUIValues(e,n||t)},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(i.result(this,"triggers"));return i.each(t,function(t,i){e[i]=this._buildViewTrigger(t)},this),e}},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(e){var n=e||this.events;i.isFunction(n)&&(n=n.call(this)),n=this.normalizeUIKeys(n),i.isUndefined(e)&&(this.events=n);var r={},a=i.result(this,"behaviorEvents")||{},o=this.configureTriggers(),s=i.result(this,"behaviorTriggers")||{};i.extend(r,a,n,o,s),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=a.call(arguments);return t.View.prototype.undelegateEvents.apply(this,e),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var e=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove(),i.invoke(this._behaviors,"destroy",e),this}},bindUIElements:function(){this._bindUIElements(),i.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=i.result(this,"_uiBindings");this.ui={},i.each(i.keys(e),function(t){var i=e[t];this.ui[t]=this.$(i)},this)}},unbindUIElements:function(){this._unbindUIElements(),i.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=i.isObject(e),n=i.defaults({},t?e:{},{preventDefault:!0,stopPropagation:!0}),r=t?n.event:e;return function(e){e&&(e.preventDefault&&n.preventDefault&&e.preventDefault(),e.stopPropagation&&n.stopPropagation&&e.stopPropagation());var t={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,t)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return i.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){var e=arguments,t=r.triggerMethod,n=t.apply(this,e);return i.each(this._behaviors,function(i){t.apply(i,e)}),n},normalizeMethods:r.normalizeMethods,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.ItemView=r.View.extend({constructor:function(){r.View.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=i.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(e={items:i.partial(this.serializeCollection,this.collection).apply(this,arguments)}),e},serializeCollection:function(e){return e.toJSON.apply(e,a.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e!==!1){if(!e)throw new r.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.serializeData();t=this.mixinTemplateHelpers(t);var i=r.Renderer.render(e,t,this);return this.attachElContent(i),this}},attachElContent:function(e){return this.$el.html(e),this},destroy:function(){return this.isDestroyed?void 0:r.View.prototype.destroy.apply(this,arguments)}}),r.CollectionView=r.View.extend({childViewEventPrefix:"childview",constructor:function(e){var n=e||{};if(this.sort=i.isUndefined(n.sort)?!0:n.sort,n.collection&&!(n.collection instanceof t.Collection))throw new r.Error("The Collection option passed to this view needs to be an instance of a Backbone.Collection");this.once("render",this._initialEvents),this._initChildViewStorage(),r.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&i.each(this._bufferedChildren,i.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(i.each(this._bufferedChildren,i.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(e,t){r.triggerMethodOn(t,e)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e){this.destroyEmptyView();var t=this.getChildView(e),i=this.collection.indexOf(e);this.addChild(e,t,i)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(i.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var e=this.collection.find(function(e,t){var i=this.children.findByModel(e);return!i||i._index!==t},this);e&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var e;this.collection.each(function(t,i){e=this.getChildView(t),this.addChild(t,e,i)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var i=new t.Model;this.addEmptyView(i,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var n=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(n)&&(n=n.call(this));var a=this.buildChildView(e,t,n);this.proxyChildEvents(a),this._isShown&&r.triggerMethodOn(a,"before:show"),this.children.add(a),this.renderChildView(a,-1),this._isShown&&r.triggerMethodOn(a,"show")},getChildView:function(){var e=this.getOption("childView");if(!e)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(e,t,n){var r=this.getOption("childViewOptions");i.isFunction(r)&&(r=r.call(this,e,n));var a=this.buildChildView(e,t,r);return this._updateIndices(a,!0,n),this._addChildView(a,n),a},_updateIndices:function(e,t,i){this.sort&&(t?(e._index=i,this.children.each(function(t){t._index>=e._index&&t._index++})):this.children.each(function(t){t._index>=e._index&&t._index--}))},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&r.triggerMethodOn(e,"show"),this.triggerMethod("add:child",e)},renderChildView:function(e,t){return e.render(),this.attachHtml(this,e,t),e},buildChildView:function(e,t,n){var r=i.extend({model:e},n);return new t(r)},removeChildView:function(e){return e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1)),e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,i){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,i)||e._insertAfter(t)},_insertBefore:function(e,t){var i,n=this.sort&&t<this.children.length-1;return n&&(i=this.children.find(function(e){return e._index===t+1})),i?(i.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),r.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var e=this.children.map(i.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),e},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var n=a.call(arguments),r=n[0],o=this.normalizeMethods(i.result(this,"childEvents"));n[0]=t+":"+r,n.splice(1,0,e),"undefined"!=typeof o&&i.isFunction(o[r])&&o[r].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)},this)}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var e=this.getOption("childView")||this.constructor;if(!e)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},serializeData:function(){var e={};return this.model&&(e=i.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&r.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),i=r.Renderer.render(t,e,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var i=this.getChildViewContainer(e);i.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;var t,n=r.getOption(e,"childViewContainer");if(n){var a=i.isFunction(n)?n.call(e):n;if(t="@"===a.charAt(0)&&e.ui?e.ui[a.substr(4)]:e.$(a),t.length<=0)throw new r.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),r.LayoutView=r.ItemView.extend({regionClass:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),r.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(e,t){this.triggerMethod("before:region:add",e);var i={};return i[e]=t,this._buildRegions(i)[e]},addRegions:function(e){return this.regions=i.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return this.triggerMethod("before:region:remove",e),delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t=this,i={regionClass:this.getOption("regionClass"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,i)},_initializeRegions:function(e){var t;this._initRegionManager(),t=i.isFunction(this.regions)?this.regions(e):this.regions||{};var n=this.getOption.call(e,"regions");i.isFunction(n)&&(n=n.call(this,e)),i.extend(t,n),t=this.normalizeUIValues(t),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(e){e.reset()})},getRegionManager:function(){return new r.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})}}),r.Behavior=function(e,t){function i(t,i){this.view=i,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(i.prototype,t.Events,{initialize:function(){},destroy:function(){this.stopListening()},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),i.extend=r.extend,i}(i,t),r.Behaviors=function(e,t){function i(e,n){return t.isObject(e.behaviors)?(n=i.parseBehaviors(e,n||t.result(e,"behaviors")),i.wrap(e,n,t.keys(r)),n):{}}function n(e,i){this._view=e,this._viewUI=t.result(e,"ui"),this._behaviors=i,this._triggers={}}var r={behaviorTriggers:function(e,t){var i=new n(this,t);return i.buildBehaviorTriggers()},behaviorEvents:function(i,n){var r={},a=t.result(this,"ui");return t.each(n,function(i,n){var o={},s=t.clone(t.result(i,"events"))||{},l=t.result(i,"ui"),c=t.extend({},a,l);s=e.normalizeUIKeys(s,c),t.each(t.keys(s),function(e){var r=new Array(n+2).join(" "),a=e+r,l=t.isFunction(s[e])?s[e]:i[s[e]];o[a]=t.bind(l,i)}),r=t.extend(r,o)}),r}};return t.extend(i,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,n){return e.behaviorClass?e.behaviorClass:t.isFunction(i.behaviorsLookup)?i.behaviorsLookup.apply(this,arguments)[n]:i.behaviorsLookup[n]},parseBehaviors:function(e,n){return t.chain(n).map(function(n,r){var a=i.getBehaviorClass(n,r),o=new a(n,e),s=i.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(s)}).flatten().value()},wrap:function(e,i,n){t.each(n,function(n){e[n]=t.partial(r[n],e[n],i)})}}),t.extend(n.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(i,n){var r=t.extend({},this._viewUI,t.result(i,"ui")),a=t.clone(t.result(i,"triggers"))||{};a=e.normalizeUIKeys(a,r),t.each(a,t.partial(this._setHandlerForBehavior,i,n),this)},_setHandlerForBehavior:function(e,t,i,n){var r=n.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[r]=this._view._buildViewTrigger(i)}}),i}(r,i),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.apply(this,arguments),this.options=e||{};var i=this.getOption("appRoutes"),n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var i=this._getController();this._addAppRoute(i,e,t)},_processOnRoute:function(e,t){var n=i.invert(this.getOption("appRoutes"))[e];i.isFunction(this.onRoute)&&this.onRoute(e,n,t)},processAppRoutes:function(e,t){if(t){var n=i.keys(t).reverse();i.each(n,function(i){this._addAppRoute(e,i,t[i])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,n){var a=e[n];if(!a)throw new r.Error('Method "'+n+'" was not found on the controller');this.route(t,n,i.bind(a,e))},getOption:r.proxyGetOption}),r.Application=function(e){this.options=e,this._initializeRegions(e),this._initCallbacks=new r.Callbacks,this.submodules={},i.extend(this,e),this._initChannel(),this.initialize.apply(this,arguments)},i.extend(r.Application.prototype,t.Events,{initialize:function(){},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var i=r.Module.getClass(t),n=a.call(arguments);return n.unshift(this),i.create.apply(i,n)},getRegionManager:function(){return new r.RegionManager},_initializeRegions:function(e){var t=i.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var n=r.getOption(e,"regions");return i.isFunction(n)&&(n=n.call(this,e)),i.extend(t,n),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this._regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this._regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Application.extend=r.extend,r.Module=function(e,t,n){this.moduleName=e,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,i.isFunction(this.initialize)&&this.initialize(e,t,this.options)},r.Module.extend=r.extend,i.extend(r.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(i.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,n){if(e){var a=i.flatten([this,this.app,t,r,t.$,i,n]);e.apply(this,a)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks},triggerMethod:r.triggerMethod}),i.extend(r.Module,{create:function(e,t,n){var r=e,o=a.call(arguments);o.splice(0,3),t=t.split(".");var s=t.length,l=[];return l[s-1]=n,i.each(t,function(t,i){var a=r;r=this._getModule(a,t,e,n),this._addModuleDefinition(a,r,l[i],o)},this),r},_getModule:function(e,t,n,r){var a=i.extend({},r),o=this.getClass(r),s=e[t];return s||(s=new o(t,n,a),e[t]=s,e.submodules[t]=s),s},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,i,n){var r=this._getDefine(i),a=this._getStartWithParent(i,t);r&&t.addDefinition(r,n),this._addStartWithParent(e,t,a)},_getStartWithParent:function(e,t){var n;return i.isFunction(e)&&e.prototype instanceof r.Module?(n=t.constructor.prototype.startWithParent,i.isUndefined(n)?!0:n):i.isObject(e)?(n=e.startWithParent,i.isUndefined(n)?!0:n):!0},_getDefine:function(e){return!i.isFunction(e)||e.prototype instanceof r.Module?i.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,i){t.startWithParent=t.startWithParent&&i,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),r}),function(e){define("backbonePaginator",["backbone","backgrid","backbonePageable"],function(){return function(){!function(e){"object"==typeof exports?module.exports=e(require("underscore"),require("backbone"),require("backgrid"),require("backbone-pageable")):"undefined"!=typeof _&&"undefined"!=typeof Backbone&&"undefined"!=typeof Backgrid&&e(_,Backbone,Backgrid)}(function(e,t,i){var n=i.Extension.PageHandle=t.View.extend({tagName:"li",events:{"click a":"changePage"},title:e.template("Page <%- label %>"),isRewind:!1,isBack:!1,isForward:!1,isFastForward:!1,initialize:function(i){t.View.prototype.initialize.apply(this,arguments);var n=this.collection,r=n.state,a=r.currentPage,o=r.firstPage,s=r.lastPage;e.extend(this,e.pick(i,["isRewind","isBack","isForward","isFastForward"]));var l;this.isRewind?l=o:this.isBack?l=Math.max(o,a-1):this.isForward?l=Math.min(s,a+1):this.isFastForward?l=s:(l=+i.pageIndex,l=o?l+1:l),this.pageIndex=l,(this.isRewind||this.isBack)&&a==o||(this.isForward||this.isFastForward)&&a==s?this.$el.addClass("disabled"):this.isRewind||this.isBack||this.isForward||this.isFastForward||a!=l||this.$el.addClass("active"),this.label=(i.label||(o?l:l+1))+"";var c=i.title||this.title;this.title=e.isFunction(c)?c({label:this.label}):c},render:function(){this.$el.empty();var e=document.createElement("a");return e.href="#",this.title&&(e.title=this.title),e.innerHTML=this.label,this.el.appendChild(e),this.delegateEvents(),this},changePage:function(e){e.preventDefault();var t=this.$el;return t.hasClass("active")||t.hasClass("disabled")||this.collection.getPage(this.pageIndex),this}});i.Extension.Paginator=t.View.extend({className:"backgrid-paginator",windowSize:10,controls:{rewind:{label:"《",title:"First"},back:{label:"〈",title:"Previous"},forward:{label:"〉",title:"Next"},fastForward:{label:"》",title:"Last"}},pageHandle:n,goBackFirstOnSort:!0,initialize:function(e){this.controls=e.controls||this.controls,this.pageHandle=e.pageHandle||this.pageHandle,this.uiClassName=e.uiClassName;var t=this.collection;this.listenTo(t,"add",this.render),this.listenTo(t,"remove",this.render),this.listenTo(t,"reset",this.render),(e.goBackFirstOnSort||this.goBackFirstOnSort)&&t.fullCollection&&this.listenTo(t.fullCollection,"sort",function(){t.getFirstPage()})},_cloneState:function(e){var t={};return t.firstPage=e.firstPage,t.lastPage=e.lastPage,t.currentPage=e.currentPage,t.pageSize=e.pageSize,t.totalPages=e.totalPages,t.totalRecords=e.totalRecords,t},_calculateWindow:function(){var e=this.collection,t=this._cloneState(e.state);0==this.collection.size()&&(t.currentPage=1,t.lastPage=0,t.totalPages=null,t.totalRecords=null);var i=t.firstPage,n=+t.lastPage;n=Math.max(0,i?n-1:n);var r=Math.max(t.currentPage,t.firstPage);r=i?r-1:r;var a=Math.floor(r/this.windowSize)*this.windowSize,o=Math.min(n+1,a+this.windowSize);return[a,o]},makeHandles:function(){for(var t=[],i=this.collection,n=this._calculateWindow(),r=n[0],a=n[1],o=r;a>o;o++)t.push(new this.pageHandle({collection:i,pageIndex:o}));var s=this.controls;return e.each(["back","rewind","forward","fastForward"],function(e){var n=s[e];if(n){var r={collection:i,title:n.title,label:n.label};r["is"+e.slice(0,1).toUpperCase()+e.slice(1)]=!0;var a=new this.pageHandle(r);"rewind"==e||"back"==e?t.unshift(a):t.push(a)}},this),t},render:function(){if(this.$el.empty(),this.handles)for(var e=0,t=this.handles.length;t>e;e++)this.handles[e].remove();var i=this.handles=this.makeHandles(),n=document.createElement("ul");this.uiClassName&&(n.className=this.uiClassName);for(var e=0;e<i.length;e++)n.appendChild(i[e].render().el);return this.el.appendChild(n),this}})})}.apply(e,arguments)})}(this),define("adapters/backgrid-adapter",["backgrid","backbonePaginator"],function(e){return e}),define("views/components/Combobox",["utilities/utils","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette"],function(e,t,i,n){n.Marionette.ItemView.extend({});return Combobox=n.View.extend({initialize:function(e){var i=this;this.collectionLoaded=!1,this.collectionEntity=e.collectionEntity,this.values=e.values,this.$el.find("option").remove(),this.$el.append("<option value selected>       -- Selecione --      </option>"),this.collectionEntity?(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection=new this.collectionEntity,this.collection.fetch({success:function(){i.collection.each(function(e){i.addModel(e)}),i.setValue(i.modelValue),i.collectionLoaded=!0},error:function(e,t,n){console.error("Erro ao carregar combobox "+i.$el.attr("id"),e,t,n)}})):this.values?t.each(this.values,function(e){i.addModel(e)}):this.collection&&(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection.on("add",this.addModel,this),this.collection.each(function(e){i.addModel(e)}),i.setValue(i.modelValue))},addModel:function(e){this.$el.append("string"==typeof e?"<option value="+e+">"+e+"</option>":e.get?"<option value="+e.get(this.comboId)+">"+e.get(this.comboVal)+"</option>":"<option value="+e.id+">"+e.value+"</option>")},getJsonValue:function(){var e=this.$el.val();return this.collection?e&&-1==e.indexOf("Selecione")?this.collection.get(e).toJSON():this.collectionLoaded?null:this.modelValue&&this.modelValue.get?this.modelValue.toJSON():this.modelValue:e?{id:e}:this.modelValue},getValue:function(){var e=this.$el.val();return this.collection?e&&-1==e.indexOf("Selecione")?this.collection.get(e):null:e&&-1==e.indexOf("Selecione")?e:null},setValue:function(e){this.modelValue=e,e&&(e.get?this.$el.val(e.get(this.comboId)):e[this.comboId]?this.$el.val(e[this.comboId]):"string"==typeof e&&this.$el.val(e))},filter:function(e,t){if(this.collectionLoaded){var i=this,n=this.collection.url;this._reset(),this.collection.url=t||n.replace("all","filter"),this.collection.fetch({success:function(){i.collection.each(function(e){i.addModel(e)}),i.setValue(i.modelValue),i.collectionLoaded=!0,i.collection.url=n},error:function(e,t,r){console.error("Erro ao carregar combobox "+i.$el.attr("id"),e,t,r),i.collection.url=n},data:e||{}})}},_reset:function(){this.collection&&this.collection.reset(),this.$el.find("option").remove(),this.$el.append("<option value selected>       -- Selecione --      </option>")},getRawValue:function(){var e=this.$el.val();return e&&-1==e.indexOf("Selecione")?e:null}})}),define("views/components/Counter",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("marionette"),n=i.ItemView.extend({initialize:function(){var e=this.collection;this.listenTo(e,"add",this.render),this.listenTo(e,"remove",this.render),this.listenTo(e,"reset",this.render)},render:function(){this.$el.empty();var e=document.createElement("span"),i=this.collection.state;if(0==this.collection.size())e.innerHTML="Nenhum registro.";else if(this.collection&&this.collection instanceof t.PageableCollection){var n=(i.currentPage-1)*i.pageSize+1,r=i.currentPage*i.pageSize,a=i.totalRecords;r>a&&(r=a),e.innerHTML="Mostrando "+n+" a "+r+" de "+a+" Registros"}return this.el.appendChild(e),this.delegateEvents(),this}});return n}),define("views/components/ActionsCell",["adapters/backgrid-adapter"],function(e){var t=e.Cell.extend({editPath:"",deletePath:"",className:"td-actions",editor:e.CellEditor,events:{"click .bt-edit":"onEdit","click .bt-delete":"onDelete"},onEdit:function(){this.editModel(this.model)},onDelete:function(){this.deleteModel(this.model)},render:function(){var e=[];return e.push("<a href='#"+this.editPath(this.model)+"' class='bt-edit btn btn-xs btn-primary' data-toggle='tooltip' data-placement='left' title='' data-original-title='Editar'>"),e.push("	<i class='fa fa-pencil '></i>"),e.push("</a> "),e.push("<a href='javascript:void(-1)' class='bt-delete btn btn-xs btn-danger' data-toggle='tooltip' data-placement='left' title='' data-original-title='Deletar'>"),e.push("	<i class='fa fa-trash-o '></i>"),e.push("</a>"),this.$el.empty(),this.$el.append(e.join(" ")),this.delegateEvents(),$(".ui-tooltip").tooltip(),this}});return t}),define("text",["module"],function(e){var t,i,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o="undefined"!=typeof location&&location.href,s=o&&location.protocol&&location.protocol.replace(/\:/,""),l=o&&location.hostname,c=o&&(location.port||void 0),d=[],u=e.config&&e.config()||{};return t={version:"2.0.3",strip:function(e){if(e){e=e.replace(r,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:u.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=n[t];try{e=new ActiveXObject(i)}catch(r){}if(e){n=[i];break}}return e},parseName:function(e){var t=!1,i=e.indexOf("."),n=e.substring(0,i),r=e.substring(i+1,e.length);return i=r.indexOf("!"),-1!==i&&(t=r.substring(i+1,r.length),t="strip"===t,r=r.substring(0,i)),{moduleName:n,ext:r,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,n,r){var a,o,s,l=t.xdRegExp.exec(e);
return l?(a=l[2],o=l[3],o=o.split(":"),s=o[1],o=o[0],!(a&&a!==i||o&&o.toLowerCase()!==n.toLowerCase()||(s||o)&&s!==r)):!0},finishLoad:function(e,i,n,r){n=i?t.strip(n):n,u.isBuild&&(d[e]=n),r(n)},load:function(e,i,n,r){if(r.isBuild&&!r.inlineText)return void n();u.isBuild=r.isBuild;var a=t.parseName(e),d=a.moduleName+"."+a.ext,p=i.toUrl(d),h=u.useXhr||t.useXhr;!o||h(p,s,l,c)?t.get(p,function(i){t.finishLoad(e,a.strip,i,n)},function(e){n.error&&n.error(e)}):i([d],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)})},write:function(e,i,n){if(d.hasOwnProperty(i)){var r=t.jsEscape(d[i]);n.asModule(e+"!"+i,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,i,n,r,a){var o=t.parseName(i),s=o.moduleName+"."+o.ext,l=n.toUrl(o.moduleName+"."+o.ext)+".js";t.load(s,n,function(){var i=function(e){return r(l,e)};i.asModule=function(e,t){return r.asModule(e,l,t)},t.write(e,s,i,a)},a)}},"node"===u.env||!u.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(i=require.nodeRequire("fs"),t.get=function(e,t){var n=i.readFileSync(e,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),t(n)}):"xhr"===u.env||!u.env&&t.createXhr()?t.get=function(e,i,n){var r=t.createXhr();r.open("GET",e,!0),u.onXhr&&u.onXhr(r,e),r.onreadystatechange=function(){var t,a;4===r.readyState&&(t=r.status,t>399&&600>t?(a=new Error(e+" HTTP status: "+t),a.xhr=r,n(a)):i(r.responseText))},r.send(null)}:("rhino"===u.env||!u.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(t.get=function(e,t){var i,n,r="utf-8",a=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),r)),l="";try{for(i=new java.lang.StringBuffer,n=s.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),i.append(n);null!==(n=s.readLine());)i.append(o),i.append(n);l=String(i.toString())}finally{s.close()}t(l)}),t}),define("text!views/categoria/tpl/FormCategoriaTemplate.html",[],function(){return'<!-- generated: 18/08/2015 15:38:44 -->\r\n<!-- Categoria´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Categoria</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<div class="page-header">\r\n			<h1>Cadastrar Categoria</h1>\r\n		</div>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formCategoria">\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp; &nbsp; &nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp; &nbsp; &nbsp;\r\n\r\n					<a class="go-back-link btn btn-light" href="#app/categorias">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/BaseModel",["adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter"],function(e,t,i){var n=i.Model.extend({initialize:function(){},get:function(e){var n=i.Model.prototype.get.call(this,e);return t.isFunction(n)?n.call(this):n},toJSON:function(){var e={},n=i.Model.prototype.toJSON.call(this);return t.each(n,function(t,i){e[i]=this.get(i)},this),e}});return n}),define("models/EntityModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/entitys",defaults:{id:null,name:"NO_NAME",displayName:"",tableName:"",hasOwner:"",hasMobile:"",notes:"",application:null,attributes:null,relationships:null}});return i}),define("models/ApplicationModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/applications",defaults:{id:null,name:"",skin:null,description:"",rootPackage:"",corePackage:"",entities:null}});return i}),define("collections/BaseCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=t.Collection.extend({filter:function(e){var t=this,i=this.url,n=e.success,r=e.error;e.success=function(e,t,i){n&&n(e,t,i)},e.error=function(e,t,i){r&&r(e,t,i)},e.complete=function(){t.url=i},this.url=i.replace("all","filter"),this.fetch(e)}});return i}),define("collections/EntityCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/EntityModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/EntityModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/entitys/all"});return n}),define("text!views/categoria/tpl/PageCategoriaTemplate.html",[],function(){return'\r\n<div class="hpanel hblue">\r\n	<div class="panel-heading hbuilt">\r\n		<div class="pull-left">\r\n			<span style="padding-right: 20px">\r\n				Criação das entidades para a aplicação\r\n				<strong>Cadastro Funcionario</strong>\r\n			</span>\r\n			<button id="novaEntidade" class="btn btn-success btn-default btn-xs" type="button">\r\n				<i class="fa fa-plus-square-o fa-15x"></i>\r\n				Nova Entidade\r\n			</button>\r\n			<button id="salvaEntidades" class="btn btn-success btn-default btn-xs" type="button">\r\n				<i class="fa fa-check fa-15x"></i>\r\n				Salva e valida entidades\r\n			</button>\r\n		</div>\r\n		&nbsp;\r\n	</div>\r\n	<div id="messages_div"></div>\r\n	<div class="panel-body drag-entities" style="padding-top: 0px;">\r\n		<div class="row entidades"></div>\r\n	</div>\r\n</div>\r\n'}),define("models/RelationshipModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/relationships",defaults:{id:null,name:"",type:"",displayName:"",ownerName:"",model:"",uniDirecional:"",entity:null,viewApproach:null,targetRelation:null}});return i}),define("collections/RelationshipCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/RelationshipModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/RelationshipModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/relationships/all"});return n}),define("models/AttributeModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/attributes",defaults:{id:null,displayName:"",maxLen:"",tableFieldName:"",mask:"",defaultValue:"",placeholder:"",required:"",unique:"",entity:null,name:"",type:"String",viewApproach:null}});return i}),define("collections/AttributeCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/AttributeModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/AttributeModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/attributes/all"});return n}),define("text!views/categoria/tpl/EntityItemViewTemplate.html",[],function(){return'<div class="hpanel  entity_{{id}}" style="margin-bottom: 3px">\r\n	<div class="panel-heading hbuilt" style="padding: 2px">\r\n		<input id="inputId" type="hidden" value={{id}}>\r\n		<div class="panel-tools" style="margin-top: 10px;">\r\n			<input id="inputId" type="hidden" value={{id}}>\r\n			<a class="show-hide-ent" data-toggle="tooltip" data-placement="top" title="" data-original-title="mostrar/esconder atributos">\r\n				<i class="fa fa-15x fa-chevron-up"></i>\r\n			</a>\r\n			<a class="add-attribute" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Novo Atributo">\r\n				<i class="fa fa-15x fa-plus add-attr"></i>\r\n			</a>\r\n			<a class="add-relation" data-toggle="tooltip" data-placement="top" title="" data-original-title="Novo relacionamento">\r\n				<i class=" fa fa-15x fa-link "></i>\r\n			</a>\r\n			<a class="rem-entity" data-toggle="tooltip" data-placement="right" title="" data-original-title="Remove Entidade">\r\n				<i class="fa fa-15x fa-trash-o"></i>\r\n			</a>\r\n		</div>\r\n		<h4>\r\n			<a href="javascript:void(-1)" data-type="text" data-placement="right" data-title="Nome da Entidade" class="editable editable-click inputEntityName" data-original-title="" title="">{{name}}</a>\r\n		</h4>\r\n	</div>\r\n	<div class="panel-body " style="padding: 2px">\r\n		<div class="entity-content">\r\n			<span>\r\n				Mobile?:&nbsp;\r\n				<input style="margin: 0px" type="checkbox" class="inputHasMobile"{{hasMobile ? \'checked\' :\'\'}}>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Nome de exibição:&nbsp;\r\n				<a class="editable editable-click inputDisplayName" data-placement="right" data-title="Digite o nome a exibir">{{displayName}}</a>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Nome Tabela: &nbsp;\r\n				<a class="editable editable-click inputTableName " data-placement="right" data-title="Digite um nome para a tabela">{{tableName}} </a>\r\n			</span>\r\n			<br>\r\n			<div class="widget-entidade attributes"></div>\r\n			<div class="widget-entidade relationships"></div>\r\n		</div>\r\n	</div>\r\n	<div class="panel-footer entity-content">\r\n		Observações: &nbsp;\r\n		<p class="editable editable-click" data-title="Observações da entidade">{{notes}}</p>\r\n	</div>\r\n</div>'}),define("utilities/C3pUtil",["require","adapters/jquery-adapter","adapters/underscore-adapter"],function(e){e("adapters/jquery-adapter"),e("adapters/underscore-adapter");return{notEmptyVal:function(e){var t=e.val()||e.text();return"Empty"==t||"Vazio"==t?null:t.trim()},isEmpty:function(e){var t=e.val()||e.text();return 0==t.length||"Empty"==t||"Vazio"==t?!0:!1}}}),define("text!views/categoria/tpl/AttributeItemViewTemplate.html",[],function(){return'<div class="hpanel hyellow" style="padding: 1px; margin-bottom: 1px">\r\n	<input class="inputId" type="hidden" value={{id}}>\r\n	<input class="inputViewApproachId" type="hidden" value="{{viewApproach && viewApproach.id}}">\r\n	<input class="inputTypeId" type="hidden" value="{{type && type.id}}">\r\n	<div class="panel-heading hbuilt" style="padding: 2px;">\r\n		<div class="panel-tools" style="margin-top: 3px;">\r\n			<a class="showhide">\r\n				<i class="fa fa-chevron-up"></i>\r\n			</a>\r\n			<a class="delete-attribute">\r\n				<i class="fa  fa-trash-o"></i>\r\n			</a>\r\n		</div>\r\n		<h5>\r\n			<i class="fa fa-plus-square-o"></i>\r\n			<a href="javascript:void(-1)" data-type="text" data-placement="right" data-title="Digite o nome do atributo" class="editable editable-click inputAtributeName " data-original-title="" title=""> {{name}}</a>\r\n			<span>\r\n				<i>\r\n					:&nbsp;\r\n					<a class="editable editable-click  inputType" data-placement="right" data-title="Tipo do atributo" data-type="select" data-pk="1" data-title="Selecione o tipo">{{type && type.className}}</a>\r\n				</i>\r\n			</span>\r\n		</h5>\r\n	</div>\r\n	<div class="panel-body " style="padding: 1px; border-bottom: 1px solid #e4e5e7;">\r\n		<div class="widget-main">\r\n			<span>\r\n				Nome de exibição:&nbsp;\r\n				<a class="editable editable-click inputDisplayName" data-placement="right" data-title="Digite o nome a exibir">{{displayName}}</a>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Tipo de elemento visual?:&nbsp;\r\n				<a class="editable editable-click inputViewApproach" data-placement="right" data-title="Tipo de elemento" data-type="select" data-pk="1" data-title="Selecione o tipo de  componente">{{viewApproach && viewApproach.type}}</a>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Coluna tabela: &nbsp;\r\n				<a class="editable editable-click inputTableFieldName " data-placement="right" data-title="Digite um nome para a coluna no BD">{{tableFieldName}}</a>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Obrigatório:&nbsp;\r\n				<input type="checkbox" class="check-box inputRequired"{{required ? \'checked\' :\'\'}}>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Único:&nbsp;\r\n				<input style="margin: 0px" type="checkbox" class="check-box inputUnique"{{unique ? \'checked\' :\'\'}}>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Máscara:&nbsp;\r\n				<a class="editable editable-click inputMask" data-placement="right" data-title="Digite uma máscara">{{mask}}</a>\r\n			</span>\r\n			<br>\r\n			<span>\r\n				Tamanho Máximo:&nbsp;\r\n				<a class="editable editable-click inputMaxLen" data-placement="right" data-title="Digite o tamanho máximo">{{maxLen}}</a>\r\n			</span>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/categoria/AttributeItemView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","utilities/C3pUtil","collections/BaseCollection","models/BaseModel","models/AttributeModel","text!views/categoria/tpl/AttributeItemViewTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=e("utilities/utils"),a=e("utilities/C3pUtil"),o=(e("collections/BaseCollection"),e("models/BaseModel"),e("models/AttributeModel"),e("text!views/categoria/tpl/AttributeItemViewTemplate.html")),s=n.ItemView.extend({template:t.template(o),events:{"click .showhide":"hideShow","click .delete-attribute":"deleteAtribute","click .check-box":"changeAttribute"},ui:{inputId:".inputId",inputAtributeName:".inputAtributeName",inputDisplayName:".inputDisplayName",inputMaxLen:".inputMaxLen",inputType:".inputType",inputTypeId:".inputTypeId",inputTableFieldName:".inputTableFieldName",inputMask:".inputMask",inputDefaultValue:".inputDefaultValue",inputPlaceholder:".inputPlaceholder",inputRequired:".inputRequired",inputUnique:".inputUnique",inputViewApproach:".inputViewApproach",inputViewApproachId:".inputViewApproachId",widgetMain:".widget-main",showhide:".showhide",editableFields:".editable-click"},changeAttribute:function(){this.model.set(this.getModel())},deleteAtribute:function(){this.model.destroy({success:function(e,t,i){console.log("Removendo atributo ",e,t,i)},error:function(e,t,i){console.warn("Erro ao detelar atributo ",e,t,i)}})},getModel:function(){return{id:this.ui.inputId.val()||null,name:this.ui.inputAtributeName.text(),displayName:a.notEmptyVal(this.ui.inputDisplayName),maxLen:a.notEmptyVal(this.ui.inputMaxLen),tableFieldName:a.notEmptyVal(this.ui.inputTableFieldName),mask:a.notEmptyVal(this.ui.inputMask),defaultValue:a.notEmptyVal(this.ui.inputDefaultValue),placeholder:a.notEmptyVal(this.ui.inputPlaceholder),required:this.ui.inputRequired.is(":checked"),unique:this.ui.inputUnique.is(":checked"),type:{id:this.ui.inputTypeId.val(),className:a.notEmptyVal(this.ui.inputType)},viewApproach:{id:this.ui.inputViewApproachId.val(),type:a.notEmptyVal(this.ui.inputViewApproach)}}},hideShow:function(){this.ui.widgetMain.toggle(),this.ui.widgetMain.is(":visible")?this.ui.showhide.find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up"):this.ui.showhide.find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")},initialize:function(){var e=this;this.on("show",function(){this.ui.inputAtributeName.editable(),this.ui.inputDisplayName.editable(),this.ui.inputMaxLen.editable(),this.ui.inputTableFieldName.editable(),this.ui.inputMask.editable(),this.ui.inputAtributeName.on("hidden",function(){r.refreshEditable(e.ui.inputDisplayName,r.toFrase(e.ui.inputAtributeName.text())),r.refreshEditable(e.ui.inputTableFieldName,r.toUnderscore(e.ui.inputAtributeName.text(),!0)),r.refreshEditable(e.ui.inputMaxLen,255)}),this.ui.inputType.on("hidden",function(){"Boolean"==e.ui.inputType.text()&&(e.ui.inputViewApproach.text("Check"),r.refreshEditable(e.ui.inputMask,"")),("Integer"==e.ui.inputType.text()||"Long"==e.ui.inputType.text()||"Double"==e.ui.inputType.text())&&(r.refreshEditable(e.ui.inputMaxLen,10),r.refreshEditable(e.ui.inputMask,"")),"String"==e.ui.inputType.text()&&(e.ui.inputViewApproach.text("Textfield"),r.refreshEditable(e.ui.inputMask,""),r.refreshEditable(e.ui.inputMaxLen,255)),"Date"==e.ui.inputType.text()&&(e.ui.inputViewApproach.text("Datepicker"),r.refreshEditable(e.ui.inputMask,"99/99/9999"),r.refreshEditable(e.ui.inputMaxLen,10)),"Datetime"==e.ui.inputType.text()&&(e.ui.inputViewApproach.text("DateTimepicker"),r.refreshEditable(e.ui.inputMask,"99/99/9999 99:99"),r.refreshEditable(e.ui.inputMaxLen,16))}),this.ui.inputViewApproach.on("hidden",function(){("Check"==e.ui.inputViewApproach.text()||"Radio"==e.ui.inputViewApproach.text())&&e.ui.inputType.text("Boolean"),"Textfield"==e.ui.inputViewApproach.text()&&(e.ui.inputType.text("String"),r.refreshEditable(e.ui.inputMask,""),r.refreshEditable(e.ui.inputMaxLen,255)),"Datepicker"==e.ui.inputViewApproach.text()&&(r.refreshEditable(e.ui.inputType,"Date"),r.refreshEditable(e.ui.inputMask,"99/99/9999"),r.refreshEditable(e.ui.inputMaxLen,10)),"DateTimepicker"==e.ui.inputViewApproach.text()&&(r.refreshEditable(e.ui.inputType,"Datetime"),r.refreshEditable(e.ui.inputMask,"99/99/9999 99:99"),r.refreshEditable(e.ui.inputMaxLen,16))}),this.ui.inputViewApproach.editable({value:"Textfield",source:[{value:"Check",text:"Check"},{value:"Radio",text:"Radio"},{value:"Textfield",text:"Textfield"},{value:"Datepicker",text:"Datepicker"},{value:"DateTimepicker",text:"DateTimepicker"}]}),this.ui.inputType.editable({value:"String",source:[{value:"String",text:"String"},{value:"Long",text:"Long"},{value:"Boolean",text:"Boolean"},{value:"Integer",text:"Integer"},{value:"Double",text:"Double"},{value:"Date",text:"Date"},{value:"Datetime",text:"Datetime"}]}),this.ui.editableFields.on("hidden",function(){e.changeAttribute()}),this.ui.editableFields.on("shown",function(e,t){var n=i(e.target).text();n!=t.options.emptytext&&t.input.$input.val(i(e.target).text()||i(e.target).val())}),this.hideShow()})}});return s}),define("views/categoria/AttributesCollectionView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","views/categoria/AttributeItemView"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),i=(e("utilities/utils"),e("views/categoria/AttributeItemView")),n=t.CollectionView.extend({childView:i,childViewOptions:function(){},initialize:function(){}});return n}),define("views/categoria/RelationshipsCollectionView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),i=(e("utilities/utils"),t.View.extend({childViewOptions:function(){entity=this.entity},initialize:function(e){this.entity=e.entity}}));return i}),define("views/categoria/EntityItemView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","models/RelationshipModel","collections/RelationshipCollection","models/AttributeModel","collections/AttributeCollection","text!views/categoria/tpl/EntityItemViewTemplate.html","views/categoria/AttributesCollectionView","views/categoria/RelationshipsCollectionView"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=e("utilities/utils"),a=e("models/RelationshipModel"),o=e("collections/RelationshipCollection"),s=e("models/AttributeModel"),l=e("collections/AttributeCollection"),c=e("text!views/categoria/tpl/EntityItemViewTemplate.html"),d=e("views/categoria/AttributesCollectionView"),u=e("views/categoria/RelationshipsCollectionView"),p=n.LayoutView.extend({template:t.template(c),className:" drag-item",regions:{attributesRegion:".attributes",relationshipsRegion:".relationships"},events:{"click .add-attribute":"addAttribute","click .add-relation":"addRelationship","click .rem-entity":"deleteEntidade","click .show-hide-ent":"hideShowEnt","click checkbox":"changeEntity"},ui:{inputId:"#inputId",inputEntityName:".inputEntityName",inputDisplayName:".inputDisplayName",inputTableName:".inputTableName",inputHasMobile:".inputHasMobile",widgetEntMain:".widget-entidade",showhide:".show-hide-ent",editableFields:".editable-click",addRelation:".add-relation",addAttribute:".add-attribute",remEntity:".rem-entity",showHideEntity:".show-hide-ent",panelBody:".entity-content"},deleteEntidade:function(){this.model.destroy(),this.$el.remove()},addAttribute:function(){this.ui.panelBody.show(),this.attributesCollection.add(new s)},addRelationship:function(){this.ui.panelBody.show(),this.relationshipsCollection.add(new a)},initialize:function(){var e=this;this.$el.draggable({handle:".panel-heading",containment:".drag-entities",scroll:!1,stop:function(){var t=i(this).offset(),n=t.left,r=t.top;e.model.set("posX",n),e.model.set("posY",r),console.log(n,r)}}),this.attributesCollection=new l(this.model.get("attributes")),this.model.set("attributes",this.attributesCollection),this.attributesCollectionView=new d({collection:this.attributesCollection}),this.relationshipsCollection=new o(this.model.get("relationships")),this.model.set("relationships",this.relationshipsCollection),this.relationshipsCollectionView=new u({collection:this.relationshipsCollection}),this.on("show",function(){this.$el.offset({top:this.model.get("posY")||100,left:this.model.get("posX")||100});var e=this;this.ui.inputEntityName.editable(),this.ui.inputDisplayName.editable(),this.ui.inputTableName.editable(),this.ui.inputEntityName.on("hidden",function(){r.refreshEditable(e.ui.inputDisplayName,r.toFrase(e.ui.inputEntityName.text())),r.refreshEditable(e.ui.inputTableName,r.toUnderscore(e.ui.inputEntityName.text(),!0))}),this.ui.editableFields.on("shown",function(e,t){var n=i(e.target).text();n!=t.options.emptytext&&t.input.$input.val(i(e.target).text()||i(e.target).val())}),this.ui.editableFields.on("hidden",function(){e.changeEntity()}),this.ui.addRelation.tooltip(),this.ui.addAttribute.tooltip(),this.ui.remEntity.tooltip(),this.ui.showHideEntity.tooltip(),this.attributesRegion.show(this.attributesCollectionView),this.relationshipsRegion.show(this.relationshipsCollectionView),this.hideShowEnt()})},changeEntity:function(){this.model.set(this.getModel())},deleteAtribute:function(){this.model.destroy()},getModel:function(){return{id:this.ui.inputId.val()||null,name:this.ui.inputEntityName.text(),displayName:this.ui.inputDisplayName.text(),tableName:this.ui.inputTableName.text(),hasMobile:this.ui.inputHasMobile.is(":checked")}},hideShowEnt:function(){this.ui.panelBody.toggle(),this.ui.panelBody.is(":visible")?this.ui.showhide.find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up"):this.ui.showhide.find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")}});return p}),define("views/categoria/EntitiesCollectionView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","views/categoria/EntityItemView"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter")),i=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("utilities/utils"),e("views/categoria/EntityItemView")),r=i.CollectionView.extend({childView:n,childViewOptions:function(){},initialize:function(){this.on("show",function(){t(".entidades").css("min-height","1200px")})}});return r}),define("views/categoria/PageCategoria",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/Counter","views/components/ActionsCell","text!views/categoria/tpl/FormCategoriaTemplate.html","models/EntityModel","models/ApplicationModel","collections/BaseCollection","collections/EntityCollection","text!views/categoria/tpl/PageCategoriaTemplate.html","views/categoria/EntitiesCollectionView"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("views/components/Counter"),e("views/components/ActionsCell"),e("text!views/categoria/tpl/FormCategoriaTemplate.html"),e("models/EntityModel")),a=(e("models/ApplicationModel"),e("collections/BaseCollection"),e("collections/EntityCollection")),o=e("text!views/categoria/tpl/PageCategoriaTemplate.html"),s=e("views/categoria/EntitiesCollectionView"),l=i.LayoutView.extend({template:t.template(o),regions:{entidadesRegion:".entidades"},events:{"click #novaEntidade":"novaEntidade","click #salvaEntidades":"salvaEntidades","click #validaEntidades":"validaEntidades"},initialize:function(e){this.application=e.application,this.entidadesCollection=new a(this.application.get("entities")),this.application.set("entities",this.entidadesCollection),this.entidadesContainer=new s({collection:this.entidadesCollection}),this.on("show",function(){this.entidadesRegion.show(this.entidadesContainer)})},salvaEntidades:function(){var e=this;this.application.save({},{success:function(t){e.validaEntidades(t)},error:function(){console.error("Erro ao salvar applicação")}})},validaEntidades:function(e){var t=e.url;e.url="rs/crud/applications/validator/"+e.get("id"),e.fetch({success:function(){e.url=t,n.showMessage("success","Entidades validadas com sucesso!")},error:function(i,r){n.showMessage("error",n.getJson(r.responseText).legalMessage||""),e.url=t}})},novaEntidade:function(){var e=new r;this.entidadesCollection.add(e)}});return l}),define("views/components/CustomStringCell",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("marionette"),Backgrid.Cell.extend({editor:Backgrid.CellEditor,fieldName:"",render:function(){var e=this;if(this.$el.empty(),this.fieldName){var t=this.fieldName.split(".");t.length>1?this.model.get(t[0])&&e.$el.append(this.model.get(t[0])[t[1]]):e.$el.append(this.model.get(t[0]))}return this.delegateEvents(),this}}));return t}),define("views/components/CustomNumberCell",["adapters/backgrid-adapter","utilities/utils"],function(e,t){var i=e.Cell.extend({className:"custom-number-cel",render:function(){this.$el.empty();var e=this.model,i=e.get(this.column.get("name")),n="";return i&&(n=this.formatter.fromRaw(t.formatNumeric(i,2),e)),this.$el.text(n),this.delegateEvents(),this}});return i}),define("text!views/application/tpl/FormApplicationTemplate.html",[],function(){return'<!-- FormApplicationTemplate ini-->\r\n<div class="hpanel hblue">\r\n	<div class="panel-body">\r\n		<form role="form" id="formApplication">\r\n			<div id="groupInputSkin" class="form-group ">\r\n				<div class="hpanel">\r\n					<div class="panel-heading ">\r\n						<div class="panel-tools"></div>\r\n						Escolha do visual da aplicação\r\n					</div>\r\n					<div class="panel-body">\r\n						<div id="skinCarousel" class="carousel slide" data-interval="false">\r\n							<!-- Indicators -->\r\n							<ol class="carousel-indicators" style="color: #6a6c6f; border-color: #6a6c6f">\r\n								<li data-target="#myCarousel" data-slide-to="0" style="background-color: #6a6c6f; color: #6a6c6f; border-color: #6a6c6f"></li>\r\n								<li data-target="#myCarousel" data-slide-to="1" style="background-color: #6a6c6f; color: #6a6c6f; border-color: #6a6c6f"></li>\r\n								<li data-target="#myCarousel" data-slide-to="2" style="background-color: #6a6c6f; color: #6a6c6f; border-color: #6a6c6f"></li>\r\n								<li data-target="#myCarousel" data-slide-to="3" style="background-color: #6a6c6f; color: #6a6c6f; border-color: #6a6c6f"></li>\r\n							</ol>\r\n							<!-- Wrapper for slides -->\r\n							<div class="carousel-inner" role="listbox">\r\n								<div class="item " skin="Inspinia">\r\n									<img src="images/templates/inspinia.png" alt="Inspinia">\r\n									<div class="carousel-caption">\r\n										<h3 style="font-size: 60px; color: #6a6c6f">Inspinia</h3>\r\n									</div>\r\n								</div>\r\n								<div class="item" skin="Homer">\r\n									<img src="images/templates/homer.png" alt="Homer">\r\n									<div class="carousel-caption">\r\n										<h3 style="font-size: 60px; color: #6a6c6f">Homer</h3>\r\n									</div>\r\n								</div>\r\n								<div class="item " skin="Sprflat">\r\n									<img src="images/templates/sprflat.png" alt="Sprflat">\r\n									<div class="carousel-caption">\r\n										<h3 style="font-size: 60px; color: #6a6c6f">Sprflat</h3>\r\n									</div>\r\n								</div>\r\n								<div class="item active" skin="Ace">\r\n									<img src="images/templates/ace.png" alt="Ace">\r\n									<div class="carousel-caption">\r\n										<h3 style="font-size: 60px; color: #6a6c6f">Ace</h3>\r\n									</div>\r\n								</div>\r\n							</div>\r\n							<!-- Left and right controls -->\r\n							<a class="left carousel-control custom-carrousel-control custom-carrousel-control" href="#skinCarousel" role="button" data-slide="prev">\r\n								<i class="fa fa-fast-backward fa-2x"></i>\r\n								<span class="sr-only">Anterior</span>\r\n							</a>\r\n							<a class="right carousel-control custom-carrousel-control" href="#skinCarousel" role="button" data-slide="next">\r\n								<i class="fa fa-fast-forward fa-2x"></i>\r\n								<span class="sr-only">Próximo</span>\r\n							</a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="hpanel">\r\n				<div class="panel-heading ">\r\n					<div class="panel-tools"></div>\r\n					Detalhes\r\n				</div>\r\n				<div class="panel-body">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputSkin" class="form-group" style=\'display: none;\'>\r\n						<label class="control-label" for="inputSkin">Template</label>\r\n						<input type="text" id="inputSkin" placeholder="Template" value="{{skin || \'Inspinia\'}}" class="form-control" readonly="readonly">\r\n					</div>\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  validate[required]">\r\n					</div>\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Descrição</label>\r\n						<textarea id="inputDescription" rows="3" placeholder="Nome" value="{{description}}" class="form-control  "> {{description}}</textarea>\r\n					</div>\r\n					<div id="groupInputRootPackage" class="form-group">\r\n						<label class="control-label" for="inputRootPackage">Pacote raiz</label>\r\n						<input type="text" id="inputRootPackage" placeholder="Pacote raiz" value="{{rootPackage}}" class="form-control  validate[required]">\r\n					</div>\r\n					<div id="groupInputCorePackage" class="form-group">\r\n						<label class="control-label" for="inputCorePackage">Pacote base</label>\r\n						<input type="text" id="inputCorePackage" placeholder="Pacote raiz" value="{{corePackage}}" class="form-control  validate[required]">\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save" class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					<a href="javascript:void(0)" id="saveAndVisual" class=" btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar e gerar Entidades\r\n					</a>\r\n					&nbsp;\r\n					<a class="go-back-link btn btn-default" href="#app/visual">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Visual\r\n					</a>\r\n					<a class=" btn btn-default" href="#app/helpGenerateYaml/50">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Gerar YAML\r\n					</a>\r\n				</div>\r\n			</div>\r\n		</form>\r\n	</div>\r\n</div>\r\n<!-- FormApplicationTemplate final-->\r\n'
}),define("collections/ApplicationCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ApplicationModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ApplicationModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/applications/all"});return n}),define("collections/ApplicationPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ApplicationModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ApplicationModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/applications",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/application/tpl/PageApplicationTemplate.html",[],function(){return'<!-- PageApplicationTemplate ini -->\r\n<div class="hpanel hblue">\r\n	<div id="messages_div"></div>\r\n	<div class="panel-body">\r\n		<div>\r\n			<div id="sample-table-2_wrapper"\r\n				class="dataTables_wrapper form-inline no-footer">\r\n				<div id="messages_div"></div>\r\n				<div id="grid" class="table-responsive"></div>\r\n				<div class="">\r\n					<div id="counter" class=" pull-left"></div>\r\n					<div id="paginator" class=" pull-right"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<!-- PageApplicationTemplate fim -->'}),function(e,t){"function"==typeof define&&define.amd?define("download",[],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function e(t,i,n){function r(e){var t=e.split(/[:;,]/),i=t[1],n="base64"==t[2]?atob:decodeURIComponent,r=n(t.pop()),a=r.length,o=0,s=new Uint8Array(a);for(o;a>o;++o)s[o]=r.charCodeAt(o);return new v([s],{type:i})}function a(e,t){if("download"in m)return m.href=e,m.setAttribute("download",b),m.className="download-js-link",m.innerHTML="downloading...",f.body.appendChild(m),setTimeout(function(){m.click(),f.body.removeChild(m),t===!0&&setTimeout(function(){c.URL.revokeObjectURL(m.href)},250)},66),!0;if("undefined"!=typeof safari)return e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var i=f.createElement("iframe");f.body.appendChild(i),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),i.src=e,setTimeout(function(){f.body.removeChild(i)},333)}var o,s,l,c=window,d="application/octet-stream",u=n||d,p=t,h=!i&&!n&&p,f=document,m=f.createElement("a"),g=function(e){return String(e)},v=c.Blob||c.MozBlob||c.WebKitBlob||g,b=i||"download";if(v=v.call?v.bind(c):Blob,"true"===String(this)&&(p=[p,u],u=p[0],p=p[1]),h&&h.length<2048&&(b=h.split("/").pop().split("?")[0],m.href=h,-1!==m.href.indexOf(h))){var l=new XMLHttpRequest;return l.open("GET",h,!0),l.responseType="blob",l.onload=function(t){e(t.target.response,b,d)},l.send(),l}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(p))return navigator.msSaveBlob?navigator.msSaveBlob(r(p),b):a(p);if(o=p instanceof v?p:new v([p],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(o,b);if(c.URL)a(c.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===g)try{return a("data:"+u+";base64,"+c.btoa(o))}catch(y){return a("data:"+u+","+encodeURIComponent(o))}s=new FileReader,s.onload=function(){a(this.result)},s.readAsDataURL(o)}return!0}}),define("text!views/application/tpl/CardApplicationItemTemplate.html",[],function(){return'<div class="hpanel stats hyellow">\r\n	<div class="panel-body text-center" style="padding: 5px">\r\n		<a class="skin-name" href=\'javascript:void(-1)\' target="_blank">\r\n			<i class="pe-7s-display1 fa-5x " data-toggle="tooltip" data-placement="right" title="" data-original-title="Visualizar Template escolhido"></i>\r\n		</a>\r\n		<h3 class="font-extra-bold no-margins text-success">\r\n			<a style="color: #3498db; font-size: 1.5em" href="#app/editApplication/{{id}}">{{name}}</a>\r\n		</h3>\r\n		<p>{{description}}</p>\r\n		</p>\r\n		<small class="text-left">\r\n			<span class="text-left " style="text-decoration: underline;">Entidades </span>\r\n			<span class="text-left ">\r\n				<p class="text-left desc-entities"></p>\r\n			</span>\r\n		</small>\r\n		<div class="text-center" style="border-top: solid 1px; padding-top: 5px; border-top-color: rgb(228, 229, 231);"></div>\r\n		<a href="javascript:void(-1)" class="btn btn-info bt-gerar btn-xs">\r\n			<i class="fa fa-download "></i>\r\n			Gerar\r\n		</a>\r\n		<a href="#app/visual/{{id}}" class="btn btn-info  btn-xs">\r\n			<i class="fa fa-table"></i>\r\n			visual\r\n		</a>\r\n		<a class="btn btn-danger btn-xs ">\r\n			<i class="fa fa-times"></i>\r\n			Remover\r\n		</a>\r\n	</div>\r\n</div>'}),define("text!views/application/tpl/EmptyCollectionTemplate.html",[],function(){return'<div class=\'col-md-6 col-md-offset-3 animated-panel zoomIn\' style=\'animation-delay: 3s;\'>\r\n	<div class="hpanel hyellow">\r\n		<div class="panel-body">\r\n			<div class="text-center">\r\n				<h2 class="m-b-xs">Voce não tem nehuma aplicação ainda!</h2>\r\n				<div class="m">\r\n					<i class="pe-7s-display1 fa-5x"></i>\r\n				</div>\r\n				<p class="small">Click no botão abaixo para criar sua primeira aplicação.</p>\r\n				<a href="#app/newApplication" class="btn btn-info btn-sm"> Minha primeira aplicação WEB</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/application/CardApplicationCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","models/ApplicationModel","views/components/Combobox","download","text!views/application/tpl/CardApplicationItemTemplate.html","text!views/application/tpl/EmptyCollectionTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter")),n=e("marionette"),r=(e("adapters/backgrid-adapter"),e("utilities/utils")),a=(e("models/ApplicationModel"),e("views/components/Combobox"),e("download")),o=e("text!views/application/tpl/CardApplicationItemTemplate.html"),s=e("text!views/application/tpl/EmptyCollectionTemplate.html"),l=[];l.homer="https://wrapbootstrap.com/theme/homer-responsive-admin-theme-WB055J451",l.inspinia="https://wrapbootstrap.com/theme/inspinia-responsive-admin-theme-WB0R5L90S",l.ace="https://wrapbootstrap.com/theme/ace-responsive-admin-template-WB0B30DGR",l.sprflat="http://bootstrapbay.com/theme/sprflat-responsive-admin-template-B34CE2F";var c=n.ItemView.extend({template:t.template(o),className:"col-lg-3 animated-panel zoomIn",events:{"click .bt-gerar":"geraAplicacao"},ui:{descEntities:".desc-entities",skinName:".skin-name",displaySkin:".pe-7s-display1"},geraAplicacao:function(){var e=this.model.url,t=this;this.model.url="rs/crud/applications/generator/"+this.model.get("id"),this.model.fetch({success:function(i,n){t.model.url=e,r.showMessage("info",n.resp),console.log(a),a(n.resp)},error:function(i,n){r.showMessage("error",r.getJson(n.responseText).legalMessage||""),t.model.url=e}})},initialize:function(){var e=this;this.on("show",function(){this.ui.skinName.attr("href",l[this.model.get("skin")]),this.ui.displaySkin.tooltip();var i=this.model.get("entities"),n="";t.each(i,function(e){n+=e.name+", "}),e.ui.descEntities.text(n)})}}),d=i.Marionette.ItemView.extend({className:"row show-grid",template:t.template(s)}),u=n.CollectionView.extend({childView:c,emptyView:d,childViewOptions:function(){},initialize:function(){}});return u}),define("views/application/PageApplication",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/application/tpl/FormApplicationTemplate.html","models/ApplicationModel","collections/ApplicationCollection","collections/ApplicationPageCollection","text!views/application/tpl/PageApplicationTemplate.html","views/application/CardApplicationCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter"),e("views/components/ActionsCell")),a=(e("views/components/CustomNumberCell"),e("text!views/application/tpl/FormApplicationTemplate.html"),e("models/ApplicationModel"),e("collections/ApplicationCollection")),o=(e("collections/ApplicationPageCollection"),e("text!views/application/tpl/PageApplicationTemplate.html")),s=e("views/application/CardApplicationCollection"),l=i.LayoutView.extend({template:t.template(o),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryApplication","click 	#reset":"_resetApplication",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputSkin:"#inputSkin",inputRootPackage:"#inputRootPackage",form:"#formApplicationFilter"},treatKeypress:function(e){n.enterPressed(e)&&(e.preventDefault(),this._queryApplication())},initialize:function(){var e=this;this.applications=new a,this.grid=new s({collection:this.applications}),this.applications.fetch({success:function(){console.info("Primeira pagina do grid application")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid)})},_queryApplication:function(){this.applications.filterQueryParams={name:n.escapeById("inputName"),skin:n.escapeById("inputSkin"),rootPackage:n.escapeById("inputRootPackage")},this.applications.fetch({success:function(){console.info("Consulta para o grid application")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetApplication:function(){this.ui.form.get(0).reset(),this.applications.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"skin",editable:!1,sortable:!0,label:"Template",cell:"string"},{name:"rootPackage",editable:!1,sortable:!0,label:"Pacote raiz",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:r.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){n.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){n.showMessage("success","Registro removido com sucesso!")},error:function(){n.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editApplication/"+e.get("id")},_editModel:function(){}});return l}),define("collections/EntityPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/EntityModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/EntityModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/entitys",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/entity/tpl/ModalMultiSelectEntityTemplate.html",[],function(){return'<div class="modal fade" id="myModalEntity" tabindex="-1" role="dialog" aria-labelledby="modalEntitys" aria-hidden="true" style="display: none;">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n					<span aria-hidden="true">&times;</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">entity</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="container-fluid">\r\n					<div id="messages"></div>\r\n					<div class="row">\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline ">\r\n							<div id="grid-entitys-modal" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="paginator-entitys-modal" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/entity/ModalMultiSelectEntity",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","views/components/CustomNumberCell","utilities/utils","collections/EntityPageCollection","text!views/entity/tpl/ModalMultiSelectEntityTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("views/components/CustomNumberCell"),e("utilities/utils"),e("collections/EntityPageCollection")),a=e("text!views/entity/tpl/ModalMultiSelectEntityTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{gridRegion:"#grid-entitys-modal",paginatorRegion:"#paginator-entitys-modal"},events:{"click .btnOk":"close"},ui:{btnOk:".btnOk"},initialize:function(){var e=this;this.projetoEntitys=this.collection,this.entitys=new r,this.entitys.on("fetched",this.endFetch,this),this.entitys.on("backgrid:selected",this.selectModel,this),this.grid=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Nenhum registro para escolha",collection:this.entitys}),this.paginator=new i.Extension.Paginator({columns:this._getColumns(),collection:this.entitys,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.entitys.getFirstPage({success:function(){console.info("Primeira pagina do grid entity")},error:function(e,t){console.error(t.responseText||t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.paginatorRegion.show(e.paginator)})},selectModel:function(e,t){t?this.projetoEntitys.add(e):this.projetoEntitys.remove(e)},endFetch:function(){var e=this;this.entitys.each(function(t){e.projetoEntitys.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},clear:function(){this.grid.$el.find("input[type=checkbox]").prop("checked",!1)},_getColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",editable:!1,sortable:!1,label:"Name",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"DisplayName",cell:"string"},{name:"tableName",editable:!1,sortable:!1,label:"TableName",cell:"string"},{name:"hasOwner",editable:!1,sortable:!1,label:"HasOwner",cell:"string"},{name:"hasMobile",editable:!1,sortable:!1,label:"HasMobile",cell:"string"}];return e}});return o}),define("text!views/entity/tpl/MultiSelectEntityTemplate.html",[],function(){return'<div class="panel panel-default plain toggle ">\r\n	<div class="panel-heading">\r\n		<span class="panel-title">\r\n			<span class="pull-left"> Entitys &nbsp;&nbsp;&nbsp;</span>\r\n		</span>\r\n		<span>\r\n			<a href="#myModalEntity" class="btn btn-info btn-xs" data-toggle="modal">\r\n				<i class="fa  fa-plus-square">&nbsp;&nbsp;Add/Remove Entity</i>\r\n			</a>\r\n		</span>\r\n		<div class="panel-controls panel-controls-hide" style="display: none;">\r\n			<a href="javascript:void(-1)" class="toggle panel-minimize">\r\n				<i class="im-minus"></i>\r\n			</a>\r\n		</div>\r\n	</div>\r\n	<div class="panel-body" style="border: none">\r\n		<div id="gridMultiselectEntitys" class="table-responsive"></div>\r\n	</div>\r\n</div>\r\n<div id=\'modalMultiSelectEntitys\'></div>'}),define("views/entity/MultiSelectEntity",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","utilities/utils","models/BaseModel","views/components/CustomNumberCell","views/entity/ModalMultiSelectEntity","text!views/entity/tpl/MultiSelectEntityTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("utilities/utils"),e("models/BaseModel"),e("views/components/CustomNumberCell"),e("views/entity/ModalMultiSelectEntity")),a=e("text!views/entity/tpl/MultiSelectEntityTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{modalMultiSelectEntityRegion:"#modalMultiSelectEntitys",gridEntitysModalRegion:"#gridMultiselectEntitys"},initialize:function(){var e=this;this.entitys=this.collection,this.gridEntitys=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros adicionados",collection:this.entitys}),this.modalMultiSelectEntity=new r({collection:this.collection}),this.on("show",function(){e.modalMultiSelectEntityRegion.show(e.modalMultiSelectEntity),e.gridEntitysModalRegion.show(e.gridEntitys)})},clear:function(){this.modalMultiSelectEntity.clear()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!1,label:"Name",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"DisplayName",cell:"string"},{name:"tableName",editable:!1,sortable:!1,label:"TableName",cell:"string"},{name:"hasOwner",editable:!1,sortable:!1,label:"HasOwner",cell:"string"},{name:"hasMobile",editable:!1,sortable:!1,label:"HasMobile",cell:"string"}];return e}});return o}),define("views/application/FormApplication",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/application/tpl/FormApplicationTemplate.html","models/ApplicationModel","collections/ApplicationCollection","collections/EntityCollection","views/entity/MultiSelectEntity"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=(e("adapters/backgrid-adapter"),e("utilities/utils")),a=(e("views/components/Combobox"),e("text!views/application/tpl/FormApplicationTemplate.html")),o=(e("models/ApplicationModel"),e("collections/ApplicationCollection")),s=e("collections/EntityCollection"),l=(e("views/entity/MultiSelectEntity"),n.LayoutView.extend({template:t.template(a),regions:{},events:{"click 	.save":"save","click 	#saveAndVisual":"saveAndVisual","change  #inputSkin":"changeSkin","change  #inputRootPackage":"changeRootPackage"},ui:{inputId:"#inputId",inputName:"#inputName",inputSkin:"#inputSkin",skinCarousel:"#skinCarousel",inputRootPackage:"#inputRootPackage",form:"#formApplication"},initialize:function(){var e=this;e.entities=new s,e.entities.add(this.model.get("entities")),this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"}),this.ui.skinCarousel.on("slide.bs.carousel",function(t){e.ui.inputSkin.val(i(t.relatedTarget).attr("skin"))})})},saveAndVisual:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(i){r.showMessage("success","Application salvo com sucesso!"),t.clearForm(),1!=e?r.goPage("app/applications",!0):r.goPage("app/visual/"+i.get("id"),!0)},error:function(e,t){r.showMessage("error","Problema ao salvar registro: "+r.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):r.showMessage("error","Verifique campos em destaque!")},clearForm:function(){r.clear("inputId"),r.clear("inputName"),r.clear("inputSkin"),r.clear("inputRootPackage"),this.entities.reset()},possuiCamposInvalidos:function(){return r.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:r.escapeById("inputId")||null,name:r.escapeById("inputName"),skin:r.escapeById("inputSkin")||"ace",description:r.escapeById("inputDescription"),rootPackage:r.escapeById("inputRootPackage"),corePackage:r.escapeById("inputCorePackage"),entities:e.entities.toJSON()}),t},changeSkin:function(){var e=this;r.validateUnique({element:e.ui.inputSkin,fieldName:"skin",fieldDisplayName:"Template",view:e,collection:o})},changeRootPackage:function(){var e=this;r.validateUnique({element:e.ui.inputRootPackage,fieldName:"rootPackage",fieldDisplayName:"Pacote raiz",view:e,collection:o})}}));return l}),define("text!views/attribute/tpl/FormAttributeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Attribute´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Attribute</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Attribute</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formAttribute">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputDisplayName" class="form-group">\r\n						<label class="control-label" for="inputDisplayName">Nome apresentado na tela</label>\r\n						<input type="text" id="inputDisplayName" placeholder="Nome apresentado na tela" value="{{displayName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputMaxLen" class="form-group">\r\n						<label class="control-label" for="inputMaxLen">Tamanho máximo</label>\r\n						<input type="text" id="inputMaxLen" placeholder="Tamanho máximo" value="{{maxLen}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputTableFieldName" class="form-group">\r\n						<label class="control-label" for="inputTableFieldName">Nome da coluna na tabela</label>\r\n						<input type="text" id="inputTableFieldName" placeholder="Nome da coluna na tabela" value="{{tableFieldName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputMasc" class="form-group">\r\n						<label class="control-label" for="inputMasc">Formato de Máscara</label>\r\n						<input type="text" id="inputMasc" placeholder="Formato de Máscara" value="{{masc}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputDefaultValue" class="form-group">\r\n						<label class="control-label" for="inputDefaultValue">Valor padrão</label>\r\n						<input type="text" id="inputDefaultValue" placeholder="Valor padrão" value="{{defaultValue}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputPlaceholder" class="form-group">\r\n						<label class="control-label" for="inputPlaceholder">Placeholder</label>\r\n						<input type="text" id="inputPlaceholder" placeholder="Placeholder" value="{{placeholder}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputRequired" class="form-group">\r\n						<label class="control-label" for="inputRequired">Obrigatório</label>\r\n						<input type="text" id="inputRequired" placeholder="Obrigatório" value="{{required}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputUnique" class="form-group">\r\n						<label class="control-label" for="inputUnique">Único</label>\r\n						<input type="text" id="inputUnique" placeholder="Único" value="{{unique}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputEntityContainer" class="form-group">\r\n						<label class="control-label" for="inputEntity">Entidade</label>\r\n						<div id="groupInputEntity" class="input-group">\r\n							<input id="inputEntityId" type="hidden" class="form-control append-left" value="{{entity && entity.id}}" />\r\n							<input id="inputEntityName"  placeholder="Escolha um Entidade" type="text" class="form-control append-left" value="{{entity && entity.name}}" />\r\n							<div class="input-group-addon append-right" id="searchEntityModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/attributes">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'entityModal\'></div>\r\n'}),define("collections/AttributePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/AttributeModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/AttributeModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/attributes",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/attribute/tpl/PageAttributeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Attribute´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Attribute</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Attribute</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formAttributeFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDisplayName" class="form-group">\r\n								<label class="control-label" for="inputDisplayName">Nome apresentado na tela</label>\r\n								<input type="text" id="inputDisplayName" placeholder="Pesquise pelo Nome apresentado na tela"  class="form-control">\r\n							</div>\r\n							<div id="groupInputMaxLen" class="form-group">\r\n								<label class="control-label" for="inputMaxLen">Tamanho máximo</label>\r\n								<input type="text" id="inputMaxLen" placeholder="Pesquise pelo Tamanho máximo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputTableFieldName" class="form-group">\r\n								<label class="control-label" for="inputTableFieldName">Nome da coluna na tabela</label>\r\n								<input type="text" id="inputTableFieldName" placeholder="Pesquise pelo Nome da coluna na tabela"  class="form-control">\r\n							</div>\r\n							<div id="groupInputMasc" class="form-group">\r\n								<label class="control-label" for="inputMasc">Formato de Máscara</label>\r\n								<input type="text" id="inputMasc" placeholder="Pesquise pelo Formato de Máscara"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDefaultValue" class="form-group">\r\n								<label class="control-label" for="inputDefaultValue">Valor padrão</label>\r\n								<input type="text" id="inputDefaultValue" placeholder="Pesquise pelo Valor padrão"  class="form-control">\r\n							</div>\r\n							<div id="groupInputPlaceholder" class="form-group">\r\n								<label class="control-label" for="inputPlaceholder">Placeholder</label>\r\n								<input type="text" id="inputPlaceholder" placeholder="Pesquise pelo Placeholder"  class="form-control">\r\n							</div>\r\n							<div id="groupInputRequired" class="form-group">\r\n								<label class="control-label" for="inputRequired">Obrigatório</label>\r\n								<input type="text" id="inputRequired" placeholder="Pesquise pelo Obrigatório"  class="form-control">\r\n							</div>\r\n							<div id="groupInputUnique" class="form-group">\r\n								<label class="control-label" for="inputUnique">Único</label>\r\n								<input type="text" id="inputUnique" placeholder="Pesquise pelo Único"  class="form-control">\r\n							</div>\r\n						<div id="groupInputEntityContainer" class="form-group">\r\n							<label class="control-label" for="inputEntity">Entidade</label>\r\n							<div id="groupInputEntity" class="input-group">\r\n								<input id="inputEntityId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputEntityName" placeholder="Pesquise pelo Entidade"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchEntityModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newAttribute" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'entityModal\'></div>\r\n'
}),define("views/components/RadioButtonCell",["adapters/backgrid-adapter"],function(e){var t=e.Cell.extend({editPath:"",deletePath:"",className:"td-radio-button",editor:e.CellEditor,events:{"click .bt-edit":"onEdit","click .bt-delete":"onDelete"},onEdit:function(){this.editModel(this.model)},onDelete:function(){this.deleteModel(this.model)},render:function(){return this.$el.empty(),this.$el.append('<input type="radio" name="check">'),this.delegateEvents(),this}});return t}),define("views/components/CustomClickedRow",["adapters/backgrid-adapter"],function(e){var t=e.Row.extend({className:"custom-row-click",render:function(){return t.__super__.render.apply(this,arguments),this.$el.data("model",this.model),this}});return t}),define("text!views/modalComponents/tpl/EntityModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 14:17:03 -->\r\n<!-- Modal Entity´s form -->\r\n<div class="modal fade" id="dialogEntity" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Entity</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchEntity">\r\n							<div id="groupInputModalName" class="form-group">\r\n								<label class="control-label" for="inputModalName">Name</label>\r\n								<input type="text" id="inputModalName" placeholder="Name"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalDisplayName" class="form-group">\r\n								<label class="control-label" for="inputModalDisplayName">DisplayName</label>\r\n								<input type="text" id="inputModalDisplayName" placeholder="DisplayName"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalTableName" class="form-group">\r\n								<label class="control-label" for="inputModalTableName">TableName</label>\r\n								<input type="text" id="inputModalTableName" placeholder="TableName"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalHasOwner" class="form-group">\r\n								<label class="control-label" for="inputModalHasOwner">HasOwner</label>\r\n								<input type="text" id="inputModalHasOwner" placeholder="HasOwner"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalHasMobile" class="form-group">\r\n								<label class="control-label" for="inputModalHasMobile">HasMobile</label>\r\n								<input type="text" id="inputModalHasMobile" placeholder="HasMobile"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinEntity">\r\n						<a href="javascript:void(0)" id="btnSearchEntity" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearEntity" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoEntityDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-entity" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-entity" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/modalComponents/EntityModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/EntityModalTemplate.html","collections/EntityPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/EntityModalTemplate.html")),l=e("collections/EntityPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchEntity":"searchEntity","click #btnClearEntity":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-entity",paginatorRegion:"#paginator-entity"},ui:{inputModalName:"#inputModalName",inputModalDisplayName:"#inputModalDisplayName",inputModalTableName:"#inputModalTableName",inputModalHasOwner:"#inputModalHasOwner",inputModalHasMobile:"#inputModalHasMobile",form:"#formSearchEntity",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchEntity())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.entityCollection=new l,this.entityCollection.state.pageSize=5,this.entityCollection.on("fetching",this._startFetch,this),this.entityCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.entityCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.entityCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.entityCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Name",cell:"string"},{name:"displayName",editable:!1,sortable:!0,label:"DisplayName",cell:"string"},{name:"tableName",editable:!1,sortable:!0,label:"TableName",cell:"string"},{name:"hasOwner",editable:!1,sortable:!0,label:"HasOwner",cell:"string"},{name:"hasMobile",editable:!1,sortable:!0,label:"HasMobile",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalName"),r.clear("inputModalDisplayName"),r.clear("inputModalTableName"),r.clear("inputModalHasOwner"),r.clear("inputModalHasMobile"),r.scrollUpModal()},searchEntity:function(){this.entityCollection.filterQueryParams={name:r.escapeById("inputModalName"),displayName:r.escapeById("inputModalDisplayName"),tableName:r.escapeById("inputModalTableName"),hasOwner:r.escapeById("inputModalHasOwner"),hasMobile:r.escapeById("inputModalHasMobile")},this.entityCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.entityCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.entityCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinEntity")}});return s}),define("views/attribute/PageAttribute",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/attribute/tpl/FormAttributeTemplate.html","models/AttributeModel","collections/AttributeCollection","collections/AttributePageCollection","text!views/attribute/tpl/PageAttributeTemplate.html","views/modalComponents/EntityModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=e("views/components/CustomNumberCell"),c=(e("text!views/attribute/tpl/FormAttributeTemplate.html"),e("models/AttributeModel"),e("collections/AttributeCollection"),e("collections/AttributePageCollection")),d=e("text!views/attribute/tpl/PageAttributeTemplate.html"),u=e("views/modalComponents/EntityModal"),p=i.LayoutView.extend({template:t.template(d),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchEntityModalRegion:"#entityModal"},events:{"click 	#query":"_queryAttribute","click 	#reset":"_resetAttribute","click #searchEntityModal":"_showSearchEntityModal",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputMaxLen:"#inputMaxLen",inputTableFieldName:"#inputTableFieldName",inputMasc:"#inputMasc",inputDefaultValue:"#inputDefaultValue",inputPlaceholder:"#inputPlaceholder",inputRequired:"#inputRequired",inputUnique:"#inputUnique",inputEntityId:"#inputEntityId",inputEntityName:"#inputEntityName",form:"#formAttributeFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryAttribute())},initialize:function(){var e=this;this.attributes=new c,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.attributes}),this.counter=new o({collection:this.attributes}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.attributes,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.attributes.getFirstPage({success:function(){console.info("Primeira pagina do grid attribute")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchEntityModal=new u({onSelectModel:function(t){e._selectEntity(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchEntityModalRegion.show(this.searchEntityModal)})},_queryAttribute:function(){this.attributes.filterQueryParams={name:r.escapeById("inputName"),displayName:r.escapeById("inputDisplayName"),maxLen:r.escapeById("inputMaxLen"),tableFieldName:r.escapeById("inputTableFieldName"),masc:r.escapeById("inputMasc"),defaultValue:r.escapeById("inputDefaultValue"),placeholder:r.escapeById("inputPlaceholder"),required:r.escapeById("inputRequired"),unique:r.escapeById("inputUnique"),entity:r.escapeById("inputEntityId")},this.attributes.fetch({success:function(){console.info("Consulta para o grid attribute")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetAttribute:function(){this.ui.form.get(0).reset(),this.attributes.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!0,label:"Nome apresentado na tela",cell:"string"},{name:"maxLen",editable:!1,sortable:!0,label:"Tamanho máximo",cell:l.extend({})},{name:"tableFieldName",editable:!1,sortable:!0,label:"Nome da coluna na tabela",cell:"string"},{name:"masc",editable:!1,sortable:!0,label:"Formato de Máscara",cell:"string"},{name:"defaultValue",editable:!1,sortable:!0,label:"Valor padrão",cell:"string"},{name:"placeholder",editable:!1,sortable:!0,label:"Placeholder",cell:"string"},{name:"required",editable:!1,sortable:!0,label:"Obrigatório",cell:"string"},{name:"unique",editable:!1,sortable:!0,label:"Único",cell:"string"},{name:"entity.name",editable:!1,sortable:!0,label:"Entidade",cell:a.extend({fieldName:"entity.name"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editAttribute/"+e.get("id")},_editModel:function(){},_showSearchEntityModal:function(){this.searchEntityModal.showPage()},_selectEntity:function(e){this.searchEntityModal.hidePage(),this.ui.inputEntityId.val(e.get("id")),this.ui.inputEntityName.val(e.get("name"))}});return p}),define("views/attribute/FormAttribute",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/attribute/tpl/FormAttributeTemplate.html","models/AttributeModel","collections/AttributeCollection","views/modalComponents/EntityModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/attribute/tpl/FormAttributeTemplate.html")),a=(e("models/AttributeModel"),e("collections/AttributeCollection"),e("views/modalComponents/EntityModal")),o=i.LayoutView.extend({template:t.template(r),regions:{searchEntityModalRegion:"#entityModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchEntityModal":"_showSearchEntityModal"},ui:{inputId:"#inputId",inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputMaxLen:"#inputMaxLen",inputTableFieldName:"#inputTableFieldName",inputMasc:"#inputMasc",inputDefaultValue:"#inputDefaultValue",inputPlaceholder:"#inputPlaceholder",inputRequired:"#inputRequired",inputUnique:"#inputUnique",inputEntityId:"#inputEntityId",inputEntityName:"#inputEntityName",form:"#formAttribute"},initialize:function(){var e=this;this.searchEntityModal=new a({onSelectModel:function(t){e._selectEntity(t)}}),this.on("show",function(){this.searchEntityModalRegion.show(this.searchEntityModal),this.ui.inputMaxLen.formatNumber(2),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Attribute salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/attributes")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputDisplayName"),n.clear("inputMaxLen"),n.clear("inputTableFieldName"),n.clear("inputMasc"),n.clear("inputDefaultValue"),n.clear("inputPlaceholder"),n.clear("inputRequired"),n.clear("inputUnique"),n.clear("inputEntityId"),n.clear("inputEntityName")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),displayName:n.escapeById("inputDisplayName"),maxLen:n.escapeById("inputMaxLen",!0),tableFieldName:n.escapeById("inputTableFieldName"),masc:n.escapeById("inputMasc"),defaultValue:n.escapeById("inputDefaultValue"),placeholder:n.escapeById("inputPlaceholder"),required:n.escapeById("inputRequired"),unique:n.escapeById("inputUnique"),entity:e._getEntity()}),t},_getEntity:function(){var e=n.escapeById("inputEntityId"),t=n.escapeById("inputEntityName"),i=null;return e&&t&&(i={id:e,name:t}),i},_showSearchEntityModal:function(){this.searchEntityModal.showPage()},_selectEntity:function(e){this.searchEntityModal.hidePage(),this.ui.inputEntityId.val(e.get("id")),this.ui.inputEntityName.val(e.get("name"))}});return o}),define("text!views/attributeType/tpl/FormAttributeTypeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- AttributeType´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar AttributeType</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar AttributeType</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formAttributeType">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputClassName" class="form-group">\r\n						<label class="control-label" for="inputClassName">Nome</label>\r\n						<input type="text" id="inputClassName" placeholder="Nome" value="{{className}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputFormat" class="form-group">\r\n						<label class="control-label" for="inputFormat">Formato</label>\r\n						<input type="text" id="inputFormat" placeholder="Formato" value="{{format}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/attributeTypes">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/AttributeTypeModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/attributeTypes",defaults:{id:null,className:"",format:"",attribute:null}});return i}),define("collections/AttributeTypeCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/AttributeTypeModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/AttributeTypeModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/attributeTypes/all"});return n}),define("collections/AttributeTypePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/AttributeTypeModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/AttributeTypeModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/attributeTypes",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/attributeType/tpl/PageAttributeTypeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- AttributeType´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar AttributeType</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar AttributeType</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formAttributeTypeFilter">\r\n					<br>\r\n							<div id="groupInputClassName" class="form-group">\r\n								<label class="control-label" for="inputClassName">Nome</label>\r\n								<input type="text" id="inputClassName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputFormat" class="form-group">\r\n								<label class="control-label" for="inputFormat">Formato</label>\r\n								<input type="text" id="inputFormat" placeholder="Pesquise pelo Formato"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newAttributeType" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/attributeType/PageAttributeType",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/attributeType/tpl/FormAttributeTypeTemplate.html","models/AttributeTypeModel","collections/AttributeTypeCollection","collections/AttributeTypePageCollection","text!views/attributeType/tpl/PageAttributeTypeTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/attributeType/tpl/FormAttributeTypeTemplate.html"),e("models/AttributeTypeModel"),e("collections/AttributeTypeCollection"),e("collections/AttributeTypePageCollection")),l=e("text!views/attributeType/tpl/PageAttributeTypeTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryAttributeType","click 	#reset":"_resetAttributeType",keypress:"treatKeypress"},ui:{inputClassName:"#inputClassName",inputFormat:"#inputFormat",form:"#formAttributeTypeFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryAttributeType())},initialize:function(){var e=this;this.attributeTypes=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.attributeTypes}),this.counter=new a({collection:this.attributeTypes}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.attributeTypes,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.attributeTypes.getFirstPage({success:function(){console.info("Primeira pagina do grid attributeType")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryAttributeType:function(){this.attributeTypes.filterQueryParams={className:r.escapeById("inputClassName"),format:r.escapeById("inputFormat")},this.attributeTypes.fetch({success:function(){console.info("Consulta para o grid attributeType")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetAttributeType:function(){this.ui.form.get(0).reset(),this.attributeTypes.reset()},_getColumns:function(){var e=[{name:"className",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"format",editable:!1,sortable:!0,label:"Formato",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editAttributeType/"+e.get("id")},_editModel:function(){}});return c}),define("views/attributeType/FormAttributeType",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/attributeType/tpl/FormAttributeTypeTemplate.html","models/AttributeTypeModel","collections/AttributeTypeCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/attributeType/tpl/FormAttributeTypeTemplate.html")),a=(e("models/AttributeTypeModel"),e("collections/AttributeTypeCollection"),i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputClassName:"#inputClassName",inputFormat:"#inputFormat",form:"#formAttributeType"},initialize:function(){this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","AttributeType salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/attributeTypes")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputClassName"),n.clear("inputFormat")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,className:n.escapeById("inputClassName"),format:n.escapeById("inputFormat")}),t}}));return a}),define("text!views/entity/tpl/FormEntityTemplate.html",[],function(){return'<!-- generated: 30/08/2015 14:17:03 -->\r\n<!-- Entity´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Entity</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Entity</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formEntity">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Name</label>\r\n						<input type="text" id="inputName" placeholder="Name" value="{{name}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputDisplayName" class="form-group">\r\n						<label class="control-label" for="inputDisplayName">DisplayName</label>\r\n						<input type="text" id="inputDisplayName" placeholder="DisplayName" value="{{displayName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputTableName" class="form-group">\r\n						<label class="control-label" for="inputTableName">TableName</label>\r\n						<input type="text" id="inputTableName" placeholder="TableName" value="{{tableName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputHasOwner" class="form-group">\r\n						<label class="control-label" for="inputHasOwner">HasOwner</label>\r\n						<input type="text" id="inputHasOwner" placeholder="HasOwner" value="{{hasOwner}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputHasMobile" class="form-group">\r\n						<label class="control-label" for="inputHasMobile">HasMobile</label>\r\n						<input type="text" id="inputHasMobile" placeholder="HasMobile" value="{{hasMobile}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputApplicationContainer" class="form-group">\r\n						<label class="control-label" for="inputApplication">Aplicação</label>\r\n						<div id="groupInputApplication" class="input-group">\r\n							<input id="inputApplicationId" type="hidden" class="form-control append-left" value="{{application && application.id}}" />\r\n							<input id="inputApplicationName"  placeholder="Escolha um Aplicação" type="text" class="form-control append-left" value="{{application && application.name}}" />\r\n							<div class="input-group-addon append-right" id="searchApplicationModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n\r\n					<div class="attributes-container panel"></div>					\r\n\r\n					<div class="relationships-container panel"></div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/entitys">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'applicationModal\'></div>\r\n'
}),define("text!views/entity/tpl/PageEntityTemplate.html",[],function(){return'<!-- generated: 30/08/2015 14:17:03 -->\r\n<!-- Entity´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Entity</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Entity</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formEntityFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Name</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Name"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDisplayName" class="form-group">\r\n								<label class="control-label" for="inputDisplayName">DisplayName</label>\r\n								<input type="text" id="inputDisplayName" placeholder="Pesquise pelo DisplayName"  class="form-control">\r\n							</div>\r\n							<div id="groupInputTableName" class="form-group">\r\n								<label class="control-label" for="inputTableName">TableName</label>\r\n								<input type="text" id="inputTableName" placeholder="Pesquise pelo TableName"  class="form-control">\r\n							</div>\r\n							<div id="groupInputHasOwner" class="form-group">\r\n								<label class="control-label" for="inputHasOwner">HasOwner</label>\r\n								<input type="text" id="inputHasOwner" placeholder="Pesquise pelo HasOwner"  class="form-control">\r\n							</div>\r\n							<div id="groupInputHasMobile" class="form-group">\r\n								<label class="control-label" for="inputHasMobile">HasMobile</label>\r\n								<input type="text" id="inputHasMobile" placeholder="Pesquise pelo HasMobile"  class="form-control">\r\n							</div>\r\n						<div id="groupInputApplicationContainer" class="form-group">\r\n							<label class="control-label" for="inputApplication">Aplicação</label>\r\n							<div id="groupInputApplication" class="input-group">\r\n								<input id="inputApplicationId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputApplicationName" placeholder="Pesquise pelo Aplicação"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchApplicationModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						\r\n						\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newEntity" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'applicationModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/ApplicationModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Application´s form -->\r\n<div class="modal fade" id="dialogApplication" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Application</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchApplication">\r\n							<div id="groupInputModalName" class="form-group">\r\n								<label class="control-label" for="inputModalName">Nome</label>\r\n								<input type="text" id="inputModalName" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalSkin" class="form-group">\r\n								<label class="control-label" for="inputModalSkin">Template</label>\r\n								<input type="text" id="inputModalSkin" placeholder="Template"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalRootPackage" class="form-group">\r\n								<label class="control-label" for="inputModalRootPackage">Pacote raiz</label>\r\n								<input type="text" id="inputModalRootPackage" placeholder="Pacote raiz"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinApplication">\r\n						<a href="javascript:void(0)" id="btnSearchApplication" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearApplication" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoApplicationDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-application" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-application" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/modalComponents/ApplicationModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/ApplicationModalTemplate.html","collections/ApplicationPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/ApplicationModalTemplate.html")),l=e("collections/ApplicationPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchApplication":"searchApplication","click #btnClearApplication":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-application",paginatorRegion:"#paginator-application"},ui:{inputModalName:"#inputModalName",inputModalSkin:"#inputModalSkin",inputModalRootPackage:"#inputModalRootPackage",form:"#formSearchApplication",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchApplication())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.applicationCollection=new l,this.applicationCollection.state.pageSize=5,this.applicationCollection.on("fetching",this._startFetch,this),this.applicationCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.applicationCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.applicationCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.applicationCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"skin",editable:!1,sortable:!0,label:"Template",cell:"string"},{name:"rootPackage",editable:!1,sortable:!0,label:"Pacote raiz",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalName"),r.clear("inputModalSkin"),r.clear("inputModalRootPackage"),r.scrollUpModal()},searchApplication:function(){this.applicationCollection.filterQueryParams={name:r.escapeById("inputModalName"),skin:r.escapeById("inputModalSkin"),rootPackage:r.escapeById("inputModalRootPackage")},this.applicationCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.applicationCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.applicationCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinApplication")}});return s}),define("views/entity/PageEntity",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/entity/tpl/FormEntityTemplate.html","models/EntityModel","collections/EntityCollection","collections/EntityPageCollection","text!views/entity/tpl/PageEntityTemplate.html","views/modalComponents/ApplicationModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/entity/tpl/FormEntityTemplate.html"),e("models/EntityModel"),e("collections/EntityCollection"),e("collections/EntityPageCollection")),c=e("text!views/entity/tpl/PageEntityTemplate.html"),d=e("views/modalComponents/ApplicationModal"),u=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchApplicationModalRegion:"#applicationModal"},events:{"click 	#query":"_queryEntity","click 	#reset":"_resetEntity","click #searchApplicationModal":"_showSearchApplicationModal",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputTableName:"#inputTableName",inputHasOwner:"#inputHasOwner",inputHasMobile:"#inputHasMobile",inputApplicationId:"#inputApplicationId",inputApplicationName:"#inputApplicationName",form:"#formEntityFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryEntity())},initialize:function(){var e=this;this.entitys=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.entitys}),this.counter=new o({collection:this.entitys}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.entitys,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.entitys.getFirstPage({success:function(){console.info("Primeira pagina do grid entity")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchApplicationModal=new d({onSelectModel:function(t){e._selectApplication(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchApplicationModalRegion.show(this.searchApplicationModal)})},_queryEntity:function(){this.entitys.filterQueryParams={name:r.escapeById("inputName"),displayName:r.escapeById("inputDisplayName"),tableName:r.escapeById("inputTableName"),hasOwner:r.escapeById("inputHasOwner"),hasMobile:r.escapeById("inputHasMobile"),application:r.escapeById("inputApplicationId")},this.entitys.fetch({success:function(){console.info("Consulta para o grid entity")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetEntity:function(){this.ui.form.get(0).reset(),this.entitys.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Name",cell:"string"},{name:"displayName",editable:!1,sortable:!0,label:"DisplayName",cell:"string"},{name:"tableName",editable:!1,sortable:!0,label:"TableName",cell:"string"},{name:"hasOwner",editable:!1,sortable:!0,label:"HasOwner",cell:"string"},{name:"hasMobile",editable:!1,sortable:!0,label:"HasMobile",cell:"string"},{name:"application.name",editable:!1,sortable:!0,label:"Aplicação",cell:a.extend({fieldName:"application.name"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editEntity/"+e.get("id")},_editModel:function(){},_showSearchApplicationModal:function(){this.searchApplicationModal.showPage()},_selectApplication:function(e){this.searchApplicationModal.hidePage(),this.ui.inputApplicationId.val(e.get("id")),this.ui.inputApplicationName.val(e.get("name"))}});return u}),define("text!views/attribute/tpl/ModalMultiSelectAttributeTemplate.html",[],function(){return'<div class="modal fade" id="myModalAttribute" tabindex="-1" role="dialog" aria-labelledby="modalAttributes" aria-hidden="true" style="display: none;">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n					<span aria-hidden="true">&times;</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">attribute</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="container-fluid">\r\n					<div id="messages"></div>\r\n					<div class="row">\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline ">\r\n							<div id="grid-attributes-modal" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="paginator-attributes-modal" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/attribute/ModalMultiSelectAttribute",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","views/components/CustomNumberCell","utilities/utils","collections/AttributePageCollection","text!views/attribute/tpl/ModalMultiSelectAttributeTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=e("views/components/CustomNumberCell"),a=(e("utilities/utils"),e("collections/AttributePageCollection")),o=e("text!views/attribute/tpl/ModalMultiSelectAttributeTemplate.html"),s=n.LayoutView.extend({template:t.template(o),regions:{gridRegion:"#grid-attributes-modal",paginatorRegion:"#paginator-attributes-modal"},events:{"click .btnOk":"close"},ui:{btnOk:".btnOk"},initialize:function(){var e=this;this.projetoAttributes=this.collection,this.attributes=new a,this.attributes.on("fetched",this.endFetch,this),this.attributes.on("backgrid:selected",this.selectModel,this),this.grid=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Nenhum registro para escolha",collection:this.attributes}),this.paginator=new i.Extension.Paginator({columns:this._getColumns(),collection:this.attributes,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.attributes.getFirstPage({success:function(){console.info("Primeira pagina do grid attribute")},error:function(e,t){console.error(t.responseText||t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.paginatorRegion.show(e.paginator)})},selectModel:function(e,t){t?this.projetoAttributes.add(e):this.projetoAttributes.remove(e)},endFetch:function(){var e=this;this.attributes.each(function(t){e.projetoAttributes.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},clear:function(){this.grid.$el.find("input[type=checkbox]").prop("checked",!1)},_getColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"Nome apresentado na tela",cell:"string"},{name:"maxLen",editable:!1,sortable:!1,label:"Tamanho máximo",cell:r.extend({})},{name:"tableFieldName",editable:!1,sortable:!1,label:"Nome da coluna na tabela",cell:"string"},{name:"masc",editable:!1,sortable:!1,label:"Formato de Máscara",cell:"string"},{name:"defaultValue",editable:!1,sortable:!1,label:"Valor padrão",cell:"string"},{name:"placeholder",editable:!1,sortable:!1,label:"Placeholder",cell:"string"},{name:"required",editable:!1,sortable:!1,label:"Obrigatório",cell:"string"},{name:"unique",editable:!1,sortable:!1,label:"Único",cell:"string"}];return e}});return s}),define("text!views/attribute/tpl/MultiSelectAttributeTemplate.html",[],function(){return'<div class="panel panel-default plain toggle ">\r\n	<div class="panel-heading">\r\n		<span class="panel-title">\r\n			<span class="pull-left"> Attributes &nbsp;&nbsp;&nbsp;</span>\r\n		</span>\r\n		<span>\r\n			<a href="#myModalAttribute" class="btn btn-info btn-xs" data-toggle="modal">\r\n				<i class="fa  fa-plus-square">&nbsp;&nbsp;Add/Remove Attribute</i>\r\n			</a>\r\n		</span>\r\n		<div class="panel-controls panel-controls-hide" style="display: none;">\r\n			<a href="javascript:void(-1)" class="toggle panel-minimize">\r\n				<i class="im-minus"></i>\r\n			</a>\r\n		</div>\r\n	</div>\r\n	<div class="panel-body" style="border: none">\r\n		<div id="gridMultiselectAttributes" class="table-responsive"></div>\r\n	</div>\r\n</div>\r\n<div id=\'modalMultiSelectAttributes\'></div>'}),define("views/attribute/MultiSelectAttribute",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","utilities/utils","models/BaseModel","views/components/CustomNumberCell","views/attribute/ModalMultiSelectAttribute","text!views/attribute/tpl/MultiSelectAttributeTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("utilities/utils"),e("models/BaseModel"),e("views/components/CustomNumberCell")),a=e("views/attribute/ModalMultiSelectAttribute"),o=e("text!views/attribute/tpl/MultiSelectAttributeTemplate.html"),s=n.LayoutView.extend({template:t.template(o),regions:{modalMultiSelectAttributeRegion:"#modalMultiSelectAttributes",gridAttributesModalRegion:"#gridMultiselectAttributes"},initialize:function(){var e=this;this.attributes=this.collection,this.gridAttributes=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros adicionados",collection:this.attributes}),this.modalMultiSelectAttribute=new a({collection:this.collection}),this.on("show",function(){e.modalMultiSelectAttributeRegion.show(e.modalMultiSelectAttribute),e.gridAttributesModalRegion.show(e.gridAttributes)})},clear:function(){this.modalMultiSelectAttribute.clear()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"Nome apresentado na tela",cell:"string"},{name:"maxLen",editable:!1,sortable:!1,label:"Tamanho máximo",cell:r.extend({})},{name:"tableFieldName",editable:!1,sortable:!1,label:"Nome da coluna na tabela",cell:"string"},{name:"masc",editable:!1,sortable:!1,label:"Formato de Máscara",cell:"string"},{name:"defaultValue",editable:!1,sortable:!1,label:"Valor padrão",cell:"string"},{name:"placeholder",editable:!1,sortable:!1,label:"Placeholder",cell:"string"},{name:"required",editable:!1,sortable:!1,label:"Obrigatório",cell:"string"},{name:"unique",editable:!1,sortable:!1,label:"Único",cell:"string"}];return e}});return s}),define("collections/RelationshipPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/RelationshipModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/RelationshipModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/relationships",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/relationship/tpl/ModalMultiSelectRelationshipTemplate.html",[],function(){return'<div class="modal fade" id="myModalRelationship" tabindex="-1" role="dialog" aria-labelledby="modalRelationships" aria-hidden="true" style="display: none;">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n					<span aria-hidden="true">&times;</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">relationship</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="container-fluid">\r\n					<div id="messages"></div>\r\n					<div class="row">\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline ">\r\n							<div id="grid-relationships-modal" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="paginator-relationships-modal" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/relationship/ModalMultiSelectRelationship",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","views/components/CustomNumberCell","utilities/utils","collections/RelationshipPageCollection","text!views/relationship/tpl/ModalMultiSelectRelationshipTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("views/components/CustomNumberCell"),e("utilities/utils"),e("collections/RelationshipPageCollection")),a=e("text!views/relationship/tpl/ModalMultiSelectRelationshipTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{gridRegion:"#grid-relationships-modal",paginatorRegion:"#paginator-relationships-modal"},events:{"click .btnOk":"close"},ui:{btnOk:".btnOk"},initialize:function(){var e=this;this.projetoRelationships=this.collection,this.relationships=new r,this.relationships.on("fetched",this.endFetch,this),this.relationships.on("backgrid:selected",this.selectModel,this),this.grid=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Nenhum registro para escolha",collection:this.relationships}),this.paginator=new i.Extension.Paginator({columns:this._getColumns(),collection:this.relationships,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.relationships.getFirstPage({success:function(){console.info("Primeira pagina do grid relationship")},error:function(e,t){console.error(t.responseText||t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.paginatorRegion.show(e.paginator)})},selectModel:function(e,t){t?this.projetoRelationships.add(e):this.projetoRelationships.remove(e)},endFetch:function(){var e=this;this.relationships.each(function(t){e.projetoRelationships.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},clear:function(){this.grid.$el.find("input[type=checkbox]").prop("checked",!1)},_getColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"Nome apresentado na tela",cell:"string"},{name:"ownerName",editable:!1,sortable:!1,label:"Dono do relacionamento",cell:"string"},{name:"model",editable:!1,sortable:!1,label:"Modelo",cell:"string"},{name:"uniDirecional",editable:!1,sortable:!1,label:"É unidirecional",cell:"string"}];return e}});return o}),define("text!views/relationship/tpl/MultiSelectRelationshipTemplate.html",[],function(){return'<div class="panel panel-default plain toggle ">\r\n	<div class="panel-heading">\r\n		<span class="panel-title">\r\n			<span class="pull-left"> Relationships &nbsp;&nbsp;&nbsp;</span>\r\n		</span>\r\n		<span>\r\n			<a href="#myModalRelationship" class="btn btn-info btn-xs" data-toggle="modal">\r\n				<i class="fa  fa-plus-square">&nbsp;&nbsp;Add/Remove Relationship</i>\r\n			</a>\r\n		</span>\r\n		<div class="panel-controls panel-controls-hide" style="display: none;">\r\n			<a href="javascript:void(-1)" class="toggle panel-minimize">\r\n				<i class="im-minus"></i>\r\n			</a>\r\n		</div>\r\n	</div>\r\n	<div class="panel-body" style="border: none">\r\n		<div id="gridMultiselectRelationships" class="table-responsive"></div>\r\n	</div>\r\n</div>\r\n<div id=\'modalMultiSelectRelationships\'></div>'}),define("views/relationship/MultiSelectRelationship",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","utilities/utils","models/BaseModel","views/components/CustomNumberCell","views/relationship/ModalMultiSelectRelationship","text!views/relationship/tpl/MultiSelectRelationshipTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("utilities/utils"),e("models/BaseModel"),e("views/components/CustomNumberCell"),e("views/relationship/ModalMultiSelectRelationship")),a=e("text!views/relationship/tpl/MultiSelectRelationshipTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{modalMultiSelectRelationshipRegion:"#modalMultiSelectRelationships",gridRelationshipsModalRegion:"#gridMultiselectRelationships"},initialize:function(){var e=this;this.relationships=this.collection,this.gridRelationships=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros adicionados",collection:this.relationships}),this.modalMultiSelectRelationship=new r({collection:this.collection}),this.on("show",function(){e.modalMultiSelectRelationshipRegion.show(e.modalMultiSelectRelationship),e.gridRelationshipsModalRegion.show(e.gridRelationships)})},clear:function(){this.modalMultiSelectRelationship.clear()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!1,label:"Nome apresentado na tela",cell:"string"},{name:"ownerName",editable:!1,sortable:!1,label:"Dono do relacionamento",cell:"string"},{name:"model",editable:!1,sortable:!1,label:"Modelo",cell:"string"},{name:"uniDirecional",editable:!1,sortable:!1,label:"É unidirecional",cell:"string"}];return e}});return o}),define("views/entity/FormEntity",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/entity/tpl/FormEntityTemplate.html","models/EntityModel","collections/EntityCollection","views/modalComponents/ApplicationModal","collections/AttributeCollection","views/attribute/MultiSelectAttribute","collections/RelationshipCollection","views/relationship/MultiSelectRelationship"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/entity/tpl/FormEntityTemplate.html")),a=(e("models/EntityModel"),e("collections/EntityCollection"),e("views/modalComponents/ApplicationModal")),o=e("collections/AttributeCollection"),s=e("views/attribute/MultiSelectAttribute"),l=e("collections/RelationshipCollection"),c=e("views/relationship/MultiSelectRelationship"),d=i.LayoutView.extend({template:t.template(r),regions:{searchApplicationModalRegion:"#applicationModal",attributesRegion:".attributes-container",relationshipsRegion:".relationships-container"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchApplicationModal":"_showSearchApplicationModal"},ui:{inputId:"#inputId",inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputTableName:"#inputTableName",inputHasOwner:"#inputHasOwner",inputHasMobile:"#inputHasMobile",inputApplicationId:"#inputApplicationId",inputApplicationName:"#inputApplicationName",form:"#formEntity"},initialize:function(){var e=this;this.searchApplicationModal=new a({onSelectModel:function(t){e._selectApplication(t)}}),e.attributes=new o,e.attributes.add(this.model.get("attributes")),this.multiSelectAttribute=new s({collection:e.attributes}),e.relationships=new l,e.relationships.add(this.model.get("relationships")),this.multiSelectRelationship=new c({collection:e.relationships}),this.on("show",function(){this.searchApplicationModalRegion.show(this.searchApplicationModal),this.attributesRegion.show(this.multiSelectAttribute),this.relationshipsRegion.show(this.multiSelectRelationship),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})
})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Entity salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/entitys",!0)},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputDisplayName"),n.clear("inputTableName"),n.clear("inputHasOwner"),n.clear("inputHasMobile"),n.clear("inputApplicationId"),n.clear("inputApplicationName"),this.attributes.reset(),this.multiSelectAttribute.clear(),this.relationships.reset(),this.multiSelectRelationship.clear()},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),displayName:n.escapeById("inputDisplayName"),tableName:n.escapeById("inputTableName"),hasOwner:n.escapeById("inputHasOwner"),hasMobile:n.escapeById("inputHasMobile"),application:e._getApplication(),attributes:e.attributes.toJSON(),relationships:e.relationships.toJSON()}),t},_getApplication:function(){var e=n.escapeById("inputApplicationId"),t=n.escapeById("inputApplicationName"),i=null;return e&&t&&(i={id:e,name:t}),i},_showSearchApplicationModal:function(){this.searchApplicationModal.showPage()},_selectApplication:function(e){this.searchApplicationModal.hidePage(),this.ui.inputApplicationId.val(e.get("id")),this.ui.inputApplicationName.val(e.get("name"))}});return d}),define("text!views/relationship/tpl/FormRelationshipTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Relationship´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Relationship</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Relationship</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formRelationship">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputDisplayName" class="form-group">\r\n						<label class="control-label" for="inputDisplayName">Nome apresentado na tela</label>\r\n						<input type="text" id="inputDisplayName" placeholder="Nome apresentado na tela" value="{{displayName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputOwnerName" class="form-group">\r\n						<label class="control-label" for="inputOwnerName">Dono do relacionamento</label>\r\n						<input type="text" id="inputOwnerName" placeholder="Dono do relacionamento" value="{{ownerName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputModel" class="form-group">\r\n						<label class="control-label" for="inputModel">Modelo</label>\r\n						<input type="text" id="inputModel" placeholder="Modelo" value="{{model}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputUniDirecional" class="form-group">\r\n						<label class="control-label" for="inputUniDirecional">É unidirecional</label>\r\n						<input type="text" id="inputUniDirecional" placeholder="É unidirecional" value="{{uniDirecional}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputEntityContainer" class="form-group">\r\n						<label class="control-label" for="inputEntity">Entidade</label>\r\n						<div id="groupInputEntity" class="input-group">\r\n							<input id="inputEntityId" type="hidden" class="form-control append-left" value="{{entity && entity.id}}" />\r\n							<input id="inputEntityName"  placeholder="Escolha um Entidade" type="text" class="form-control append-left" value="{{entity && entity.name}}" />\r\n							<div class="input-group-addon append-right" id="searchEntityModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n					<div id="groupInputViewApproachContainer" class="form-group">\r\n						<label class="control-label" for="inputViewApproach">Tipo</label>\r\n						<div id="groupInputViewApproach" class="input-group">\r\n							<input id="inputViewApproachId" type="hidden" class="form-control append-left" value="{{viewApproach && viewApproach.id}}" />\r\n							<input id="inputViewApproachName"  placeholder="Escolha um Tipo" type="text" class="form-control append-left" value="{{viewApproach && viewApproach.name}}" />\r\n							<div class="input-group-addon append-right" id="searchViewApproachModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/relationships">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'entityModal\'></div>\r\n<div id=\'viewApproachModal\'></div>\r\n'}),define("text!views/relationship/tpl/PageRelationshipTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Relationship´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Relationship</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Relationship</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formRelationshipFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDisplayName" class="form-group">\r\n								<label class="control-label" for="inputDisplayName">Nome apresentado na tela</label>\r\n								<input type="text" id="inputDisplayName" placeholder="Pesquise pelo Nome apresentado na tela"  class="form-control">\r\n							</div>\r\n							<div id="groupInputOwnerName" class="form-group">\r\n								<label class="control-label" for="inputOwnerName">Dono do relacionamento</label>\r\n								<input type="text" id="inputOwnerName" placeholder="Pesquise pelo Dono do relacionamento"  class="form-control">\r\n							</div>\r\n							<div id="groupInputModel" class="form-group">\r\n								<label class="control-label" for="inputModel">Modelo</label>\r\n								<input type="text" id="inputModel" placeholder="Pesquise pelo Modelo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputUniDirecional" class="form-group">\r\n								<label class="control-label" for="inputUniDirecional">É unidirecional</label>\r\n								<input type="text" id="inputUniDirecional" placeholder="Pesquise pelo É unidirecional"  class="form-control">\r\n							</div>\r\n						<div id="groupInputEntityContainer" class="form-group">\r\n							<label class="control-label" for="inputEntity">Entidade</label>\r\n							<div id="groupInputEntity" class="input-group">\r\n								<input id="inputEntityId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputEntityName" placeholder="Pesquise pelo Entidade"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchEntityModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div id="groupInputViewApproachContainer" class="form-group">\r\n							<label class="control-label" for="inputViewApproach">Tipo</label>\r\n							<div id="groupInputViewApproach" class="input-group">\r\n								<input id="inputViewApproachId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputViewApproachName" placeholder="Pesquise pelo Tipo"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchViewApproachModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newRelationship" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'entityModal\'></div>\r\n<div id=\'viewApproachModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/ViewApproachModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal ViewApproach´s form -->\r\n<div class="modal fade" id="dialogViewApproach" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de ViewApproach</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchViewApproach">\r\n							<div id="groupInputModalType" class="form-group">\r\n								<label class="control-label" for="inputModalType">Tipo</label>\r\n								<input type="text" id="inputModalType" placeholder="Tipo"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalComboId" class="form-group">\r\n								<label class="control-label" for="inputModalComboId">Id visto no combo</label>\r\n								<input type="text" id="inputModalComboId" placeholder="Id visto no combo"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalComboName" class="form-group">\r\n								<label class="control-label" for="inputModalComboName">Nome visto no combo</label>\r\n								<input type="text" id="inputModalComboName" placeholder="Nome visto no combo"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalComboVal" class="form-group">\r\n								<label class="control-label" for="inputModalComboVal">Valor visto no combo</label>\r\n								<input type="text" id="inputModalComboVal" placeholder="Valor visto no combo"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalTextField" class="form-group">\r\n								<label class="control-label" for="inputModalTextField">Campo de texto no modal</label>\r\n								<input type="text" id="inputModalTextField" placeholder="Campo de texto no modal"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalHiddenField" class="form-group">\r\n								<label class="control-label" for="inputModalHiddenField">Campo de escondido do modal</label>\r\n								<input type="text" id="inputModalHiddenField" placeholder="Campo de escondido do modal"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinViewApproach">\r\n						<a href="javascript:void(0)" id="btnSearchViewApproach" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearViewApproach" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoViewApproachDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-viewApproach" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-viewApproach" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("models/ViewApproachModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/viewApproachs",defaults:{id:null,type:"",comboId:"",comboName:"",comboVal:"",textField:"",hiddenField:"",attribute:null,relationship:null}});return i}),define("collections/ViewApproachPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ViewApproachModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ViewApproachModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/viewApproachs",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("views/modalComponents/ViewApproachModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/ViewApproachModalTemplate.html","collections/ViewApproachPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/ViewApproachModalTemplate.html")),l=e("collections/ViewApproachPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchViewApproach":"searchViewApproach","click #btnClearViewApproach":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-viewApproach",paginatorRegion:"#paginator-viewApproach"},ui:{inputModalType:"#inputModalType",inputModalComboId:"#inputModalComboId",inputModalComboName:"#inputModalComboName",inputModalComboVal:"#inputModalComboVal",inputModalTextField:"#inputModalTextField",inputModalHiddenField:"#inputModalHiddenField",form:"#formSearchViewApproach",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchViewApproach())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.viewApproachCollection=new l,this.viewApproachCollection.state.pageSize=5,this.viewApproachCollection.on("fetching",this._startFetch,this),this.viewApproachCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.viewApproachCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.viewApproachCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.viewApproachCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"type",editable:!1,sortable:!0,label:"Tipo",cell:"string"},{name:"comboId",editable:!1,sortable:!0,label:"Id visto no combo",cell:"string"},{name:"comboName",editable:!1,sortable:!0,label:"Nome visto no combo",cell:"string"},{name:"comboVal",editable:!1,sortable:!0,label:"Valor visto no combo",cell:"string"},{name:"textField",editable:!1,sortable:!0,label:"Campo de texto no modal",cell:"string"},{name:"hiddenField",editable:!1,sortable:!0,label:"Campo de escondido do modal",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalType"),r.clear("inputModalComboId"),r.clear("inputModalComboName"),r.clear("inputModalComboVal"),r.clear("inputModalTextField"),r.clear("inputModalHiddenField"),r.scrollUpModal()},searchViewApproach:function(){this.viewApproachCollection.filterQueryParams={type:r.escapeById("inputModalType"),comboId:r.escapeById("inputModalComboId"),comboName:r.escapeById("inputModalComboName"),comboVal:r.escapeById("inputModalComboVal"),textField:r.escapeById("inputModalTextField"),hiddenField:r.escapeById("inputModalHiddenField")},this.viewApproachCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.viewApproachCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.viewApproachCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinViewApproach")}});return s}),define("views/relationship/PageRelationship",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/relationship/tpl/FormRelationshipTemplate.html","models/RelationshipModel","collections/RelationshipCollection","collections/RelationshipPageCollection","text!views/relationship/tpl/PageRelationshipTemplate.html","views/modalComponents/EntityModal","views/modalComponents/ViewApproachModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/relationship/tpl/FormRelationshipTemplate.html"),e("models/RelationshipModel"),e("collections/RelationshipCollection"),e("collections/RelationshipPageCollection")),c=e("text!views/relationship/tpl/PageRelationshipTemplate.html"),d=e("views/modalComponents/EntityModal"),u=e("views/modalComponents/ViewApproachModal"),p=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchEntityModalRegion:"#entityModal",searchViewApproachModalRegion:"#viewApproachModal"},events:{"click 	#query":"_queryRelationship","click 	#reset":"_resetRelationship","click #searchEntityModal":"_showSearchEntityModal","click #searchViewApproachModal":"_showSearchViewApproachModal",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputOwnerName:"#inputOwnerName",inputModel:"#inputModel",inputUniDirecional:"#inputUniDirecional",inputEntityId:"#inputEntityId",inputEntityName:"#inputEntityName",inputViewApproachId:"#inputViewApproachId",inputViewApproachName:"#inputViewApproachName",form:"#formRelationshipFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryRelationship())},initialize:function(){var e=this;this.relationships=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.relationships}),this.counter=new o({collection:this.relationships}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.relationships,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.relationships.getFirstPage({success:function(){console.info("Primeira pagina do grid relationship")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchEntityModal=new d({onSelectModel:function(t){e._selectEntity(t)}}),this.searchViewApproachModal=new u({onSelectModel:function(t){e._selectViewApproach(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchEntityModalRegion.show(this.searchEntityModal),this.searchViewApproachModalRegion.show(this.searchViewApproachModal)})},_queryRelationship:function(){this.relationships.filterQueryParams={name:r.escapeById("inputName"),displayName:r.escapeById("inputDisplayName"),ownerName:r.escapeById("inputOwnerName"),model:r.escapeById("inputModel"),uniDirecional:r.escapeById("inputUniDirecional"),entity:r.escapeById("inputEntityId"),viewApproach:r.escapeById("inputViewApproachId")},this.relationships.fetch({success:function(){console.info("Consulta para o grid relationship")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetRelationship:function(){this.ui.form.get(0).reset(),this.relationships.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"displayName",editable:!1,sortable:!0,label:"Nome apresentado na tela",cell:"string"},{name:"ownerName",editable:!1,sortable:!0,label:"Dono do relacionamento",cell:"string"},{name:"model",editable:!1,sortable:!0,label:"Modelo",cell:"string"},{name:"uniDirecional",editable:!1,sortable:!0,label:"É unidirecional",cell:"string"},{name:"entity.name",editable:!1,sortable:!0,label:"Entidade",cell:a.extend({fieldName:"entity.name"})},{name:"viewApproach.name",editable:!1,sortable:!0,label:"Tipo",cell:a.extend({fieldName:"viewApproach.name"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editRelationship/"+e.get("id")},_editModel:function(){},_showSearchEntityModal:function(){this.searchEntityModal.showPage()},_selectEntity:function(e){this.searchEntityModal.hidePage(),this.ui.inputEntityId.val(e.get("id")),this.ui.inputEntityName.val(e.get("name"))},_showSearchViewApproachModal:function(){this.searchViewApproachModal.showPage()},_selectViewApproach:function(e){this.searchViewApproachModal.hidePage(),this.ui.inputViewApproachId.val(e.get("id")),this.ui.inputViewApproachName.val(e.get("name"))}});return p}),define("views/relationship/FormRelationship",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/relationship/tpl/FormRelationshipTemplate.html","models/RelationshipModel","collections/RelationshipCollection","views/modalComponents/EntityModal","views/modalComponents/ViewApproachModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/relationship/tpl/FormRelationshipTemplate.html")),a=(e("models/RelationshipModel"),e("collections/RelationshipCollection"),e("views/modalComponents/EntityModal")),o=e("views/modalComponents/ViewApproachModal"),s=i.LayoutView.extend({template:t.template(r),regions:{searchEntityModalRegion:"#entityModal",searchViewApproachModalRegion:"#viewApproachModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchEntityModal":"_showSearchEntityModal","click #searchViewApproachModal":"_showSearchViewApproachModal"},ui:{inputId:"#inputId",inputName:"#inputName",inputDisplayName:"#inputDisplayName",inputOwnerName:"#inputOwnerName",inputModel:"#inputModel",inputUniDirecional:"#inputUniDirecional",inputEntityId:"#inputEntityId",inputEntityName:"#inputEntityName",inputViewApproachId:"#inputViewApproachId",inputViewApproachName:"#inputViewApproachName",form:"#formRelationship"},initialize:function(){var e=this;this.searchEntityModal=new a({onSelectModel:function(t){e._selectEntity(t)}}),this.searchViewApproachModal=new o({onSelectModel:function(t){e._selectViewApproach(t)}}),this.on("show",function(){this.searchEntityModalRegion.show(this.searchEntityModal),this.searchViewApproachModalRegion.show(this.searchViewApproachModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Relationship salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/relationships")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputDisplayName"),n.clear("inputOwnerName"),n.clear("inputModel"),n.clear("inputUniDirecional"),n.clear("inputEntityId"),n.clear("inputEntityName"),n.clear("inputViewApproachId"),n.clear("inputViewApproachName")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),displayName:n.escapeById("inputDisplayName"),ownerName:n.escapeById("inputOwnerName"),model:n.escapeById("inputModel"),uniDirecional:n.escapeById("inputUniDirecional"),entity:e._getEntity(),viewApproach:e._getViewApproach()}),t},_getEntity:function(){var e=n.escapeById("inputEntityId"),t=n.escapeById("inputEntityName"),i=null;return e&&t&&(i={id:e,name:t}),i},_getViewApproach:function(){var e=n.escapeById("inputViewApproachId"),t=n.escapeById("inputViewApproachName"),i=null;return e&&t&&(i={id:e,name:t}),i},_showSearchEntityModal:function(){this.searchEntityModal.showPage()},_selectEntity:function(e){this.searchEntityModal.hidePage(),this.ui.inputEntityId.val(e.get("id")),this.ui.inputEntityName.val(e.get("name"))},_showSearchViewApproachModal:function(){this.searchViewApproachModal.showPage()},_selectViewApproach:function(e){this.searchViewApproachModal.hidePage(),this.ui.inputViewApproachId.val(e.get("id")),this.ui.inputViewApproachName.val(e.get("name"))}});return s}),define("text!views/viewApproach/tpl/FormViewApproachTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- ViewApproach´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar ViewApproach</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar ViewApproach</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formViewApproach">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputType" class="form-group">\r\n						<label class="control-label" for="inputType">Tipo</label>\r\n						<input type="text" id="inputType" placeholder="Tipo" value="{{type}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputComboId" class="form-group">\r\n						<label class="control-label" for="inputComboId">Id visto no combo</label>\r\n						<input type="text" id="inputComboId" placeholder="Id visto no combo" value="{{comboId}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputComboName" class="form-group">\r\n						<label class="control-label" for="inputComboName">Nome visto no combo</label>\r\n						<input type="text" id="inputComboName" placeholder="Nome visto no combo" value="{{comboName}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputComboVal" class="form-group">\r\n						<label class="control-label" for="inputComboVal">Valor visto no combo</label>\r\n						<input type="text" id="inputComboVal" placeholder="Valor visto no combo" value="{{comboVal}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputTextField" class="form-group">\r\n						<label class="control-label" for="inputTextField">Campo de texto no modal</label>\r\n						<input type="text" id="inputTextField" placeholder="Campo de texto no modal" value="{{textField}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputHiddenField" class="form-group">\r\n						<label class="control-label" for="inputHiddenField">Campo de escondido do modal</label>\r\n						<input type="text" id="inputHiddenField" placeholder="Campo de escondido do modal" value="{{hiddenField}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/viewApproachs">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'
}),define("collections/ViewApproachCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ViewApproachModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ViewApproachModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/viewApproachs/all"});return n}),define("text!views/viewApproach/tpl/PageViewApproachTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- ViewApproach´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar ViewApproach</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar ViewApproach</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formViewApproachFilter">\r\n					<br>\r\n							<div id="groupInputType" class="form-group">\r\n								<label class="control-label" for="inputType">Tipo</label>\r\n								<input type="text" id="inputType" placeholder="Pesquise pelo Tipo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputComboId" class="form-group">\r\n								<label class="control-label" for="inputComboId">Id visto no combo</label>\r\n								<input type="text" id="inputComboId" placeholder="Pesquise pelo Id visto no combo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputComboName" class="form-group">\r\n								<label class="control-label" for="inputComboName">Nome visto no combo</label>\r\n								<input type="text" id="inputComboName" placeholder="Pesquise pelo Nome visto no combo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputComboVal" class="form-group">\r\n								<label class="control-label" for="inputComboVal">Valor visto no combo</label>\r\n								<input type="text" id="inputComboVal" placeholder="Pesquise pelo Valor visto no combo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputTextField" class="form-group">\r\n								<label class="control-label" for="inputTextField">Campo de texto no modal</label>\r\n								<input type="text" id="inputTextField" placeholder="Pesquise pelo Campo de texto no modal"  class="form-control">\r\n							</div>\r\n							<div id="groupInputHiddenField" class="form-group">\r\n								<label class="control-label" for="inputHiddenField">Campo de escondido do modal</label>\r\n								<input type="text" id="inputHiddenField" placeholder="Pesquise pelo Campo de escondido do modal"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newViewApproach" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/viewApproach/PageViewApproach",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/viewApproach/tpl/FormViewApproachTemplate.html","models/ViewApproachModel","collections/ViewApproachCollection","collections/ViewApproachPageCollection","text!views/viewApproach/tpl/PageViewApproachTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/viewApproach/tpl/FormViewApproachTemplate.html"),e("models/ViewApproachModel"),e("collections/ViewApproachCollection"),e("collections/ViewApproachPageCollection")),l=e("text!views/viewApproach/tpl/PageViewApproachTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryViewApproach","click 	#reset":"_resetViewApproach",keypress:"treatKeypress"},ui:{inputType:"#inputType",inputComboId:"#inputComboId",inputComboName:"#inputComboName",inputComboVal:"#inputComboVal",inputTextField:"#inputTextField",inputHiddenField:"#inputHiddenField",form:"#formViewApproachFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryViewApproach())},initialize:function(){var e=this;this.viewApproachs=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.viewApproachs}),this.counter=new a({collection:this.viewApproachs}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.viewApproachs,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.viewApproachs.getFirstPage({success:function(){console.info("Primeira pagina do grid viewApproach")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryViewApproach:function(){this.viewApproachs.filterQueryParams={type:r.escapeById("inputType"),comboId:r.escapeById("inputComboId"),comboName:r.escapeById("inputComboName"),comboVal:r.escapeById("inputComboVal"),textField:r.escapeById("inputTextField"),hiddenField:r.escapeById("inputHiddenField")},this.viewApproachs.fetch({success:function(){console.info("Consulta para o grid viewApproach")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetViewApproach:function(){this.ui.form.get(0).reset(),this.viewApproachs.reset()},_getColumns:function(){var e=[{name:"type",editable:!1,sortable:!0,label:"Tipo",cell:"string"},{name:"comboId",editable:!1,sortable:!0,label:"Id visto no combo",cell:"string"},{name:"comboName",editable:!1,sortable:!0,label:"Nome visto no combo",cell:"string"},{name:"comboVal",editable:!1,sortable:!0,label:"Valor visto no combo",cell:"string"},{name:"textField",editable:!1,sortable:!0,label:"Campo de texto no modal",cell:"string"},{name:"hiddenField",editable:!1,sortable:!0,label:"Campo de escondido do modal",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editViewApproach/"+e.get("id")},_editModel:function(){}});return c}),define("views/viewApproach/FormViewApproach",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/viewApproach/tpl/FormViewApproachTemplate.html","models/ViewApproachModel","collections/ViewApproachCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/viewApproach/tpl/FormViewApproachTemplate.html")),a=(e("models/ViewApproachModel"),e("collections/ViewApproachCollection"),i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputType:"#inputType",inputComboId:"#inputComboId",inputComboName:"#inputComboName",inputComboVal:"#inputComboVal",inputTextField:"#inputTextField",inputHiddenField:"#inputHiddenField",form:"#formViewApproach"},initialize:function(){this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","ViewApproach salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/viewApproachs")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputType"),n.clear("inputComboId"),n.clear("inputComboName"),n.clear("inputComboVal"),n.clear("inputTextField"),n.clear("inputHiddenField")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,type:n.escapeById("inputType"),comboId:n.escapeById("inputComboId"),comboName:n.escapeById("inputComboName"),comboVal:n.escapeById("inputComboVal"),textField:n.escapeById("inputTextField"),hiddenField:n.escapeById("inputHiddenField")}),t}}));return a}),define("text!views/bairro/tpl/FormBairroTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Bairro´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Bairro</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Bairro</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formBairro">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputCidadeContainer" class="form-group">\r\n						<label class="control-label" for="inputCidade">Cidade</label>\r\n						<div id="groupInputCidade" class="input-group">\r\n							<input id="inputCidadeId" type="hidden" class="form-control append-left" value="{{cidade && cidade.id}}" />\r\n							<input id="inputCidadeNome"  placeholder="Escolha um Cidade" type="text" class="form-control append-left" value="{{cidade && cidade.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchCidadeModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n					<div id="groupInputEstadoContainer" class="form-group">\r\n						<label class="control-label" for="inputEstado">Estado</label>\r\n						<div id="groupInputEstado" class="input-group">\r\n							<input id="inputEstadoId" type="hidden" class="form-control append-left" value="{{estado && estado.id}}" />\r\n							<input id="inputEstadoNome"  placeholder="Escolha um Estado" type="text" class="form-control append-left" value="{{estado && estado.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/bairros">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'cidadeModal\'></div>\r\n<div id=\'estadoModal\'></div>\r\n'}),define("models/BairroModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/bairros",defaults:{id:null,nome:"",cidade:null,estado:null}});return i}),define("collections/BairroCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/BairroModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/BairroModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/bairros/all"});return n}),define("collections/BairroPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BairroModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/BairroModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/bairros",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/bairro/tpl/PageBairroTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Bairro´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Bairro</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Bairro</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formBairroFilter">\r\n					<br>\r\n							<div id="groupInputNome" class="form-group">\r\n								<label class="control-label" for="inputNome">Nome</label>\r\n								<input type="text" id="inputNome" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n						<div id="groupInputCidadeContainer" class="form-group">\r\n							<label class="control-label" for="inputCidade">Cidade</label>\r\n							<div id="groupInputCidade" class="input-group">\r\n								<input id="inputCidadeId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputCidadeNome" placeholder="Pesquise pelo Cidade"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchCidadeModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div id="groupInputEstadoContainer" class="form-group">\r\n							<label class="control-label" for="inputEstado">Estado</label>\r\n							<div id="groupInputEstado" class="input-group">\r\n								<input id="inputEstadoId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputEstadoNome" placeholder="Pesquise pelo Estado"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newBairro" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'cidadeModal\'></div>\r\n<div id=\'estadoModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/CidadeModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Cidade´s form -->\r\n<div class="modal fade" id="dialogCidade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Cidade</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchCidade">\r\n							<div id="groupInputModalNome" class="form-group">\r\n								<label class="control-label" for="inputModalNome">Nome</label>\r\n								<input type="text" id="inputModalNome" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalCep" class="form-group">\r\n								<label class="control-label" for="inputModalCep">Cep</label>\r\n								<input type="text" id="inputModalCep" placeholder="Cep"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinCidade">\r\n						<a href="javascript:void(0)" id="btnSearchCidade" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearCidade" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoCidadeDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-cidade" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-cidade" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("models/CidadeModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/cidades",defaults:{id:null,nome:"",cep:"",estado:null}});return i}),define("collections/CidadePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/CidadeModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/CidadeModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/cidades",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("views/modalComponents/CidadeModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/CidadeModalTemplate.html","collections/CidadePageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/CidadeModalTemplate.html")),l=e("collections/CidadePageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchCidade":"searchCidade","click #btnClearCidade":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-cidade",paginatorRegion:"#paginator-cidade"},ui:{inputModalNome:"#inputModalNome",inputModalCep:"#inputModalCep",form:"#formSearchCidade",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchCidade())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.cidadeCollection=new l,this.cidadeCollection.state.pageSize=5,this.cidadeCollection.on("fetching",this._startFetch,this),this.cidadeCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.cidadeCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.cidadeCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.cidadeCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"cep",editable:!1,sortable:!0,label:"Cep",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalNome"),r.clear("inputModalCep"),r.scrollUpModal()},searchCidade:function(){this.cidadeCollection.filterQueryParams={nome:r.escapeById("inputModalNome"),cep:r.escapeById("inputModalCep")},this.cidadeCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.cidadeCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.cidadeCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinCidade")}});return s}),define("text!views/modalComponents/tpl/EstadoModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Estado´s form -->\r\n<div class="modal fade" id="dialogEstado" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Estado</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchEstado">\r\n							<div id="groupInputModalNome" class="form-group">\r\n								<label class="control-label" for="inputModalNome">Nome</label>\r\n								<input type="text" id="inputModalNome" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalFaixaCep1Ini" class="form-group">\r\n								<label class="control-label" for="inputModalFaixaCep1Ini">Faixa_cep1_ini</label>\r\n								<input type="text" id="inputModalFaixaCep1Ini" placeholder="faixa_cep1_ini"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalFaixaCep1Fim" class="form-group">\r\n								<label class="control-label" for="inputModalFaixaCep1Fim">Faixa_cep1_fim</label>\r\n								<input type="text" id="inputModalFaixaCep1Fim" placeholder="faixa_cep1_fim"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalFaixaCep2Ini" class="form-group">\r\n								<label class="control-label" for="inputModalFaixaCep2Ini">Faixa_cep2_ini</label>\r\n								<input type="text" id="inputModalFaixaCep2Ini" placeholder="faixa_cep2_ini"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalFaixaCep2Fim" class="form-group">\r\n								<label class="control-label" for="inputModalFaixaCep2Fim">Faixa_cep2_fim</label>\r\n								<input type="text" id="inputModalFaixaCep2Fim" placeholder="faixa_cep2_fim"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinEstado">\r\n						<a href="javascript:void(0)" id="btnSearchEstado" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearEstado" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoEstadoDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-estado" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-estado" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("models/EstadoModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/estados",defaults:{id:null,nome:"",faixaCep1Ini:"",faixaCep1Fim:"",faixaCep2Ini:"",faixaCep2Fim:""}});return i}),define("collections/EstadoPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/EstadoModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/EstadoModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/estados",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("views/modalComponents/EstadoModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/EstadoModalTemplate.html","collections/EstadoPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/EstadoModalTemplate.html")),l=e("collections/EstadoPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchEstado":"searchEstado","click #btnClearEstado":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-estado",paginatorRegion:"#paginator-estado"},ui:{inputModalNome:"#inputModalNome",inputModalFaixaCep1Ini:"#inputModalFaixaCep1Ini",inputModalFaixaCep1Fim:"#inputModalFaixaCep1Fim",inputModalFaixaCep2Ini:"#inputModalFaixaCep2Ini",inputModalFaixaCep2Fim:"#inputModalFaixaCep2Fim",form:"#formSearchEstado",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchEstado())
},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.estadoCollection=new l,this.estadoCollection.state.pageSize=5,this.estadoCollection.on("fetching",this._startFetch,this),this.estadoCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.estadoCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.estadoCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.estadoCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"faixaCep1Ini",editable:!1,sortable:!0,label:"Faixa_cep1_ini",cell:"string"},{name:"faixaCep1Fim",editable:!1,sortable:!0,label:"Faixa_cep1_fim",cell:"string"},{name:"faixaCep2Ini",editable:!1,sortable:!0,label:"Faixa_cep2_ini",cell:"string"},{name:"faixaCep2Fim",editable:!1,sortable:!0,label:"Faixa_cep2_fim",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalNome"),r.clear("inputModalFaixaCep1Ini"),r.clear("inputModalFaixaCep1Fim"),r.clear("inputModalFaixaCep2Ini"),r.clear("inputModalFaixaCep2Fim"),r.scrollUpModal()},searchEstado:function(){this.estadoCollection.filterQueryParams={nome:r.escapeById("inputModalNome"),faixaCep1Ini:r.escapeById("inputModalFaixaCep1Ini"),faixaCep1Fim:r.escapeById("inputModalFaixaCep1Fim"),faixaCep2Ini:r.escapeById("inputModalFaixaCep2Ini"),faixaCep2Fim:r.escapeById("inputModalFaixaCep2Fim")},this.estadoCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.estadoCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.estadoCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinEstado")}});return s}),define("views/bairro/PageBairro",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/bairro/tpl/FormBairroTemplate.html","models/BairroModel","collections/BairroCollection","collections/BairroPageCollection","text!views/bairro/tpl/PageBairroTemplate.html","views/modalComponents/CidadeModal","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/bairro/tpl/FormBairroTemplate.html"),e("models/BairroModel"),e("collections/BairroCollection"),e("collections/BairroPageCollection")),c=e("text!views/bairro/tpl/PageBairroTemplate.html"),d=e("views/modalComponents/CidadeModal"),u=e("views/modalComponents/EstadoModal"),p=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchCidadeModalRegion:"#cidadeModal",searchEstadoModalRegion:"#estadoModal"},events:{"click 	#query":"_queryBairro","click 	#reset":"_resetBairro","click #searchCidadeModal":"_showSearchCidadeModal","click #searchEstadoModal":"_showSearchEstadoModal",keypress:"treatKeypress"},ui:{inputNome:"#inputNome",inputCidadeId:"#inputCidadeId",inputCidadeNome:"#inputCidadeNome",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formBairroFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryBairro())},initialize:function(){var e=this;this.bairros=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.bairros}),this.counter=new o({collection:this.bairros}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.bairros,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.bairros.getFirstPage({success:function(){console.info("Primeira pagina do grid bairro")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchCidadeModal=new d({onSelectModel:function(t){e._selectCidade(t)}}),this.searchEstadoModal=new u({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchCidadeModalRegion.show(this.searchCidadeModal),this.searchEstadoModalRegion.show(this.searchEstadoModal)})},_queryBairro:function(){this.bairros.filterQueryParams={nome:r.escapeById("inputNome"),cidade:r.escapeById("inputCidadeId"),estado:r.escapeById("inputEstadoId")},this.bairros.fetch({success:function(){console.info("Consulta para o grid bairro")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetBairro:function(){this.ui.form.get(0).reset(),this.bairros.reset()},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"cidade.nome",editable:!1,sortable:!0,label:"Cidade",cell:a.extend({fieldName:"cidade.nome"})},{name:"estado.nome",editable:!1,sortable:!0,label:"Estado",cell:a.extend({fieldName:"estado.nome"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editBairro/"+e.get("id")},_editModel:function(){},_showSearchCidadeModal:function(){this.searchCidadeModal.showPage()},_selectCidade:function(e){this.searchCidadeModal.hidePage(),this.ui.inputCidadeId.val(e.get("id")),this.ui.inputCidadeNome.val(e.get("nome"))},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return p}),define("views/bairro/FormBairro",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/bairro/tpl/FormBairroTemplate.html","models/BairroModel","collections/BairroCollection","views/modalComponents/CidadeModal","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/bairro/tpl/FormBairroTemplate.html")),a=(e("models/BairroModel"),e("collections/BairroCollection"),e("views/modalComponents/CidadeModal")),o=e("views/modalComponents/EstadoModal"),s=i.LayoutView.extend({template:t.template(r),regions:{searchCidadeModalRegion:"#cidadeModal",searchEstadoModalRegion:"#estadoModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchCidadeModal":"_showSearchCidadeModal","click #searchEstadoModal":"_showSearchEstadoModal"},ui:{inputId:"#inputId",inputNome:"#inputNome",inputCidadeId:"#inputCidadeId",inputCidadeNome:"#inputCidadeNome",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formBairro"},initialize:function(){var e=this;this.searchCidadeModal=new a({onSelectModel:function(t){e._selectCidade(t)}}),this.searchEstadoModal=new o({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){this.searchCidadeModalRegion.show(this.searchCidadeModal),this.searchEstadoModalRegion.show(this.searchEstadoModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Bairro salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/bairros")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputNome"),n.clear("inputCidadeId"),n.clear("inputCidadeNome"),n.clear("inputEstadoId"),n.clear("inputEstadoNome")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,nome:n.escapeById("inputNome"),cidade:e._getCidade(),estado:e._getEstado()}),t},_getCidade:function(){var e=n.escapeById("inputCidadeId"),t=n.escapeById("inputCidadeNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_getEstado:function(){var e=n.escapeById("inputEstadoId"),t=n.escapeById("inputEstadoNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_showSearchCidadeModal:function(){this.searchCidadeModal.showPage()},_selectCidade:function(e){this.searchCidadeModal.hidePage(),this.ui.inputCidadeId.val(e.get("id")),this.ui.inputCidadeNome.val(e.get("nome"))},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return s}),define("text!views/cep/tpl/FormCepTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cep´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Cep</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Cep</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formCep">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputLogradouro" class="form-group">\r\n						<label class="control-label" for="inputLogradouro">Logadouro</label>\r\n						<input type="text" id="inputLogradouro" placeholder="Logadouro" value="{{logradouro}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputNumero" class="form-group">\r\n						<label class="control-label" for="inputNumero">Numero</label>\r\n						<input type="text" id="inputNumero" placeholder="Numero" value="{{numero}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputBairroContainer" class="form-group">\r\n						<label class="control-label" for="inputBairro">Bairro</label>\r\n						<div id="groupInputBairro" class="input-group">\r\n							<input id="inputBairroId" type="hidden" class="form-control append-left" value="{{bairro && bairro.id}}" />\r\n							<input id="inputBairroNome"  placeholder="Escolha um Bairro" type="text" class="form-control append-left" value="{{bairro && bairro.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchBairroModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n					<div id="groupInputCidadeContainer" class="form-group">\r\n						<label class="control-label" for="inputCidade">Cidade</label>\r\n						<div id="groupInputCidade" class="input-group">\r\n							<input id="inputCidadeId" type="hidden" class="form-control append-left" value="{{cidade && cidade.id}}" />\r\n							<input id="inputCidadeNome"  placeholder="Escolha um Cidade" type="text" class="form-control append-left" value="{{cidade && cidade.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchCidadeModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n					<div id="groupInputEstadoContainer" class="form-group">\r\n						<label class="control-label" for="inputEstado">Estado</label>\r\n						<div id="groupInputEstado" class="input-group">\r\n							<input id="inputEstadoId" type="hidden" class="form-control append-left" value="{{estado && estado.id}}" />\r\n							<input id="inputEstadoNome"  placeholder="Escolha um Estado" type="text" class="form-control append-left" value="{{estado && estado.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/ceps">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'bairroModal\'></div>\r\n<div id=\'cidadeModal\'></div>\r\n<div id=\'estadoModal\'></div>\r\n'}),define("models/CepModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/ceps",defaults:{id:null,logradouro:"",numero:"",bairro:null,cidade:null,estado:null}});return i}),define("collections/CepCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/CepModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/CepModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/ceps/all"});return n}),define("collections/CepPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/CepModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/CepModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/ceps",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/cep/tpl/PageCepTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cep´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Cep</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Cep</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formCepFilter">\r\n					<br>\r\n							<div id="groupInputLogradouro" class="form-group">\r\n								<label class="control-label" for="inputLogradouro">Logadouro</label>\r\n								<input type="text" id="inputLogradouro" placeholder="Pesquise pelo Logadouro"  class="form-control">\r\n							</div>\r\n							<div id="groupInputNumero" class="form-group">\r\n								<label class="control-label" for="inputNumero">Numero</label>\r\n								<input type="text" id="inputNumero" placeholder="Pesquise pelo Numero"  class="form-control">\r\n							</div>\r\n						<div id="groupInputBairroContainer" class="form-group">\r\n							<label class="control-label" for="inputBairro">Bairro</label>\r\n							<div id="groupInputBairro" class="input-group">\r\n								<input id="inputBairroId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputBairroNome" placeholder="Pesquise pelo Bairro"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchBairroModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div id="groupInputCidadeContainer" class="form-group">\r\n							<label class="control-label" for="inputCidade">Cidade</label>\r\n							<div id="groupInputCidade" class="input-group">\r\n								<input id="inputCidadeId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputCidadeNome" placeholder="Pesquise pelo Cidade"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchCidadeModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div id="groupInputEstadoContainer" class="form-group">\r\n							<label class="control-label" for="inputEstado">Estado</label>\r\n							<div id="groupInputEstado" class="input-group">\r\n								<input id="inputEstadoId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputEstadoNome" placeholder="Pesquise pelo Estado"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newCep" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'bairroModal\'></div>\r\n<div id=\'cidadeModal\'></div>\r\n<div id=\'estadoModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/BairroModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Bairro´s form -->\r\n<div class="modal fade" id="dialogBairro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Bairro</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchBairro">\r\n							<div id="groupInputModalNome" class="form-group">\r\n								<label class="control-label" for="inputModalNome">Nome</label>\r\n								<input type="text" id="inputModalNome" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinBairro">\r\n						<a href="javascript:void(0)" id="btnSearchBairro" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearBairro" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoBairroDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-bairro" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-bairro" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/modalComponents/BairroModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/BairroModalTemplate.html","collections/BairroPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/BairroModalTemplate.html")),l=e("collections/BairroPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchBairro":"searchBairro","click #btnClearBairro":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-bairro",paginatorRegion:"#paginator-bairro"},ui:{inputModalNome:"#inputModalNome",form:"#formSearchBairro",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchBairro())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.bairroCollection=new l,this.bairroCollection.state.pageSize=5,this.bairroCollection.on("fetching",this._startFetch,this),this.bairroCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.bairroCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.bairroCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.bairroCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalNome"),r.scrollUpModal()},searchBairro:function(){this.bairroCollection.filterQueryParams={nome:r.escapeById("inputModalNome")},this.bairroCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.bairroCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.bairroCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinBairro")}});return s}),define("views/cep/PageCep",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/cep/tpl/FormCepTemplate.html","models/CepModel","collections/CepCollection","collections/CepPageCollection","text!views/cep/tpl/PageCepTemplate.html","views/modalComponents/BairroModal","views/modalComponents/CidadeModal","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/cep/tpl/FormCepTemplate.html"),e("models/CepModel"),e("collections/CepCollection"),e("collections/CepPageCollection")),c=e("text!views/cep/tpl/PageCepTemplate.html"),d=e("views/modalComponents/BairroModal"),u=e("views/modalComponents/CidadeModal"),p=e("views/modalComponents/EstadoModal"),h=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchBairroModalRegion:"#bairroModal",searchCidadeModalRegion:"#cidadeModal",searchEstadoModalRegion:"#estadoModal"},events:{"click 	#query":"_queryCep","click 	#reset":"_resetCep","click #searchBairroModal":"_showSearchBairroModal","click #searchCidadeModal":"_showSearchCidadeModal","click #searchEstadoModal":"_showSearchEstadoModal",keypress:"treatKeypress"},ui:{inputLogradouro:"#inputLogradouro",inputNumero:"#inputNumero",inputBairroId:"#inputBairroId",inputBairroNome:"#inputBairroNome",inputCidadeId:"#inputCidadeId",inputCidadeNome:"#inputCidadeNome",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formCepFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryCep())},initialize:function(){var e=this;this.ceps=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.ceps}),this.counter=new o({collection:this.ceps}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.ceps,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.ceps.getFirstPage({success:function(){console.info("Primeira pagina do grid cep")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchBairroModal=new d({onSelectModel:function(t){e._selectBairro(t)}}),this.searchCidadeModal=new u({onSelectModel:function(t){e._selectCidade(t)}}),this.searchEstadoModal=new p({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchBairroModalRegion.show(this.searchBairroModal),this.searchCidadeModalRegion.show(this.searchCidadeModal),this.searchEstadoModalRegion.show(this.searchEstadoModal)})},_queryCep:function(){this.ceps.filterQueryParams={logradouro:r.escapeById("inputLogradouro"),numero:r.escapeById("inputNumero"),bairro:r.escapeById("inputBairroId"),cidade:r.escapeById("inputCidadeId"),estado:r.escapeById("inputEstadoId")},this.ceps.fetch({success:function(){console.info("Consulta para o grid cep")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetCep:function(){this.ui.form.get(0).reset(),this.ceps.reset()},_getColumns:function(){var e=[{name:"logradouro",editable:!1,sortable:!0,label:"Logadouro",cell:"string"},{name:"numero",editable:!1,sortable:!0,label:"Numero",cell:"string"},{name:"bairro.nome",editable:!1,sortable:!0,label:"Bairro",cell:a.extend({fieldName:"bairro.nome"})},{name:"cidade.nome",editable:!1,sortable:!0,label:"Cidade",cell:a.extend({fieldName:"cidade.nome"})},{name:"estado.nome",editable:!1,sortable:!0,label:"Estado",cell:a.extend({fieldName:"estado.nome"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editCep/"+e.get("id")},_editModel:function(){},_showSearchBairroModal:function(){this.searchBairroModal.showPage()},_selectBairro:function(e){this.searchBairroModal.hidePage(),this.ui.inputBairroId.val(e.get("id")),this.ui.inputBairroNome.val(e.get("nome"))},_showSearchCidadeModal:function(){this.searchCidadeModal.showPage()},_selectCidade:function(e){this.searchCidadeModal.hidePage(),this.ui.inputCidadeId.val(e.get("id")),this.ui.inputCidadeNome.val(e.get("nome"))
},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return h}),define("views/cep/FormCep",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/cep/tpl/FormCepTemplate.html","models/CepModel","collections/CepCollection","views/modalComponents/BairroModal","views/modalComponents/CidadeModal","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/cep/tpl/FormCepTemplate.html")),a=(e("models/CepModel"),e("collections/CepCollection"),e("views/modalComponents/BairroModal")),o=e("views/modalComponents/CidadeModal"),s=e("views/modalComponents/EstadoModal"),l=i.LayoutView.extend({template:t.template(r),regions:{searchBairroModalRegion:"#bairroModal",searchCidadeModalRegion:"#cidadeModal",searchEstadoModalRegion:"#estadoModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchBairroModal":"_showSearchBairroModal","click #searchCidadeModal":"_showSearchCidadeModal","click #searchEstadoModal":"_showSearchEstadoModal"},ui:{inputId:"#inputId",inputLogradouro:"#inputLogradouro",inputNumero:"#inputNumero",inputBairroId:"#inputBairroId",inputBairroNome:"#inputBairroNome",inputCidadeId:"#inputCidadeId",inputCidadeNome:"#inputCidadeNome",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formCep"},initialize:function(){var e=this;this.searchBairroModal=new a({onSelectModel:function(t){e._selectBairro(t)}}),this.searchCidadeModal=new o({onSelectModel:function(t){e._selectCidade(t)}}),this.searchEstadoModal=new s({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){this.searchBairroModalRegion.show(this.searchBairroModal),this.searchCidadeModalRegion.show(this.searchCidadeModal),this.searchEstadoModalRegion.show(this.searchEstadoModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Cep salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/ceps")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputLogradouro"),n.clear("inputNumero"),n.clear("inputBairroId"),n.clear("inputBairroNome"),n.clear("inputCidadeId"),n.clear("inputCidadeNome"),n.clear("inputEstadoId"),n.clear("inputEstadoNome")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,logradouro:n.escapeById("inputLogradouro"),numero:n.escapeById("inputNumero"),bairro:e._getBairro(),cidade:e._getCidade(),estado:e._getEstado()}),t},_getBairro:function(){var e=n.escapeById("inputBairroId"),t=n.escapeById("inputBairroNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_getCidade:function(){var e=n.escapeById("inputCidadeId"),t=n.escapeById("inputCidadeNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_getEstado:function(){var e=n.escapeById("inputEstadoId"),t=n.escapeById("inputEstadoNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_showSearchBairroModal:function(){this.searchBairroModal.showPage()},_selectBairro:function(e){this.searchBairroModal.hidePage(),this.ui.inputBairroId.val(e.get("id")),this.ui.inputBairroNome.val(e.get("nome"))},_showSearchCidadeModal:function(){this.searchCidadeModal.showPage()},_selectCidade:function(e){this.searchCidadeModal.hidePage(),this.ui.inputCidadeId.val(e.get("id")),this.ui.inputCidadeNome.val(e.get("nome"))},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return l}),define("text!views/cidade/tpl/FormCidadeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cidade´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Cidade</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Cidade</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formCidade">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputCep" class="form-group">\r\n						<label class="control-label" for="inputCep">Cep</label>\r\n						<input type="text" id="inputCep" placeholder="Cep" value="{{cep}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputEstadoContainer" class="form-group">\r\n						<label class="control-label" for="inputEstado">Cidade</label>\r\n						<div id="groupInputEstado" class="input-group">\r\n							<input id="inputEstadoId" type="hidden" class="form-control append-left" value="{{estado && estado.id}}" />\r\n							<input id="inputEstadoNome"  placeholder="Escolha um Cidade" type="text" class="form-control append-left" value="{{estado && estado.nome}}" />\r\n							<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/cidades">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'estadoModal\'></div>\r\n'}),define("collections/CidadeCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/CidadeModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/CidadeModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/cidades/all"});return n}),define("text!views/cidade/tpl/PageCidadeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cidade´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Cidade</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Cidade</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formCidadeFilter">\r\n					<br>\r\n							<div id="groupInputNome" class="form-group">\r\n								<label class="control-label" for="inputNome">Nome</label>\r\n								<input type="text" id="inputNome" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCep" class="form-group">\r\n								<label class="control-label" for="inputCep">Cep</label>\r\n								<input type="text" id="inputCep" placeholder="Pesquise pelo Cep"  class="form-control">\r\n							</div>\r\n						<div id="groupInputEstadoContainer" class="form-group">\r\n							<label class="control-label" for="inputEstado">Cidade</label>\r\n							<div id="groupInputEstado" class="input-group">\r\n								<input id="inputEstadoId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputEstadoNome" placeholder="Pesquise pelo Cidade"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchEstadoModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newCidade" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'estadoModal\'></div>\r\n'}),define("views/cidade/PageCidade",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/cidade/tpl/FormCidadeTemplate.html","models/CidadeModel","collections/CidadeCollection","collections/CidadePageCollection","text!views/cidade/tpl/PageCidadeTemplate.html","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/cidade/tpl/FormCidadeTemplate.html"),e("models/CidadeModel"),e("collections/CidadeCollection"),e("collections/CidadePageCollection")),c=e("text!views/cidade/tpl/PageCidadeTemplate.html"),d=e("views/modalComponents/EstadoModal"),u=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchEstadoModalRegion:"#estadoModal"},events:{"click 	#query":"_queryCidade","click 	#reset":"_resetCidade","click #searchEstadoModal":"_showSearchEstadoModal",keypress:"treatKeypress"},ui:{inputNome:"#inputNome",inputCep:"#inputCep",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formCidadeFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryCidade())},initialize:function(){var e=this;this.cidades=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.cidades}),this.counter=new o({collection:this.cidades}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.cidades,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.cidades.getFirstPage({success:function(){console.info("Primeira pagina do grid cidade")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchEstadoModal=new d({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchEstadoModalRegion.show(this.searchEstadoModal)})},_queryCidade:function(){this.cidades.filterQueryParams={nome:r.escapeById("inputNome"),cep:r.escapeById("inputCep"),estado:r.escapeById("inputEstadoId")},this.cidades.fetch({success:function(){console.info("Consulta para o grid cidade")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetCidade:function(){this.ui.form.get(0).reset(),this.cidades.reset()},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"cep",editable:!1,sortable:!0,label:"Cep",cell:"string"},{name:"estado.nome",editable:!1,sortable:!0,label:"Cidade",cell:a.extend({fieldName:"estado.nome"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editCidade/"+e.get("id")},_editModel:function(){},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return u}),define("views/cidade/FormCidade",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/cidade/tpl/FormCidadeTemplate.html","models/CidadeModel","collections/CidadeCollection","views/modalComponents/EstadoModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/cidade/tpl/FormCidadeTemplate.html")),a=(e("models/CidadeModel"),e("collections/CidadeCollection"),e("views/modalComponents/EstadoModal")),o=i.LayoutView.extend({template:t.template(r),regions:{searchEstadoModalRegion:"#estadoModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchEstadoModal":"_showSearchEstadoModal"},ui:{inputId:"#inputId",inputNome:"#inputNome",inputCep:"#inputCep",inputEstadoId:"#inputEstadoId",inputEstadoNome:"#inputEstadoNome",form:"#formCidade"},initialize:function(){var e=this;this.searchEstadoModal=new a({onSelectModel:function(t){e._selectEstado(t)}}),this.on("show",function(){this.searchEstadoModalRegion.show(this.searchEstadoModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Cidade salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/cidades")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputNome"),n.clear("inputCep"),n.clear("inputEstadoId"),n.clear("inputEstadoNome")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,nome:n.escapeById("inputNome"),cep:n.escapeById("inputCep"),estado:e._getEstado()}),t},_getEstado:function(){var e=n.escapeById("inputEstadoId"),t=n.escapeById("inputEstadoNome"),i=null;return e&&t&&(i={id:e,nome:t}),i},_showSearchEstadoModal:function(){this.searchEstadoModal.showPage()},_selectEstado:function(e){this.searchEstadoModal.hidePage(),this.ui.inputEstadoId.val(e.get("id")),this.ui.inputEstadoNome.val(e.get("nome"))}});return o}),define("text!views/endereco/tpl/FormEnderecoTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Endereco´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Endereco</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Endereco</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formEndereco">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputComplemento" class="form-group">\r\n						<label class="control-label" for="inputComplemento">Complemento</label>\r\n						<input type="text" id="inputComplemento" placeholder="Complemento" value="{{complemento}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputNumero" class="form-group">\r\n						<label class="control-label" for="inputNumero">Número</label>\r\n						<input type="text" id="inputNumero" placeholder="Número" value="{{numero}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCepContainer" class="form-group">\r\n						<label class="control-label" for="inputCep">Cep</label>\r\n						<div id="groupInputCep" class="input-group">\r\n							<input id="inputCepId" type="hidden" class="form-control append-left" value="{{cep && cep.id}}" />\r\n							<input id="inputCepCep"  placeholder="Escolha um Cep" type="text" class="form-control append-left" value="{{cep && cep.cep}}" />\r\n							<div class="input-group-addon append-right" id="searchCepModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/enderecos">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'cepModal\'></div>\r\n'}),define("models/EnderecoModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/enderecos",defaults:{id:null,complemento:"",numero:"",cep:null}});return i}),define("collections/EnderecoCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/EnderecoModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/EnderecoModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/enderecos/all"});return n}),define("collections/EnderecoPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/EnderecoModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/EnderecoModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/enderecos",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/endereco/tpl/PageEnderecoTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Endereco´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Endereco</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Endereco</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formEnderecoFilter">\r\n					<br>\r\n							<div id="groupInputComplemento" class="form-group">\r\n								<label class="control-label" for="inputComplemento">Complemento</label>\r\n								<input type="text" id="inputComplemento" placeholder="Pesquise pelo Complemento"  class="form-control">\r\n							</div>\r\n							<div id="groupInputNumero" class="form-group">\r\n								<label class="control-label" for="inputNumero">Número</label>\r\n								<input type="text" id="inputNumero" placeholder="Pesquise pelo Número"  class="form-control">\r\n							</div>\r\n						<div id="groupInputCepContainer" class="form-group">\r\n							<label class="control-label" for="inputCep">Cep</label>\r\n							<div id="groupInputCep" class="input-group">\r\n								<input id="inputCepId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputCepCep" placeholder="Pesquise pelo Cep"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchCepModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newEndereco" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'cepModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/CepModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Cep´s form -->\r\n<div class="modal fade" id="dialogCep" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Cep</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchCep">\r\n							<div id="groupInputModalLogradouro" class="form-group">\r\n								<label class="control-label" for="inputModalLogradouro">Logadouro</label>\r\n								<input type="text" id="inputModalLogradouro" placeholder="Logadouro"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalNumero" class="form-group">\r\n								<label class="control-label" for="inputModalNumero">Numero</label>\r\n								<input type="text" id="inputModalNumero" placeholder="Numero"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinCep">\r\n						<a href="javascript:void(0)" id="btnSearchCep" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearCep" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoCepDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-cep" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-cep" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/modalComponents/CepModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/CepModalTemplate.html","collections/CepPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/CepModalTemplate.html")),l=e("collections/CepPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchCep":"searchCep","click #btnClearCep":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-cep",paginatorRegion:"#paginator-cep"},ui:{inputModalLogradouro:"#inputModalLogradouro",inputModalNumero:"#inputModalNumero",form:"#formSearchCep",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchCep())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.cepCollection=new l,this.cepCollection.state.pageSize=5,this.cepCollection.on("fetching",this._startFetch,this),this.cepCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.cepCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.cepCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.cepCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"logradouro",editable:!1,sortable:!0,label:"Logadouro",cell:"string"},{name:"numero",editable:!1,sortable:!0,label:"Numero",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalLogradouro"),r.clear("inputModalNumero"),r.scrollUpModal()},searchCep:function(){this.cepCollection.filterQueryParams={logradouro:r.escapeById("inputModalLogradouro"),numero:r.escapeById("inputModalNumero")},this.cepCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.cepCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.cepCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinCep")}});return s}),define("views/endereco/PageEndereco",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/endereco/tpl/FormEnderecoTemplate.html","models/EnderecoModel","collections/EnderecoCollection","collections/EnderecoPageCollection","text!views/endereco/tpl/PageEnderecoTemplate.html","views/modalComponents/CepModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/endereco/tpl/FormEnderecoTemplate.html"),e("models/EnderecoModel"),e("collections/EnderecoCollection"),e("collections/EnderecoPageCollection")),c=e("text!views/endereco/tpl/PageEnderecoTemplate.html"),d=e("views/modalComponents/CepModal"),u=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchCepModalRegion:"#cepModal"},events:{"click 	#query":"_queryEndereco","click 	#reset":"_resetEndereco","click #searchCepModal":"_showSearchCepModal",keypress:"treatKeypress"},ui:{inputComplemento:"#inputComplemento",inputNumero:"#inputNumero",inputCepId:"#inputCepId",inputCepCep:"#inputCepCep",form:"#formEnderecoFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryEndereco())
},initialize:function(){var e=this;this.enderecos=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.enderecos}),this.counter=new o({collection:this.enderecos}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.enderecos,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.enderecos.getFirstPage({success:function(){console.info("Primeira pagina do grid endereco")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchCepModal=new d({onSelectModel:function(t){e._selectCep(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchCepModalRegion.show(this.searchCepModal)})},_queryEndereco:function(){this.enderecos.filterQueryParams={complemento:r.escapeById("inputComplemento"),numero:r.escapeById("inputNumero"),cep:r.escapeById("inputCepId")},this.enderecos.fetch({success:function(){console.info("Consulta para o grid endereco")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetEndereco:function(){this.ui.form.get(0).reset(),this.enderecos.reset()},_getColumns:function(){var e=[{name:"complemento",editable:!1,sortable:!0,label:"Complemento",cell:"string"},{name:"numero",editable:!1,sortable:!0,label:"Número",cell:"string"},{name:"cep.cep",editable:!1,sortable:!0,label:"Cep",cell:a.extend({fieldName:"cep.cep"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editEndereco/"+e.get("id")},_editModel:function(){},_showSearchCepModal:function(){this.searchCepModal.showPage()},_selectCep:function(e){this.searchCepModal.hidePage(),this.ui.inputCepId.val(e.get("id")),this.ui.inputCepCep.val(e.get("cep"))}});return u}),define("views/endereco/FormEndereco",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/endereco/tpl/FormEnderecoTemplate.html","models/EnderecoModel","collections/EnderecoCollection","views/modalComponents/CepModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/endereco/tpl/FormEnderecoTemplate.html")),a=(e("models/EnderecoModel"),e("collections/EnderecoCollection"),e("views/modalComponents/CepModal")),o=i.LayoutView.extend({template:t.template(r),regions:{searchCepModalRegion:"#cepModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchCepModal":"_showSearchCepModal"},ui:{inputId:"#inputId",inputComplemento:"#inputComplemento",inputNumero:"#inputNumero",inputCepId:"#inputCepId",inputCepCep:"#inputCepCep",form:"#formEndereco"},initialize:function(){var e=this;this.searchCepModal=new a({onSelectModel:function(t){e._selectCep(t)}}),this.on("show",function(){this.searchCepModalRegion.show(this.searchCepModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Endereco salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/enderecos")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputComplemento"),n.clear("inputNumero"),n.clear("inputCepId"),n.clear("inputCepCep")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,complemento:n.escapeById("inputComplemento"),numero:n.escapeById("inputNumero"),cep:e._getCep()}),t},_getCep:function(){var e=n.escapeById("inputCepId"),t=n.escapeById("inputCepCep"),t=null;return e&&t&&(t={id:e,cep:t}),t},_showSearchCepModal:function(){this.searchCepModal.showPage()},_selectCep:function(e){this.searchCepModal.hidePage(),this.ui.inputCepId.val(e.get("id")),this.ui.inputCepCep.val(e.get("cep"))}});return o}),define("text!views/estado/tpl/FormEstadoTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Estado´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Estado</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Estado</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formEstado">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputFaixaCep1Ini" class="form-group">\r\n						<label class="control-label" for="inputFaixaCep1Ini">Faixa_cep1_ini</label>\r\n						<input type="text" id="inputFaixaCep1Ini" placeholder="faixa_cep1_ini" value="{{faixaCep1Ini}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputFaixaCep1Fim" class="form-group">\r\n						<label class="control-label" for="inputFaixaCep1Fim">Faixa_cep1_fim</label>\r\n						<input type="text" id="inputFaixaCep1Fim" placeholder="faixa_cep1_fim" value="{{faixaCep1Fim}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputFaixaCep2Ini" class="form-group">\r\n						<label class="control-label" for="inputFaixaCep2Ini">Faixa_cep2_ini</label>\r\n						<input type="text" id="inputFaixaCep2Ini" placeholder="faixa_cep2_ini" value="{{faixaCep2Ini}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputFaixaCep2Fim" class="form-group">\r\n						<label class="control-label" for="inputFaixaCep2Fim">Faixa_cep2_fim</label>\r\n						<input type="text" id="inputFaixaCep2Fim" placeholder="faixa_cep2_fim" value="{{faixaCep2Fim}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/estados">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("collections/EstadoCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/EstadoModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/EstadoModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/estados/all"});return n}),define("text!views/estado/tpl/PageEstadoTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Estado´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Estado</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Estado</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formEstadoFilter">\r\n					<br>\r\n							<div id="groupInputNome" class="form-group">\r\n								<label class="control-label" for="inputNome">Nome</label>\r\n								<input type="text" id="inputNome" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputFaixaCep1Ini" class="form-group">\r\n								<label class="control-label" for="inputFaixaCep1Ini">Faixa_cep1_ini</label>\r\n								<input type="text" id="inputFaixaCep1Ini" placeholder="Pesquise pelo Faixa_cep1_ini"  class="form-control">\r\n							</div>\r\n							<div id="groupInputFaixaCep1Fim" class="form-group">\r\n								<label class="control-label" for="inputFaixaCep1Fim">Faixa_cep1_fim</label>\r\n								<input type="text" id="inputFaixaCep1Fim" placeholder="Pesquise pelo Faixa_cep1_fim"  class="form-control">\r\n							</div>\r\n							<div id="groupInputFaixaCep2Ini" class="form-group">\r\n								<label class="control-label" for="inputFaixaCep2Ini">Faixa_cep2_ini</label>\r\n								<input type="text" id="inputFaixaCep2Ini" placeholder="Pesquise pelo Faixa_cep2_ini"  class="form-control">\r\n							</div>\r\n							<div id="groupInputFaixaCep2Fim" class="form-group">\r\n								<label class="control-label" for="inputFaixaCep2Fim">Faixa_cep2_fim</label>\r\n								<input type="text" id="inputFaixaCep2Fim" placeholder="Pesquise pelo Faixa_cep2_fim"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newEstado" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/estado/PageEstado",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/estado/tpl/FormEstadoTemplate.html","models/EstadoModel","collections/EstadoCollection","collections/EstadoPageCollection","text!views/estado/tpl/PageEstadoTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/estado/tpl/FormEstadoTemplate.html"),e("models/EstadoModel"),e("collections/EstadoCollection"),e("collections/EstadoPageCollection")),l=e("text!views/estado/tpl/PageEstadoTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryEstado","click 	#reset":"_resetEstado",keypress:"treatKeypress"},ui:{inputNome:"#inputNome",inputFaixaCep1Ini:"#inputFaixaCep1Ini",inputFaixaCep1Fim:"#inputFaixaCep1Fim",inputFaixaCep2Ini:"#inputFaixaCep2Ini",inputFaixaCep2Fim:"#inputFaixaCep2Fim",form:"#formEstadoFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryEstado())},initialize:function(){var e=this;this.estados=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.estados}),this.counter=new a({collection:this.estados}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.estados,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.estados.getFirstPage({success:function(){console.info("Primeira pagina do grid estado")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryEstado:function(){this.estados.filterQueryParams={nome:r.escapeById("inputNome"),faixaCep1Ini:r.escapeById("inputFaixaCep1Ini"),faixaCep1Fim:r.escapeById("inputFaixaCep1Fim"),faixaCep2Ini:r.escapeById("inputFaixaCep2Ini"),faixaCep2Fim:r.escapeById("inputFaixaCep2Fim")},this.estados.fetch({success:function(){console.info("Consulta para o grid estado")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetEstado:function(){this.ui.form.get(0).reset(),this.estados.reset()},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"faixaCep1Ini",editable:!1,sortable:!0,label:"Faixa_cep1_ini",cell:"string"},{name:"faixaCep1Fim",editable:!1,sortable:!0,label:"Faixa_cep1_fim",cell:"string"},{name:"faixaCep2Ini",editable:!1,sortable:!0,label:"Faixa_cep2_ini",cell:"string"},{name:"faixaCep2Fim",editable:!1,sortable:!0,label:"Faixa_cep2_fim",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editEstado/"+e.get("id")},_editModel:function(){}});return c}),define("views/estado/FormEstado",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/estado/tpl/FormEstadoTemplate.html","models/EstadoModel","collections/EstadoCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/estado/tpl/FormEstadoTemplate.html")),a=(e("models/EstadoModel"),e("collections/EstadoCollection")),o=i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","change  #inputNome":"changeNome"},ui:{inputId:"#inputId",inputNome:"#inputNome",inputFaixaCep1Ini:"#inputFaixaCep1Ini",inputFaixaCep1Fim:"#inputFaixaCep1Fim",inputFaixaCep2Ini:"#inputFaixaCep2Ini",inputFaixaCep2Fim:"#inputFaixaCep2Fim",form:"#formEstado"},initialize:function(){this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Estado salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/estados")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputNome"),n.clear("inputFaixaCep1Ini"),n.clear("inputFaixaCep1Fim"),n.clear("inputFaixaCep2Ini"),n.clear("inputFaixaCep2Fim")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,nome:n.escapeById("inputNome"),faixaCep1Ini:n.escapeById("inputFaixaCep1Ini"),faixaCep1Fim:n.escapeById("inputFaixaCep1Fim"),faixaCep2Ini:n.escapeById("inputFaixaCep2Ini"),faixaCep2Fim:n.escapeById("inputFaixaCep2Fim")}),t},changeNome:function(){var e=this;n.validateUnique({element:e.ui.inputNome,fieldName:"nome",fieldDisplayName:"Nome",view:e,collection:a})}});return o}),define("text!views/pais/tpl/FormPaisTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Pais´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Pais</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Pais</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formPais">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputCodigo" class="form-group">\r\n						<label class="control-label" for="inputCodigo">Código</label>\r\n						<input type="text" id="inputCodigo" placeholder="Código" value="{{codigo}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/paiss">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/PaisModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/paiss",defaults:{id:null,codigo:"",nome:""}});return i}),define("collections/PaisCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/PaisModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/PaisModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/paiss/all"});return n}),define("collections/PaisPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/PaisModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/PaisModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/paiss",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/pais/tpl/PagePaisTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Pais´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Pais</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Pais</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formPaisFilter">\r\n					<br>\r\n							<div id="groupInputCodigo" class="form-group">\r\n								<label class="control-label" for="inputCodigo">Código</label>\r\n								<input type="text" id="inputCodigo" placeholder="Pesquise pelo Código"  class="form-control">\r\n							</div>\r\n							<div id="groupInputNome" class="form-group">\r\n								<label class="control-label" for="inputNome">Nome</label>\r\n								<input type="text" id="inputNome" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newPais" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/pais/PagePais",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/pais/tpl/FormPaisTemplate.html","models/PaisModel","collections/PaisCollection","collections/PaisPageCollection","text!views/pais/tpl/PagePaisTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=e("views/components/CustomNumberCell"),l=(e("text!views/pais/tpl/FormPaisTemplate.html"),e("models/PaisModel"),e("collections/PaisCollection"),e("collections/PaisPageCollection")),c=e("text!views/pais/tpl/PagePaisTemplate.html"),d=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryPais","click 	#reset":"_resetPais",keypress:"treatKeypress"},ui:{inputCodigo:"#inputCodigo",inputNome:"#inputNome",form:"#formPaisFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryPais())},initialize:function(){var e=this;this.paiss=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.paiss}),this.counter=new a({collection:this.paiss}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.paiss,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.paiss.getFirstPage({success:function(){console.info("Primeira pagina do grid pais")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryPais:function(){this.paiss.filterQueryParams={codigo:r.escapeById("inputCodigo"),nome:r.escapeById("inputNome")},this.paiss.fetch({success:function(){console.info("Consulta para o grid pais")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetPais:function(){this.ui.form.get(0).reset(),this.paiss.reset()},_getColumns:function(){var e=[{name:"codigo",editable:!1,sortable:!0,label:"Código",cell:s.extend({})},{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editPais/"+e.get("id")},_editModel:function(){}});return d}),define("views/pais/FormPais",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/pais/tpl/FormPaisTemplate.html","models/PaisModel","collections/PaisCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/pais/tpl/FormPaisTemplate.html")),a=(e("models/PaisModel"),e("collections/PaisCollection"),i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputCodigo:"#inputCodigo",inputNome:"#inputNome",form:"#formPais"},initialize:function(){this.on("show",function(){this.ui.inputCodigo.formatNumber(2),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Pais salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/paiss")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputCodigo"),n.clear("inputNome")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,codigo:n.escapeById("inputCodigo",!0),nome:n.escapeById("inputNome")}),t}}));return a}),define("text!views/client/tpl/FormClientTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Client´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Cliente</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Cliente</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formClient">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputLogo" class="form-group">\r\n						<label class="control-label" for="inputLogo">Logotipo</label>\r\n						<input type="text" id="inputLogo" placeholder="Logotipo" value="{{logo}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCnpj" class="form-group">\r\n						<label class="control-label" for="inputCnpj">CNPJ</label>\r\n						<input type="text" id="inputCnpj" placeholder="CNPJ" value="{{cnpj}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputPhoneNumber" class="form-group">\r\n						<label class="control-label" for="inputPhoneNumber">Telefone</label>\r\n						<input type="text" id="inputPhoneNumber" placeholder="Telefone" value="{{phoneNumber}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCorporateName" class="form-group">\r\n						<label class="control-label" for="inputCorporateName">Razão Social</label>\r\n						<input type="text" id="inputCorporateName" placeholder="Razão Social" value="{{corporateName}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/clients">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'
}),define("models/ClientModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/clients",defaults:{id:null,logo:"",name:"",cnpj:"",phoneNumber:"",corporateName:""}});return i}),define("collections/ClientCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ClientModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ClientModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/clients/all"});return n}),define("collections/ClientPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ClientModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ClientModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/clients",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/client/tpl/PageClientTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Client´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Cliente</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Cliente</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formClientFilter">\r\n					<br>\r\n							<div id="groupInputLogo" class="form-group">\r\n								<label class="control-label" for="inputLogo">Logotipo</label>\r\n								<input type="text" id="inputLogo" placeholder="Pesquise pelo Logotipo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCnpj" class="form-group">\r\n								<label class="control-label" for="inputCnpj">CNPJ</label>\r\n								<input type="text" id="inputCnpj" placeholder="Pesquise pelo CNPJ"  class="form-control">\r\n							</div>\r\n							<div id="groupInputPhoneNumber" class="form-group">\r\n								<label class="control-label" for="inputPhoneNumber">Telefone</label>\r\n								<input type="text" id="inputPhoneNumber" placeholder="Pesquise pelo Telefone"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCorporateName" class="form-group">\r\n								<label class="control-label" for="inputCorporateName">Razão Social</label>\r\n								<input type="text" id="inputCorporateName" placeholder="Pesquise pelo Razão Social"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newClient" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/client/PageClient",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/client/tpl/FormClientTemplate.html","models/ClientModel","collections/ClientCollection","collections/ClientPageCollection","text!views/client/tpl/PageClientTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/client/tpl/FormClientTemplate.html"),e("models/ClientModel"),e("collections/ClientCollection"),e("collections/ClientPageCollection")),l=e("text!views/client/tpl/PageClientTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryClient","click 	#reset":"_resetClient",keypress:"treatKeypress"},ui:{inputLogo:"#inputLogo",inputName:"#inputName",inputCnpj:"#inputCnpj",inputPhoneNumber:"#inputPhoneNumber",inputCorporateName:"#inputCorporateName",form:"#formClientFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryClient())},initialize:function(){var e=this;this.clients=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.clients}),this.counter=new a({collection:this.clients}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.clients,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.clients.getFirstPage({success:function(){console.info("Primeira pagina do grid client")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryClient:function(){this.clients.filterQueryParams={logo:r.escapeById("inputLogo"),name:r.escapeById("inputName"),cnpj:r.escapeById("inputCnpj"),phoneNumber:r.escapeById("inputPhoneNumber"),corporateName:r.escapeById("inputCorporateName")},this.clients.fetch({success:function(){console.info("Consulta para o grid client")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetClient:function(){this.ui.form.get(0).reset(),this.clients.reset()},_getColumns:function(){var e=[{name:"logo",editable:!1,sortable:!0,label:"Logotipo",cell:"string"},{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"cnpj",editable:!1,sortable:!0,label:"CNPJ",cell:"string"},{name:"phoneNumber",editable:!1,sortable:!0,label:"Telefone",cell:"string"},{name:"corporateName",editable:!1,sortable:!0,label:"Razão Social",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editClient/"+e.get("id")},_editModel:function(){}});return c}),define("views/client/FormClient",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/client/tpl/FormClientTemplate.html","models/ClientModel","collections/ClientCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/client/tpl/FormClientTemplate.html")),a=(e("models/ClientModel"),e("collections/ClientCollection"),i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputLogo:"#inputLogo",inputName:"#inputName",inputCnpj:"#inputCnpj",inputPhoneNumber:"#inputPhoneNumber",inputCorporateName:"#inputCorporateName",form:"#formClient"},initialize:function(){this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Client salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/clients")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputLogo"),n.clear("inputName"),n.clear("inputCnpj"),n.clear("inputPhoneNumber"),n.clear("inputCorporateName")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,logo:n.escapeById("inputLogo"),name:n.escapeById("inputName"),cnpj:n.escapeById("inputCnpj"),phoneNumber:n.escapeById("inputPhoneNumber"),corporateName:n.escapeById("inputCorporateName")}),t}}));return a}),define("text!views/cliente/tpl/FormClienteTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cliente´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Cliente</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Cliente</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formCliente">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputNome" class="form-group">\r\n						<label class="control-label" for="inputNome">Nome</label>\r\n						<input type="text" id="inputNome" placeholder="Nome" value="{{nome}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputEmail" class="form-group">\r\n						<label class="control-label" for="inputEmail">Email</label>\r\n						<input type="text" id="inputEmail" placeholder="Email" value="{{email}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCpf" class="form-group">\r\n						<label class="control-label" for="inputCpf">Cpf</label>\r\n						<input type="text" id="inputCpf" placeholder="cpf" value="{{cpf}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputTelefone" class="form-group">\r\n						<label class="control-label" for="inputTelefone">Outro Telefone</label>\r\n						<input type="text" id="inputTelefone" placeholder="Outro Telefone" value="{{telefone}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputOutroTelefone" class="form-group">\r\n						<label class="control-label" for="inputOutroTelefone">Outro Telefone</label>\r\n						<input type="text" id="inputOutroTelefone" placeholder="Outro Telefone" value="{{outroTelefone}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/clientes">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/ClienteModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/clientes",defaults:{id:null,nome:"",email:"",cpf:"",telefone:"",outroTelefone:"",endereco:null}});return i}),define("collections/ClienteCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ClienteModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ClienteModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/clientes/all"});return n}),define("collections/ClientePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ClienteModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ClienteModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/clientes",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/cliente/tpl/PageClienteTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Cliente´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Cliente</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Cliente</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formClienteFilter">\r\n					<br>\r\n							<div id="groupInputNome" class="form-group">\r\n								<label class="control-label" for="inputNome">Nome</label>\r\n								<input type="text" id="inputNome" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputEmail" class="form-group">\r\n								<label class="control-label" for="inputEmail">Email</label>\r\n								<input type="text" id="inputEmail" placeholder="Pesquise pelo Email"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCpf" class="form-group">\r\n								<label class="control-label" for="inputCpf">Cpf</label>\r\n								<input type="text" id="inputCpf" placeholder="Pesquise pelo Cpf"  class="form-control">\r\n							</div>\r\n							<div id="groupInputTelefone" class="form-group">\r\n								<label class="control-label" for="inputTelefone">Outro Telefone</label>\r\n								<input type="text" id="inputTelefone" placeholder="Pesquise pelo Outro Telefone"  class="form-control">\r\n							</div>\r\n							<div id="groupInputOutroTelefone" class="form-group">\r\n								<label class="control-label" for="inputOutroTelefone">Outro Telefone</label>\r\n								<input type="text" id="inputOutroTelefone" placeholder="Pesquise pelo Outro Telefone"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newCliente" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/cliente/PageCliente",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/cliente/tpl/FormClienteTemplate.html","models/ClienteModel","collections/ClienteCollection","collections/ClientePageCollection","text!views/cliente/tpl/PageClienteTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/cliente/tpl/FormClienteTemplate.html"),e("models/ClienteModel"),e("collections/ClienteCollection"),e("collections/ClientePageCollection")),l=e("text!views/cliente/tpl/PageClienteTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryCliente","click 	#reset":"_resetCliente",keypress:"treatKeypress"},ui:{inputNome:"#inputNome",inputEmail:"#inputEmail",inputCpf:"#inputCpf",inputTelefone:"#inputTelefone",inputOutroTelefone:"#inputOutroTelefone",form:"#formClienteFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryCliente())},initialize:function(){var e=this;this.clientes=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.clientes}),this.counter=new a({collection:this.clientes}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.clientes,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.clientes.getFirstPage({success:function(){console.info("Primeira pagina do grid cliente")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.ui.inputCpf.mask("999.999.999-99")})},_queryCliente:function(){this.clientes.filterQueryParams={nome:r.escapeById("inputNome"),email:r.escapeById("inputEmail"),cpf:r.escapeById("inputCpf"),telefone:r.escapeById("inputTelefone"),outroTelefone:r.escapeById("inputOutroTelefone")},this.clientes.fetch({success:function(){console.info("Consulta para o grid cliente")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetCliente:function(){this.ui.form.get(0).reset(),this.clientes.reset()},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"email",editable:!1,sortable:!0,label:"Email",cell:"string"},{name:"cpf",editable:!1,sortable:!0,label:"Cpf",cell:"string"},{name:"telefone",editable:!1,sortable:!0,label:"Outro Telefone",cell:"string"},{name:"outroTelefone",editable:!1,sortable:!0,label:"Outro Telefone",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editCliente/"+e.get("id")},_editModel:function(){}});return c}),define("views/cliente/FormCliente",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/cliente/tpl/FormClienteTemplate.html","models/ClienteModel","collections/ClienteCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/cliente/tpl/FormClienteTemplate.html")),a=(e("models/ClienteModel"),e("collections/ClienteCollection")),o=i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","change  #inputCpf":"changeCpf"},ui:{inputId:"#inputId",inputNome:"#inputNome",inputEmail:"#inputEmail",inputCpf:"#inputCpf",inputTelefone:"#inputTelefone",inputOutroTelefone:"#inputOutroTelefone",form:"#formCliente"},initialize:function(){this.on("show",function(){this.ui.inputCpf.mask("999.999.999-99"),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Cliente salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/clientes")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputNome"),n.clear("inputEmail"),n.clear("inputCpf"),n.clear("inputTelefone"),n.clear("inputOutroTelefone")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,nome:n.escapeById("inputNome"),email:n.escapeById("inputEmail"),cpf:n.escapeById("inputCpf"),telefone:n.escapeById("inputTelefone"),outroTelefone:n.escapeById("inputOutroTelefone")}),t},changeCpf:function(){var e=this;n.validateUnique({element:e.ui.inputCpf,fieldName:"cpf",fieldDisplayName:"cpf",view:e,collection:a})}});return o}),define("text!views/itemType/tpl/FormItemTypeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- ItemType´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Tipo de Item</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Tipo de Item</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formItemType">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputDescription" class="form-group">\r\n						<label class="control-label" for="inputDescription">Descrição</label>\r\n						<input type="text" id="inputDescription" placeholder="Descrição" value="{{description}}" class="form-control  ">\r\n					</div>\r\n					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/itemTypes">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/ItemTypeModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/itemTypes",defaults:{id:null,name:"",description:""}});return i}),define("collections/ItemTypeCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ItemTypeModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ItemTypeModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/itemTypes/all"});return n}),define("collections/ItemTypePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ItemTypeModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ItemTypeModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/itemTypes",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/itemType/tpl/PageItemTypeTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- ItemType´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Tipo de Item</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Tipo de Item</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formItemTypeFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDescription" class="form-group">\r\n								<label class="control-label" for="inputDescription">Descrição</label>\r\n								<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newItemType" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/itemType/PageItemType",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/itemType/tpl/FormItemTypeTemplate.html","models/ItemTypeModel","collections/ItemTypeCollection","collections/ItemTypePageCollection","text!views/itemType/tpl/PageItemTypeTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/itemType/tpl/FormItemTypeTemplate.html"),e("models/ItemTypeModel"),e("collections/ItemTypeCollection"),e("collections/ItemTypePageCollection")),l=e("text!views/itemType/tpl/PageItemTypeTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryItemType","click 	#reset":"_resetItemType",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputDescription:"#inputDescription",form:"#formItemTypeFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryItemType())
},initialize:function(){var e=this;this.itemTypes=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.itemTypes}),this.counter=new a({collection:this.itemTypes}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.itemTypes,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.itemTypes.getFirstPage({success:function(){console.info("Primeira pagina do grid itemType")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryItemType:function(){this.itemTypes.filterQueryParams={name:r.escapeById("inputName"),description:r.escapeById("inputDescription")},this.itemTypes.fetch({success:function(){console.info("Consulta para o grid itemType")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetItemType:function(){this.ui.form.get(0).reset(),this.itemTypes.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"description",editable:!1,sortable:!0,label:"Descrição",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editItemType/"+e.get("id")},_editModel:function(){}});return c}),define("views/itemType/FormItemType",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/itemType/tpl/FormItemTypeTemplate.html","models/ItemTypeModel","collections/ItemTypeCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/itemType/tpl/FormItemTypeTemplate.html")),a=(e("models/ItemTypeModel"),e("collections/ItemTypeCollection"),i.LayoutView.extend({template:t.template(r),regions:{},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputName:"#inputName",inputDescription:"#inputDescription",form:"#formItemType"},initialize:function(){this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","ItemType salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/itemTypes")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputDescription")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),description:n.escapeById("inputDescription")}),t}}));return a}),define("text!views/operation/tpl/FormOperationTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Operation´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Operação</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Operação</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formOperation">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCanEdit" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputCanEdit" type="checkbox" {{canEdit ? \'checked\' :\'\'}}>\r\n							Pode Editar\r\n						</label>\r\n					</div>\r\n					<div id="groupInputCanRead" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputCanRead" type="checkbox" {{canRead ? \'checked\' :\'\'}}>\r\n							Pode Ler\r\n						</label>\r\n					</div>\r\n					<div id="groupInputCanUpdate" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputCanUpdate" type="checkbox" {{canUpdate ? \'checked\' :\'\'}}>\r\n							Pode atualizar\r\n						</label>\r\n					</div>\r\n					<div id="groupInputCanDelete" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputCanDelete" type="checkbox" {{canDelete ? \'checked\' :\'\'}}>\r\n							Pode Deletar\r\n						</label>\r\n					</div>\r\n					<div id="groupInputCanExecute" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputCanExecute" type="checkbox" {{canExecute ? \'checked\' :\'\'}}>\r\n							Pode executar\r\n						</label>\r\n					</div>\r\n\r\n					<div class="permissions-container panel"></div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/operations">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/OperationModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/operations",defaults:{id:null,name:"",canEdit:"",canRead:"",canUpdate:"",canDelete:"",canExecute:"",permissions:null}});return i}),define("collections/OperationCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/OperationModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/OperationModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/operations/all"});return n}),define("collections/OperationPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/OperationModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/OperationModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/operations",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/operation/tpl/PageOperationTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Operation´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Operação</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Operação</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formOperationFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCanEdit" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputCanEdit" type="checkbox" >\r\n									Pode Editar\r\n								</label>\r\n							</div>\r\n							<div id="groupInputCanRead" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputCanRead" type="checkbox" >\r\n									Pode Ler\r\n								</label>\r\n							</div>\r\n							<div id="groupInputCanUpdate" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputCanUpdate" type="checkbox" >\r\n									Pode atualizar\r\n								</label>\r\n							</div>\r\n							<div id="groupInputCanDelete" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputCanDelete" type="checkbox" >\r\n									Pode Deletar\r\n								</label>\r\n							</div>\r\n							<div id="groupInputCanExecute" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputCanExecute" type="checkbox" >\r\n									Pode executar\r\n								</label>\r\n							</div>\r\n						\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newOperation" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/operation/PageOperation",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/operation/tpl/FormOperationTemplate.html","models/OperationModel","collections/OperationCollection","collections/OperationPageCollection","text!views/operation/tpl/PageOperationTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/operation/tpl/FormOperationTemplate.html"),e("models/OperationModel"),e("collections/OperationCollection"),e("collections/OperationPageCollection")),l=e("text!views/operation/tpl/PageOperationTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryOperation","click 	#reset":"_resetOperation",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputCanEdit:"#inputCanEdit",inputCanRead:"#inputCanRead",inputCanUpdate:"#inputCanUpdate",inputCanDelete:"#inputCanDelete",inputCanExecute:"#inputCanExecute",form:"#formOperationFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryOperation())},initialize:function(){var e=this;this.operations=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.operations}),this.counter=new a({collection:this.operations}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.operations,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.operations.getFirstPage({success:function(){console.info("Primeira pagina do grid operation")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryOperation:function(){this.operations.filterQueryParams={name:r.escapeById("inputName"),canEdit:r.escapeById("inputCanEdit"),canRead:r.escapeById("inputCanRead"),canUpdate:r.escapeById("inputCanUpdate"),canDelete:r.escapeById("inputCanDelete"),canExecute:r.escapeById("inputCanExecute")},this.operations.fetch({success:function(){console.info("Consulta para o grid operation")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetOperation:function(){this.ui.form.get(0).reset(),this.operations.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"canEdit",editable:!1,sortable:!0,label:"Pode Editar",cell:"string"},{name:"canRead",editable:!1,sortable:!0,label:"Pode Ler",cell:"string"},{name:"canUpdate",editable:!1,sortable:!0,label:"Pode atualizar",cell:"string"},{name:"canDelete",editable:!1,sortable:!0,label:"Pode Deletar",cell:"string"},{name:"canExecute",editable:!1,sortable:!0,label:"Pode executar",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editOperation/"+e.get("id")},_editModel:function(){}});return c}),define("models/PermissionModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/permissions",defaults:{id:null,name:"",roles:null,operation:null,item:null}});return i}),define("collections/PermissionCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/PermissionModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/PermissionModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/permissions/all"});return n}),define("collections/PermissionPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/PermissionModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/PermissionModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/permissions",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/permission/tpl/ModalMultiSelectPermissionTemplate.html",[],function(){return'<div class="modal fade" id="myModalPermission" tabindex="-1" role="dialog" aria-labelledby="modalPermissions" aria-hidden="true" style="display: none;">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n					<span aria-hidden="true">&times;</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">permissão</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="container-fluid">\r\n					<div id="messages"></div>\r\n					<div class="row">\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline ">\r\n							<div id="grid-permissions-modal" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="paginator-permissions-modal" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/permission/ModalMultiSelectPermission",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","views/components/CustomNumberCell","utilities/utils","collections/PermissionPageCollection","text!views/permission/tpl/ModalMultiSelectPermissionTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("views/components/CustomNumberCell"),e("utilities/utils"),e("collections/PermissionPageCollection")),a=e("text!views/permission/tpl/ModalMultiSelectPermissionTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{gridRegion:"#grid-permissions-modal",paginatorRegion:"#paginator-permissions-modal"},events:{"click .btnOk":"close"},ui:{btnOk:".btnOk"},initialize:function(){var e=this;this.projetoPermissions=this.collection,this.permissions=new r,this.permissions.on("fetched",this.endFetch,this),this.permissions.on("backgrid:selected",this.selectModel,this),this.grid=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Nenhum registro para escolha",collection:this.permissions}),this.paginator=new i.Extension.Paginator({columns:this._getColumns(),collection:this.permissions,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.permissions.getFirstPage({success:function(){console.info("Primeira pagina do grid permission")},error:function(e,t){console.error(t.responseText||t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.paginatorRegion.show(e.paginator)})},selectModel:function(e,t){t?this.projetoPermissions.add(e):this.projetoPermissions.remove(e)},endFetch:function(){var e=this;this.permissions.each(function(t){e.projetoPermissions.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},clear:function(){this.grid.$el.find("input[type=checkbox]").prop("checked",!1)},_getColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"}];return e}});return o}),define("text!views/permission/tpl/MultiSelectPermissionTemplate.html",[],function(){return'<div class="panel panel-default plain toggle ">\r\n	<div class="panel-heading">\r\n		<span class="panel-title">\r\n			<span class="pull-left"> Permissãos &nbsp;&nbsp;&nbsp;</span>\r\n		</span>\r\n		<span>\r\n			<a href="#myModalPermission" class="btn btn-info btn-xs" data-toggle="modal">\r\n				<i class="fa  fa-plus-square">&nbsp;&nbsp;Add/Remove Permissão</i>\r\n			</a>\r\n		</span>\r\n		<div class="panel-controls panel-controls-hide" style="display: none;">\r\n			<a href="javascript:void(-1)" class="toggle panel-minimize">\r\n				<i class="im-minus"></i>\r\n			</a>\r\n		</div>\r\n	</div>\r\n	<div class="panel-body" style="border: none">\r\n		<div id="gridMultiselectPermissions" class="table-responsive"></div>\r\n	</div>\r\n</div>\r\n<div id=\'modalMultiSelectPermissions\'></div>'}),define("views/permission/MultiSelectPermission",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","utilities/utils","models/BaseModel","views/components/CustomNumberCell","views/permission/ModalMultiSelectPermission","text!views/permission/tpl/MultiSelectPermissionTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("utilities/utils"),e("models/BaseModel"),e("views/components/CustomNumberCell"),e("views/permission/ModalMultiSelectPermission")),a=e("text!views/permission/tpl/MultiSelectPermissionTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{modalMultiSelectPermissionRegion:"#modalMultiSelectPermissions",gridPermissionsModalRegion:"#gridMultiselectPermissions"},initialize:function(){var e=this;this.permissions=this.collection,this.gridPermissions=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros adicionados",collection:this.permissions}),this.modalMultiSelectPermission=new r({collection:this.collection}),this.on("show",function(){e.modalMultiSelectPermissionRegion.show(e.modalMultiSelectPermission),e.gridPermissionsModalRegion.show(e.gridPermissions)})},clear:function(){this.modalMultiSelectPermission.clear()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!1,label:"Nome",cell:"string"}];return e}});return o}),define("views/operation/FormOperation",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/operation/tpl/FormOperationTemplate.html","models/OperationModel","collections/OperationCollection","collections/PermissionCollection","views/permission/MultiSelectPermission"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/operation/tpl/FormOperationTemplate.html")),a=(e("models/OperationModel"),e("collections/OperationCollection"),e("collections/PermissionCollection")),o=e("views/permission/MultiSelectPermission"),s=i.LayoutView.extend({template:t.template(r),regions:{permissionsRegion:".permissions-container"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputName:"#inputName",inputCanEdit:"#inputCanEdit",inputCanRead:"#inputCanRead",inputCanUpdate:"#inputCanUpdate",inputCanDelete:"#inputCanDelete",inputCanExecute:"#inputCanExecute",form:"#formOperation"},initialize:function(){var e=this;e.permissions=new a,e.permissions.add(this.model.get("permissions")),this.multiSelectPermission=new o({collection:e.permissions}),this.on("show",function(){this.permissionsRegion.show(this.multiSelectPermission),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Operation salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/operations")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputCanEdit"),n.clear("inputCanRead"),n.clear("inputCanUpdate"),n.clear("inputCanDelete"),n.clear("inputCanExecute"),this.permissions.reset(),this.multiSelectPermission.clear()},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),canEdit:n.escapeById("inputCanEdit"),canRead:n.escapeById("inputCanRead"),canUpdate:n.escapeById("inputCanUpdate"),canDelete:n.escapeById("inputCanDelete"),canExecute:n.escapeById("inputCanExecute"),permissions:e.permissions.toJSON()}),t}});return s}),define("text!views/permission/tpl/FormPermissionTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Permission´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Permissão</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Permissão</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formPermission">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n\r\n					<div class="roles-container panel"></div>					\r\n					<div id="groupInputOperationContainer" class="form-group">\r\n						<label class="control-label" for="inputOperation">Operação</label>\r\n						<div id="groupInputOperation" class="input-group">\r\n							<input id="inputOperationId" type="hidden" class="form-control append-left" value="{{operation && operation.id}}" />\r\n							<input id="inputOperationName"  placeholder="Escolha um Operação" type="text" class="form-control append-left" value="{{operation && operation.name}}" />\r\n							<div class="input-group-addon append-right" id="searchOperationModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n					<div id="groupInputItemContainer" class="form-group">\r\n						<label class="control-label" for="inputItem">Item</label>\r\n						<div id="groupInputItem" class="input-group">\r\n							<input id="inputItemId" type="hidden" class="form-control append-left" value="{{item && item.id}}" />\r\n							<input id="inputItemName"  placeholder="Escolha um Item" type="text" class="form-control append-left" value="{{item && item.name}}" />\r\n							<div class="input-group-addon append-right" id="searchItemModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/permissions">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'operationModal\'></div>\r\n<div id=\'itemModal\'></div>\r\n'}),define("text!views/permission/tpl/PagePermissionTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Permission´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Permissão</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Permissão</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formPermissionFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n						<div id="groupInputOperationContainer" class="form-group">\r\n							<label class="control-label" for="inputOperation">Operação</label>\r\n							<div id="groupInputOperation" class="input-group">\r\n								<input id="inputOperationId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputOperationName" placeholder="Pesquise pelo Operação"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchOperationModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div id="groupInputItemContainer" class="form-group">\r\n							<label class="control-label" for="inputItem">Item</label>\r\n							<div id="groupInputItem" class="input-group">\r\n								<input id="inputItemId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputItemName" placeholder="Pesquise pelo Item"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchItemModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newPermission" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'operationModal\'></div>\r\n<div id=\'itemModal\'></div>\r\n'
}),define("text!views/modalComponents/tpl/OperationModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Operation´s form -->\r\n<div class="modal fade" id="dialogOperation" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Operação</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchOperation">\r\n							<div id="groupInputModalName" class="form-group">\r\n								<label class="control-label" for="inputModalName">Nome</label>\r\n								<input type="text" id="inputModalName" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalCanEdit" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputModalCanEdit" type="checkbox" >\r\n									Pode Editar\r\n								</label>\r\n							</div>\r\n							\r\n							<div id="groupInputModalCanRead" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputModalCanRead" type="checkbox" >\r\n									Pode Ler\r\n								</label>\r\n							</div>\r\n							\r\n							<div id="groupInputModalCanUpdate" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputModalCanUpdate" type="checkbox" >\r\n									Pode atualizar\r\n								</label>\r\n							</div>\r\n							\r\n							<div id="groupInputModalCanDelete" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputModalCanDelete" type="checkbox" >\r\n									Pode Deletar\r\n								</label>\r\n							</div>\r\n							\r\n							<div id="groupInputModalCanExecute" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputModalCanExecute" type="checkbox" >\r\n									Pode executar\r\n								</label>\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinOperation">\r\n						<a href="javascript:void(0)" id="btnSearchOperation" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearOperation" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoOperationDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-operation" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-operation" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/modalComponents/OperationModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/OperationModalTemplate.html","collections/OperationPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/OperationModalTemplate.html")),l=e("collections/OperationPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchOperation":"searchOperation","click #btnClearOperation":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-operation",paginatorRegion:"#paginator-operation"},ui:{inputModalName:"#inputModalName",inputModalCanEdit:"#inputModalCanEdit",inputModalCanRead:"#inputModalCanRead",inputModalCanUpdate:"#inputModalCanUpdate",inputModalCanDelete:"#inputModalCanDelete",inputModalCanExecute:"#inputModalCanExecute",form:"#formSearchOperation",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchOperation())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.operationCollection=new l,this.operationCollection.state.pageSize=5,this.operationCollection.on("fetching",this._startFetch,this),this.operationCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.operationCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.operationCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.operationCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"canEdit",editable:!1,sortable:!0,label:"Pode Editar",cell:"string"},{name:"canRead",editable:!1,sortable:!0,label:"Pode Ler",cell:"string"},{name:"canUpdate",editable:!1,sortable:!0,label:"Pode atualizar",cell:"string"},{name:"canDelete",editable:!1,sortable:!0,label:"Pode Deletar",cell:"string"},{name:"canExecute",editable:!1,sortable:!0,label:"Pode executar",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalName"),r.clear("inputModalCanEdit"),r.clear("inputModalCanRead"),r.clear("inputModalCanUpdate"),r.clear("inputModalCanDelete"),r.clear("inputModalCanExecute"),r.scrollUpModal()},searchOperation:function(){this.operationCollection.filterQueryParams={name:r.escapeById("inputModalName"),canEdit:r.escapeById("inputModalCanEdit"),canRead:r.escapeById("inputModalCanRead"),canUpdate:r.escapeById("inputModalCanUpdate"),canDelete:r.escapeById("inputModalCanDelete"),canExecute:r.escapeById("inputModalCanExecute")},this.operationCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.operationCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.operationCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinOperation")}});return s}),define("text!views/modalComponents/tpl/ItemModalTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Modal Item´s form -->\r\n<div class="modal fade" id="dialogItem" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Item</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchItem">\r\n							<div id="groupInputModalName" class="form-group">\r\n								<label class="control-label" for="inputModalName">Nome</label>\r\n								<input type="text" id="inputModalName" placeholder="Nome"  class="form-control">\r\n							</div>\r\n							\r\n							<div id="groupInputModalDescription" class="form-group">\r\n								<label class="control-label" for="inputModalDescription">Descrição</label>\r\n								<input type="text" id="inputModalDescription" placeholder="Descrição"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinItem">\r\n						<a href="javascript:void(0)" id="btnSearchItem" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearItem" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoItemDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-item" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator-item" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("models/ItemModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/items",defaults:{id:null,name:"",checked:!0,description:"",type:null,permissions:null}});return i}),define("collections/ItemPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ItemModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ItemModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/items",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("views/modalComponents/ItemModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/ItemModalTemplate.html","collections/ItemPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/ItemModalTemplate.html")),l=e("collections/ItemPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchItem":"searchItem","click #btnClearItem":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter",gridRegion:"#grid-item",paginatorRegion:"#paginator-item"},ui:{inputModalName:"#inputModalName",inputModalDescription:"#inputModalDescription",form:"#formSearchItem",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchItem())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.itemCollection=new l,this.itemCollection.state.pageSize=5,this.itemCollection.on("fetching",this._startFetch,this),this.itemCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.itemCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.itemCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.itemCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"description",editable:!1,sortable:!0,label:"Descrição",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalName"),r.clear("inputModalDescription"),r.scrollUpModal()},searchItem:function(){this.itemCollection.filterQueryParams={name:r.escapeById("inputModalName"),description:r.escapeById("inputModalDescription")},this.itemCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.itemCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.itemCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinItem")}});return s}),define("views/permission/PagePermission",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/permission/tpl/FormPermissionTemplate.html","models/PermissionModel","collections/PermissionCollection","collections/PermissionPageCollection","text!views/permission/tpl/PagePermissionTemplate.html","views/modalComponents/OperationModal","views/modalComponents/ItemModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/permission/tpl/FormPermissionTemplate.html"),e("models/PermissionModel"),e("collections/PermissionCollection"),e("collections/PermissionPageCollection")),c=e("text!views/permission/tpl/PagePermissionTemplate.html"),d=e("views/modalComponents/OperationModal"),u=e("views/modalComponents/ItemModal"),p=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchOperationModalRegion:"#operationModal",searchItemModalRegion:"#itemModal"},events:{"click 	#query":"_queryPermission","click 	#reset":"_resetPermission","click #searchOperationModal":"_showSearchOperationModal","click #searchItemModal":"_showSearchItemModal",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputOperationId:"#inputOperationId",inputOperationName:"#inputOperationName",inputItemId:"#inputItemId",inputItemName:"#inputItemName",form:"#formPermissionFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryPermission())},initialize:function(){var e=this;this.permissions=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.permissions}),this.counter=new o({collection:this.permissions}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.permissions,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.permissions.getFirstPage({success:function(){console.info("Primeira pagina do grid permission")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchOperationModal=new d({onSelectModel:function(t){e._selectOperation(t)}}),this.searchItemModal=new u({onSelectModel:function(t){e._selectItem(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchOperationModalRegion.show(this.searchOperationModal),this.searchItemModalRegion.show(this.searchItemModal)})},_queryPermission:function(){this.permissions.filterQueryParams={name:r.escapeById("inputName"),operation:r.escapeById("inputOperationId"),item:r.escapeById("inputItemId")},this.permissions.fetch({success:function(){console.info("Consulta para o grid permission")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetPermission:function(){this.ui.form.get(0).reset(),this.permissions.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"operation.name",editable:!1,sortable:!0,label:"Operação",cell:a.extend({fieldName:"operation.name"})},{name:"item.name",editable:!1,sortable:!0,label:"Item",cell:a.extend({fieldName:"item.name"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editPermission/"+e.get("id")},_editModel:function(){},_showSearchOperationModal:function(){this.searchOperationModal.showPage()},_selectOperation:function(e){this.searchOperationModal.hidePage(),this.ui.inputOperationId.val(e.get("id")),this.ui.inputOperationName.val(e.get("name"))},_showSearchItemModal:function(){this.searchItemModal.showPage()},_selectItem:function(e){this.searchItemModal.hidePage(),this.ui.inputItemId.val(e.get("id")),this.ui.inputItemName.val(e.get("name"))}});return p}),define("models/RoleModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/roles",defaults:{id:null,authority:"",description:"",sessions:null,users:null,permissions:null}});return i}),define("collections/RoleCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/RoleModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/RoleModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/roles/all"});return n}),define("collections/RolePageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/RoleModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/RoleModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/roles",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/role/tpl/ModalMultiSelectRoleTemplate.html",[],function(){return'<div class="modal fade" id="myModalRole" tabindex="-1" role="dialog" aria-labelledby="modalRoles" aria-hidden="true" style="display: none;">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n					<span aria-hidden="true">&times;</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">papel</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="container-fluid">\r\n					<div id="messages"></div>\r\n					<div class="row">\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline ">\r\n							<div id="grid-roles-modal" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="paginator-roles-modal" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/role/ModalMultiSelectRole",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","views/components/CustomNumberCell","utilities/utils","collections/RolePageCollection","text!views/role/tpl/ModalMultiSelectRoleTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("views/components/CustomNumberCell"),e("utilities/utils"),e("collections/RolePageCollection")),a=e("text!views/role/tpl/ModalMultiSelectRoleTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{gridRegion:"#grid-roles-modal",paginatorRegion:"#paginator-roles-modal"},events:{"click .btnOk":"close"},ui:{btnOk:".btnOk"},initialize:function(){var e=this;this.projetoRoles=this.collection,this.roles=new r,this.roles.on("fetched",this.endFetch,this),this.roles.on("backgrid:selected",this.selectModel,this),this.grid=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Nenhum registro para escolha",collection:this.roles}),this.paginator=new i.Extension.Paginator({columns:this._getColumns(),collection:this.roles,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.roles.getFirstPage({success:function(){console.info("Primeira pagina do grid role")},error:function(e,t){console.error(t.responseText||t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.paginatorRegion.show(e.paginator)})},selectModel:function(e,t){t?this.projetoRoles.add(e):this.projetoRoles.remove(e)},endFetch:function(){var e=this;this.roles.each(function(t){e.projetoRoles.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},clear:function(){this.grid.$el.find("input[type=checkbox]").prop("checked",!1)},_getColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"authority",editable:!1,sortable:!1,label:"Autoridade",cell:"string"},{name:"description",editable:!1,sortable:!1,label:"Descrição",cell:"string"}];return e}});return o}),define("text!views/role/tpl/MultiSelectRoleTemplate.html",[],function(){return'<div class="panel panel-default plain toggle ">\r\n	<div class="panel-heading">\r\n		<span class="panel-title">\r\n			<span class="pull-left"> Papels &nbsp;&nbsp;&nbsp;</span>\r\n		</span>\r\n		<span>\r\n			<a href="#myModalRole" class="btn btn-info btn-xs" data-toggle="modal">\r\n				<i class="fa  fa-plus-square">&nbsp;&nbsp;Add/Remove Papel</i>\r\n			</a>\r\n		</span>\r\n		<div class="panel-controls panel-controls-hide" style="display: none;">\r\n			<a href="javascript:void(-1)" class="toggle panel-minimize">\r\n				<i class="im-minus"></i>\r\n			</a>\r\n		</div>\r\n	</div>\r\n	<div class="panel-body" style="border: none">\r\n		<div id="gridMultiselectRoles" class="table-responsive"></div>\r\n	</div>\r\n</div>\r\n<div id=\'modalMultiSelectRoles\'></div>'}),define("views/role/MultiSelectRole",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","adapters/backgrid-adapter","marionette","utilities/utils","models/BaseModel","views/components/CustomNumberCell","views/role/ModalMultiSelectRole","text!views/role/tpl/MultiSelectRoleTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("adapters/backgrid-adapter")),n=e("marionette"),r=(e("utilities/utils"),e("models/BaseModel"),e("views/components/CustomNumberCell"),e("views/role/ModalMultiSelectRole")),a=e("text!views/role/tpl/MultiSelectRoleTemplate.html"),o=n.LayoutView.extend({template:t.template(a),regions:{modalMultiSelectRoleRegion:"#modalMultiSelectRoles",gridRolesModalRegion:"#gridMultiselectRoles"},initialize:function(){var e=this;this.roles=this.collection,this.gridRoles=new i.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros adicionados",collection:this.roles}),this.modalMultiSelectRole=new r({collection:this.collection}),this.on("show",function(){e.modalMultiSelectRoleRegion.show(e.modalMultiSelectRole),e.gridRolesModalRegion.show(e.gridRoles)})},clear:function(){this.modalMultiSelectRole.clear()},_getColumns:function(){var e=[{name:"authority",editable:!1,sortable:!1,label:"Autoridade",cell:"string"},{name:"description",editable:!1,sortable:!1,label:"Descrição",cell:"string"}];return e}});return o}),define("views/permission/FormPermission",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/permission/tpl/FormPermissionTemplate.html","models/PermissionModel","collections/PermissionCollection","views/modalComponents/OperationModal","views/modalComponents/ItemModal","collections/RoleCollection","views/role/MultiSelectRole"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/permission/tpl/FormPermissionTemplate.html")),a=(e("models/PermissionModel"),e("collections/PermissionCollection"),e("views/modalComponents/OperationModal")),o=e("views/modalComponents/ItemModal"),s=e("collections/RoleCollection"),l=e("views/role/MultiSelectRole"),c=i.LayoutView.extend({template:t.template(r),regions:{rolesRegion:".roles-container",searchOperationModalRegion:"#operationModal",searchItemModalRegion:"#itemModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchOperationModal":"_showSearchOperationModal","click #searchItemModal":"_showSearchItemModal"},ui:{inputId:"#inputId",inputName:"#inputName",inputOperationId:"#inputOperationId",inputOperationName:"#inputOperationName",inputItemId:"#inputItemId",inputItemName:"#inputItemName",form:"#formPermission"},initialize:function(){var e=this;e.roles=new s,e.roles.add(this.model.get("roles")),this.multiSelectRole=new l({collection:e.roles}),this.searchOperationModal=new a({onSelectModel:function(t){e._selectOperation(t)}}),this.searchItemModal=new o({onSelectModel:function(t){e._selectItem(t)}}),this.on("show",function(){this.searchOperationModalRegion.show(this.searchOperationModal),this.searchItemModalRegion.show(this.searchItemModal),this.rolesRegion.show(this.multiSelectRole),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Permission salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/permissions")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),this.roles.reset(),this.multiSelectRole.clear(),n.clear("inputOperationId"),n.clear("inputOperationName"),n.clear("inputItemId"),n.clear("inputItemName")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),roles:e.roles.toJSON(),operation:e._getOperation(),item:e._getItem()}),t},_getOperation:function(){var e=n.escapeById("inputOperationId"),t=n.escapeById("inputOperationName"),i=null;return e&&t&&(i={id:e,name:t}),i},_getItem:function(){var e=n.escapeById("inputItemId"),t=n.escapeById("inputItemName"),i=null;return e&&t&&(i={id:e,name:t}),i},_showSearchOperationModal:function(){this.searchOperationModal.showPage()},_selectOperation:function(e){this.searchOperationModal.hidePage(),this.ui.inputOperationId.val(e.get("id")),this.ui.inputOperationName.val(e.get("name"))},_showSearchItemModal:function(){this.searchItemModal.showPage()},_selectItem:function(e){this.searchItemModal.hidePage(),this.ui.inputItemId.val(e.get("id")),this.ui.inputItemName.val(e.get("name"))}});return c}),define("text!views/role/tpl/FormRoleTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Role´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Papel</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Papel</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formRole">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputAuthority" class="form-group">\r\n						<label class="control-label" for="inputAuthority">Autoridade</label>\r\n						<input type="text" id="inputAuthority" placeholder="Autoridade" value="{{authority}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputDescription" class="form-group">\r\n						<label class="control-label" for="inputDescription">Descrição</label>\r\n						<input type="text" id="inputDescription" placeholder="Descrição" value="{{description}}" class="form-control  ">\r\n					</div>\r\n					\r\n\r\n					<div class="permissions-container panel"></div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/roles">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'
}),define("text!views/role/tpl/PageRoleTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Role´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Papel</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Papel</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formRoleFilter">\r\n					<br>\r\n							<div id="groupInputAuthority" class="form-group">\r\n								<label class="control-label" for="inputAuthority">Autoridade</label>\r\n								<input type="text" id="inputAuthority" placeholder="Pesquise pelo Autoridade"  class="form-control">\r\n							</div>\r\n							<div id="groupInputDescription" class="form-group">\r\n								<label class="control-label" for="inputDescription">Descrição</label>\r\n								<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newRole" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/role/PageRole",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/role/tpl/FormRoleTemplate.html","models/RoleModel","collections/RoleCollection","collections/RolePageCollection","text!views/role/tpl/PageRoleTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/role/tpl/FormRoleTemplate.html"),e("models/RoleModel"),e("collections/RoleCollection"),e("collections/RolePageCollection")),l=e("text!views/role/tpl/PageRoleTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryRole","click 	#reset":"_resetRole",keypress:"treatKeypress"},ui:{inputAuthority:"#inputAuthority",inputDescription:"#inputDescription",form:"#formRoleFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryRole())},initialize:function(){var e=this;this.roles=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.roles}),this.counter=new a({collection:this.roles}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.roles,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.roles.getFirstPage({success:function(){console.info("Primeira pagina do grid role")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryRole:function(){this.roles.filterQueryParams={authority:r.escapeById("inputAuthority"),description:r.escapeById("inputDescription")},this.roles.fetch({success:function(){console.info("Consulta para o grid role")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetRole:function(){this.ui.form.get(0).reset(),this.roles.reset()},_getColumns:function(){var e=[{name:"authority",editable:!1,sortable:!0,label:"Autoridade",cell:"string"},{name:"description",editable:!1,sortable:!0,label:"Descrição",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editRole/"+e.get("id")},_editModel:function(){}});return c}),define("views/role/FormRole",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/role/tpl/FormRoleTemplate.html","models/RoleModel","collections/RoleCollection","collections/PermissionCollection","views/permission/MultiSelectPermission"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/role/tpl/FormRoleTemplate.html")),a=(e("models/RoleModel"),e("collections/RoleCollection"),e("collections/PermissionCollection")),o=e("views/permission/MultiSelectPermission"),s=i.LayoutView.extend({template:t.template(r),regions:{permissionsRegion:".permissions-container"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputAuthority:"#inputAuthority",inputDescription:"#inputDescription",form:"#formRole"},initialize:function(){var e=this;e.permissions=new a,e.permissions.add(this.model.get("permissions")),this.multiSelectPermission=new o({collection:e.permissions}),this.on("show",function(){this.permissionsRegion.show(this.multiSelectPermission),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Role salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/roles")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputAuthority"),n.clear("inputDescription"),this.permissions.reset(),this.multiSelectPermission.clear()},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,authority:n.escapeById("inputAuthority"),description:n.escapeById("inputDescription"),permissions:e.permissions.toJSON()}),t}});return s}),define("text!views/session/tpl/FormSessionTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Session´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Sessão</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Sessão</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formSession">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputCreationDateContainer" class="form-group">\r\n						<label class="control-label" for="inputCreationDate">Data da criação</label>\r\n						<div id="groupInputCreationDate" class="input-group date" data-date-format="DD/MM/YYYY DD:MM">\r\n							<input id="inputCreationDate" placeholder="Escolha ou digite uma data." type="text" class="form-control   append-left" value="{{creationDate}}" />\r\n							<div class="input-group-addon	append-right">\r\n								<span class="fa fa-calendar"></span>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n					<div class="roles-container panel"></div>					\r\n					<div id="groupInputUser" class="form-group">\r\n						<label class="control-label" for="inputUser">Usuario</label>\r\n						<select class="form-control" id="inputUser"></select>\r\n					</div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/sessions">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("models/SessionModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/sessions",defaults:{id:null,name:"",creationDate:"",roles:null,user:null}});return i}),define("collections/SessionCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/SessionModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/SessionModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/sessions/all"});return n}),define("collections/SessionPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/SessionModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/SessionModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/sessions",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/session/tpl/PageSessionTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Session´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Sessão</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Sessão</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formSessionFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputCreationDateContainer" class="form-group">\r\n								<label class="control-label" for="inputCreationDate">Data da criação</label>\r\n								<div id="groupInputCreationDate" class="input-group date" data-date-format="DD/MM/YYYY DD:MM">\r\n									<input id="inputCreationDate" placeholder="Pesquise pela Data da criação" type="text" class="form-control append-left" />\r\n									<div class="input-group-addon	append-right">\r\n										<span class="fa fa-calendar"></span>\r\n									</div>\r\n								</div>\r\n							</div>\r\n						<div id="groupInputUser" class="form-group">\r\n							<label class="control-label" for="inputUser">Usuario</label>\r\n							<select class="form-control" id="inputUser"></select>\r\n						</div>					\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newSession" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/UserModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/users",defaults:{id:null,name:"",username:"",password:"",enable:"",image:"",roles:null,owner:null}});return i}),define("collections/UserCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/UserModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/UserModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/users/all"});return n}),define("views/session/PageSession",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/session/tpl/FormSessionTemplate.html","models/SessionModel","collections/SessionCollection","collections/SessionPageCollection","text!views/session/tpl/PageSessionTemplate.html","collections/UserCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=e("views/components/Combobox"),o=(e("views/components/CustomStringCell"),e("views/components/Counter")),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/session/tpl/FormSessionTemplate.html"),e("models/SessionModel"),e("collections/SessionCollection"),e("collections/SessionPageCollection")),c=e("text!views/session/tpl/PageSessionTemplate.html"),d=e("collections/UserCollection"),u=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_querySession","click 	#reset":"_resetSession",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputCreationDate:"#inputCreationDate",groupInputCreationDate:"#groupInputCreationDate",inputUser:"#inputUser",form:"#formSessionFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._querySession())},initialize:function(){var e=this;this.sessions=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.sessions}),this.counter=new o({collection:this.sessions}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.sessions,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.sessions.getFirstPage({success:function(){console.info("Primeira pagina do grid session")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.ui.groupInputCreationDate.datetimepicker({language:"pt_BR"}),this.ui.inputCreationDate.datetimepicker({language:"pt_BR"}),this.ui.inputCreationDate.mask("99/99/9999");new a({el:this.ui.inputUser,comboId:"id",comboVal:"name",collectionEntity:d})})},_querySession:function(){this.sessions.filterQueryParams={name:r.escapeById("inputName"),creationDate:r.escapeById("inputCreationDate"),user:r.escapeById("inputUser")},this.sessions.fetch({success:function(){console.info("Consulta para o grid session")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetSession:function(){this.ui.form.get(0).reset(),this.sessions.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"creationDate",editable:!1,sortable:!0,label:"Data da criação",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editSession/"+e.get("id")},_editModel:function(){}});return u}),define("views/session/FormSession",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/session/tpl/FormSessionTemplate.html","models/SessionModel","collections/SessionCollection","collections/RoleCollection","views/role/MultiSelectRole","collections/UserCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=e("views/components/Combobox"),a=e("text!views/session/tpl/FormSessionTemplate.html"),o=(e("models/SessionModel"),e("collections/SessionCollection"),e("collections/RoleCollection")),s=e("views/role/MultiSelectRole"),l=e("collections/UserCollection"),c=i.LayoutView.extend({template:t.template(a),regions:{rolesRegion:".roles-container"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputName:"#inputName",inputCreationDate:"#inputCreationDate",groupInputCreationDate:"#groupInputCreationDate",inputUser:"#inputUser",form:"#formSession"},initialize:function(){var e=this;e.roles=new o,e.roles.add(this.model.get("roles")),this.multiSelectRole=new s({collection:e.roles}),this.on("show",function(){this.ui.groupInputCreationDate.datetimepicker({language:"pt_BR"}),this.ui.inputCreationDate.datetimepicker({language:"pt_BR"}),this.ui.inputCreationDate.mask("99/99/9999"),this.rolesRegion.show(this.multiSelectRole),this.comboUser=new r({el:this.ui.inputUser,comboId:"id",comboVal:"name",collectionEntity:l}),this.comboUser.setValue(this.model.get("user")),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","Session salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/sessions")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputCreationDate"),this.roles.reset(),this.multiSelectRole.clear(),n.clear("inputUser")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),creationDate:n.escapeById("inputCreationDate"),roles:e.roles.toJSON(),user:e.comboUser.getJsonValue()}),t},_getUser:function(){var e=this.comboUser.getRawValue();return e?{id:e}:null}});return c}),define("text!views/user/tpl/FormUserTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- User´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Usuário</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Usuário</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formUser">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputUsername" class="form-group">\r\n						<label class="control-label" for="inputUsername">Username</label>\r\n						<input type="text" id="inputUsername" placeholder="Username" value="{{username}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputPassword" class="form-group">\r\n						<label class="control-label" for="inputPassword">Password</label>\r\n						<input type="text" id="inputPassword" placeholder="Password" value="{{password}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputEnable" class="form-group checkbox ">\r\n						<label class="checkbox ">\r\n							<input id="inputEnable" type="checkbox" {{enable ? \'checked\' :\'\'}}>\r\n							Ativo\r\n						</label>\r\n					</div>\r\n					<div id="groupInputImage" class="form-group">\r\n						<label class="control-label" for="inputImage">Imagem</label>\r\n						<input type="text" id="inputImage" placeholder="Imagem" value="{{image}}" class="form-control  ">\r\n					</div>\r\n					\r\n\r\n					<div class="roles-container panel"></div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/users">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n'}),define("collections/UserPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/UserModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/UserModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/users",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/user/tpl/PageUserTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- User´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Usuário</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Usuário</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formUserFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome"  class="form-control">\r\n							</div>\r\n							<div id="groupInputUsername" class="form-group">\r\n								<label class="control-label" for="inputUsername">Username</label>\r\n								<input type="text" id="inputUsername" placeholder="Pesquise pelo Username"  class="form-control">\r\n							</div>\r\n							<div id="groupInputPassword" class="form-group">\r\n								<label class="control-label" for="inputPassword">Password</label>\r\n								<input type="text" id="inputPassword" placeholder="Pesquise pelo Password"  class="form-control">\r\n							</div>\r\n							<div id="groupInputEnable" class="form-group checkbox">\r\n								<label class="checkbox ">\r\n									<input id="inputEnable" type="checkbox" >\r\n									Ativo\r\n								</label>\r\n							</div>\r\n							<div id="groupInputImage" class="form-group">\r\n								<label class="control-label" for="inputImage">Imagem</label>\r\n								<input type="text" id="inputImage" placeholder="Pesquise pelo Imagem"  class="form-control">\r\n							</div>\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newUser" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/user/PageUser",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/user/tpl/FormUserTemplate.html","models/UserModel","collections/UserCollection","collections/UserPageCollection","text!views/user/tpl/PageUserTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/ActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/user/tpl/FormUserTemplate.html"),e("models/UserModel"),e("collections/UserCollection"),e("collections/UserPageCollection")),l=e("text!views/user/tpl/PageUserTemplate.html"),c=i.LayoutView.extend({template:t.template(l),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryUser","click 	#reset":"_resetUser",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputUsername:"#inputUsername",inputPassword:"#inputPassword",inputEnable:"#inputEnable",inputImage:"#inputImage",form:"#formUserFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryUser())
},initialize:function(){var e=this;this.users=new s,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.users}),this.counter=new a({collection:this.users}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.users,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.users.getFirstPage({success:function(){console.info("Primeira pagina do grid user")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryUser:function(){this.users.filterQueryParams={name:r.escapeById("inputName"),username:r.escapeById("inputUsername"),password:r.escapeById("inputPassword"),enable:r.escapeById("inputEnable"),image:r.escapeById("inputImage")},this.users.fetch({success:function(){console.info("Consulta para o grid user")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetUser:function(){this.ui.form.get(0).reset(),this.users.reset()},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome",cell:"string"},{name:"username",editable:!1,sortable:!0,label:"Username",cell:"string"},{name:"password",editable:!1,sortable:!0,label:"Password",cell:"string"},{name:"enable",editable:!1,sortable:!0,label:"Ativo",cell:"string"},{name:"image",editable:!1,sortable:!0,label:"Imagem",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:o.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editUser/"+e.get("id")},_editModel:function(){}});return c}),define("views/user/FormUser",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/user/tpl/FormUserTemplate.html","models/UserModel","collections/UserCollection","collections/RoleCollection","views/role/MultiSelectRole"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/user/tpl/FormUserTemplate.html")),a=(e("models/UserModel"),e("collections/UserCollection")),o=e("collections/RoleCollection"),s=e("views/role/MultiSelectRole"),l=i.LayoutView.extend({template:t.template(r),regions:{rolesRegion:".roles-container"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","change  #inputUsername":"changeUsername"},ui:{inputId:"#inputId",inputName:"#inputName",inputUsername:"#inputUsername",inputPassword:"#inputPassword",inputEnable:"#inputEnable",inputImage:"#inputImage",form:"#formUser"},initialize:function(){var e=this;e.roles=new o,e.roles.add(this.model.get("roles")),this.multiSelectRole=new s({collection:e.roles}),this.on("show",function(){this.rolesRegion.show(this.multiSelectRole),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showMessage("success","User salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/users")},error:function(e,t){n.showMessage("error","Problema ao salvar registro: "+n.getJson(t.responseText).legalMessage||""),console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputUsername"),n.clear("inputPassword"),n.clear("inputEnable"),n.clear("inputImage"),this.roles.reset(),this.multiSelectRole.clear()},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),username:n.escapeById("inputUsername"),password:n.escapeById("inputPassword"),enable:n.escapeById("inputEnable"),image:n.escapeById("inputImage"),roles:e.roles.toJSON()}),t},changeUsername:function(){var e=this;n.validateUnique({element:e.ui.inputUsername,fieldName:"username",fieldDisplayName:"Username",view:e,collection:a})}});return l}),define("text!views/itemModulo/tpl/FormItemModuloTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- ItemModulo´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Item do Módulo</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Item do Módulo</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formItemModulo">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome do item de módulo</label>\r\n						<input type="text" id="inputName" placeholder="Nome do item de módulo" value="{{name}}" class="form-control  validate[required]">\r\n					</div>\r\n					\r\n					<div id="groupInputYamlContent" class="form-group">\r\n						<label class="control-label" for="inputYamlContent">Conteudo do arquivo yaml</label>\r\n						<textarea rows="3" id="inputYamlContent" placeholder="Conteudo do arquivo yaml" value="{{yamlContent}}"  class="form-control  validate[required]">{{yamlContent}} </textarea>\r\n					</div>					\r\n							\r\n					<div id="groupInputModuloContainer" class="form-group">\r\n						<label class="control-label" for="inputModulo">Módulo</label>\r\n						<div id="groupInputModulo" class="input-group">\r\n							<input id="inputModuloId" type="hidden" class="form-control append-left" value="{{modulo && modulo.id}}" />\r\n							<input id="inputModuloName"  placeholder="Escolha um Módulo" type="text" class="form-control append-left" value="{{modulo && modulo.name}}" />\r\n							<div class="input-group-addon append-right" id="searchModuloModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/itemModulos">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'moduloModal\'></div>\r\n'}),define("models/ItemModuloModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/itemModulos",defaults:{id:null,name:"",checked:!0,yamlContent:"",modulo:null}});return i}),define("collections/ItemModuloCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ItemModuloModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ItemModuloModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/itemModulos/all"});return n}),define("collections/ItemModuloPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ItemModuloModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ItemModuloModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/itemModulos",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("text!views/itemModulo/tpl/PageItemModuloTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- ItemModulo´s page -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Pesquisar Item do Módulo</li>\r\n		</ul>\r\n	</div>\r\n	<div class="page-content">\r\n		<h1>Pesquisar Item do Módulo</h1>\r\n		<div class="main-content">\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n				<form role="form" id="formItemModuloFilter">\r\n					<br>\r\n							<div id="groupInputName" class="form-group">\r\n								<label class="control-label" for="inputName">Nome do item de módulo</label>\r\n								<input type="text" id="inputName" placeholder="Pesquise pelo Nome do item de módulo"  class="form-control">\r\n							</div>\r\n							<div id="groupInputYamlContent" class="form-group">\r\n								<label class="control-label" for="inputYamlContent">Conteudo do arquivo yaml</label>\r\n								<input type="text" id="inputYamlContent" placeholder="Pesquise pelo Conteudo do arquivo yaml"  class="form-control">\r\n							</div>\r\n						<div id="groupInputModuloContainer" class="form-group">\r\n							<label class="control-label" for="inputModulo">Módulo</label>\r\n							<div id="groupInputModulo" class="input-group">\r\n								<input id="inputModuloId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputModuloName" placeholder="Pesquise pelo Módulo"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right" id="searchModuloModal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n					\r\n					</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n						<i class="fa fa-search"></i>\r\n						Pesquisar\r\n					</a>\r\n					&nbsp;\r\n					<a href="#app/newItemModulo" class="btn btn-info">\r\n						<i class="fa fa-plus "></i>\r\n						Novo\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n				</div>\r\n			</div>\r\n			</div>\r\n			<div class="panel panel-default plain toggle panelClose panelRefresh">\r\n				<div class="panel-body">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div id=\'moduloModal\'></div>\r\n'}),define("text!views/modalComponents/tpl/ModuloModalTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- Modal Modulo´s form -->\r\n<div class="modal fade" id="dialogModulo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Módulo</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form id="formSearchModulo">\r\n							<div id="groupInputModalNome" class="form-group">\r\n								<label class="control-label" for="inputModalNome">Nome do Módulo</label>\r\n								<input type="text" id="inputModalNome" placeholder="Nome do Módulo"  class="form-control">\r\n							</div>\r\n							\r\n		\r\n					<div class="form-actions spinner" id="spinModulo">\r\n						<a href="javascript:void(0)" id="btnSearchModulo" class="btn btn-primary btn-large" >\r\n							<i class="fa fa-search"></i>\r\n							Pesquisar\r\n						</a>\r\n						<a href="javascript:void(0)" id="btnClearModulo" class="btn btn-info btn-large">\r\n							<i class="fa fa-trash"></i>\r\n							Nova Pesquisa\r\n						</a>\r\n					</div>\r\n					\r\n				<div class="row">\r\n				<div class="col-xs-12">\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div class="divTableResults" id="resultadoModuloDiv" >\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid-modulo" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter-modulo" class=" pull-left"></div>\r\n								<div id="paginator-modulo" class="pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n				</form>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("models/ModuloModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({urlRoot:"rs/crud/modulos",defaults:{id:null,nome:"",packageName:"",items:null}});return i}),define("collections/ModuloPageCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/ModuloModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter")),i=e("models/ModuloModel"),n=t.PageableCollection.extend({model:i,url:"rs/crud/modulos",mode:"server",state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}});return n}),define("views/modalComponents/ModuloModal",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/RadioButtonCell","views/components/Counter","views/components/CustomClickedRow","views/components/Combobox","views/components/CustomNumberCell","text!views/modalComponents/tpl/ModuloModalTemplate.html","collections/ModuloPageCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/RadioButtonCell"),e("views/components/Counter")),o=e("views/components/CustomClickedRow"),s=(e("views/components/Combobox"),e("views/components/CustomNumberCell"),e("text!views/modalComponents/tpl/ModuloModalTemplate.html")),l=e("collections/ModuloPageCollection"),s=i.LayoutView.extend({template:t.template(s),events:{"click #btnSearchModulo":"searchModulo","click #btnClearModulo":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},regions:{counterRegion:"#counter-modulo",gridRegion:"#grid-modulo",paginatorRegion:"#paginator-modulo"},ui:{inputModalNome:"#inputModalNome",form:"#formSearchModulo",modalScreen:".modal"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this.searchModulo())},initialize:function(e){var t=this;this.onSelectModel=e.onSelectModel,this.moduloCollection=new l,this.moduloCollection.state.pageSize=5,this.moduloCollection.on("fetching",this._startFetch,this),this.moduloCollection.on("fetched",this._stopFetch,this),this.grid=new n.Grid({row:o,className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.moduloCollection,emptyText:"Sem registros para exibir."}),this.counter=new a({collection:this.moduloCollection}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.moduloCollection,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.on("show",function(){t.gridRegion.show(t.grid),t.counterRegion.show(t.counter),t.paginatorRegion.show(t.paginator)})},selectRow:function(e){var t=r.getWrappedModel(e);t&&this.onSelectModel(t)},_getColumns:function(){var e=[{name:"nome",editable:!1,sortable:!0,label:"Nome do Módulo",cell:"string"}];return e},clearFields:function(){r.clear("inputModalId"),r.clear("inputModalNome"),r.scrollUpModal()},searchModulo:function(){this.moduloCollection.filterQueryParams={nome:r.escapeById("inputModalNome")},this.moduloCollection.fetch({resetState:!0,success:function(){},error:function(e,t,i){console.error(e,t,i)}})},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.moduloCollection.getFirstPage({success:function(){},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}})},clearModal:function(){this.clearFields(),this.ui.form.get(0).reset(),this.moduloCollection.reset()},_stopFetch:function(){r.stopSpinner(),r.scrollDownModal()},_startFetch:function(){r.showSpinner("spinModulo")}});return s}),define("views/itemModulo/PageItemModulo",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/itemModulo/tpl/FormItemModuloTemplate.html","models/ItemModuloModel","collections/ItemModuloCollection","collections/ItemModuloPageCollection","text!views/itemModulo/tpl/PageItemModuloTemplate.html","views/modalComponents/ModuloModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell")),o=e("views/components/Counter"),s=e("views/components/ActionsCell"),l=(e("views/components/CustomNumberCell"),e("text!views/itemModulo/tpl/FormItemModuloTemplate.html"),e("models/ItemModuloModel"),e("collections/ItemModuloCollection"),e("collections/ItemModuloPageCollection")),c=e("text!views/itemModulo/tpl/PageItemModuloTemplate.html"),d=e("views/modalComponents/ModuloModal"),u=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator",searchModuloModalRegion:"#moduloModal"},events:{"click 	#query":"_queryItemModulo","click 	#reset":"_resetItemModulo","click #searchModuloModal":"_showSearchModuloModal",keypress:"treatKeypress"},ui:{inputName:"#inputName",inputYamlContent:"#inputYamlContent",inputModuloId:"#inputModuloId",inputModuloName:"#inputModuloName",form:"#formItemModuloFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryItemModulo())},initialize:function(){var e=this;this.itemModulos=new l,this.grid=new n.Grid({className:"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.itemModulos}),this.counter=new o({collection:this.itemModulos}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.itemModulos,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.itemModulos.getFirstPage({success:function(){console.info("Primeira pagina do grid itemModulo")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.searchModuloModal=new d({onSelectModel:function(t){e._selectModulo(t)}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator),this.searchModuloModalRegion.show(this.searchModuloModal)})},_queryItemModulo:function(){this.itemModulos.filterQueryParams={name:r.escapeById("inputName"),yamlContent:r.escapeById("inputYamlContent"),modulo:r.escapeById("inputModuloId")},this.itemModulos.fetch({success:function(){console.info("Consulta para o grid itemModulo")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetItemModulo:function(){this.ui.form.get(0).reset(),this.itemModulos.reset(),r.clear("inputModuloId")},_getColumns:function(){var e=[{name:"name",editable:!1,sortable:!0,label:"Nome do item de módulo",cell:"string"},{name:"yamlContent",editable:!1,sortable:!0,label:"Conteudo do arquivo yaml",cell:"string"},{name:"modulo.name",editable:!1,sortable:!0,label:"Módulo",cell:a.extend({fieldName:"modulo.name"})},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({editPath:this._getEditPath,deletePath:this._getDeletePath,editModel:this._editModel,deleteModel:this._deleteModel})}];return e},_deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showSuccessMessage("ItemModulo removido com sucesso!")},error:function(e,t){r.showErrorMessage("Problema ao salvar registro",t)}})})},_getDeletePath:function(){},_getEditPath:function(e){return"app/editItemModulo/"+e.get("id")},_editModel:function(){},_showSearchModuloModal:function(){this.searchModuloModal.showPage()},_selectModulo:function(e){this.searchModuloModal.hidePage(),this.ui.inputModuloId.val(e.get("id")),this.ui.inputModuloName.val(e.get("name"))}});return u}),define("views/itemModulo/FormItemModulo",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","text!views/itemModulo/tpl/FormItemModuloTemplate.html","models/ItemModuloModel","collections/ItemModuloCollection","views/modalComponents/ModuloModal"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("text!views/itemModulo/tpl/FormItemModuloTemplate.html")),a=(e("models/ItemModuloModel"),e("collections/ItemModuloCollection"),e("views/modalComponents/ModuloModal")),o=i.LayoutView.extend({template:t.template(r),regions:{searchModuloModalRegion:"#moduloModal"},events:{"click 	.save":"save","click 	.saveAndContinue":"saveAndContinue","click #searchModuloModal":"_showSearchModuloModal"},ui:{inputId:"#inputId",inputName:"#inputName",inputYamlContent:"#inputYamlContent",inputModuloId:"#inputModuloId",inputModuloName:"#inputModuloName",form:"#formItemModulo"},initialize:function(){var e=this;this.searchModuloModal=new a({onSelectModel:function(t){e._selectModulo(t)}}),this.on("show",function(){this.searchModuloModalRegion.show(this.searchModuloModal),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showSuccessMessage("ItemModulo salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/itemModulos")},error:function(e,t){n.showErrorMessage("Problema ao salvar registro",t)}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputName"),n.clear("inputYamlContent"),n.clear("inputModuloId"),n.clear("inputModuloName")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,name:n.escapeById("inputName"),yamlContent:n.escapeById("inputYamlContent"),modulo:e._getModulo()}),t},_getModulo:function(){var e=n.escapeById("inputModuloId"),t=n.escapeById("inputModuloName"),i=null;return e&&t&&(i={id:e,name:t}),i},_showSearchModuloModal:function(){this.searchModuloModal.showPage()},_selectModulo:function(e){this.searchModuloModal.hidePage(),this.ui.inputModuloId.val(e.get("id")),this.ui.inputModuloName.val(e.get("name"))}});return o}),define("views/components/GeneralActionsCell",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("marionette"),Backgrid.Cell.extend({editPath:"",deletePath:"",buttons:[],className:"td-actions",editor:Backgrid.CellEditor,events:{},onEdit:function(){this.editModel(this.model)},onDelete:function(){this.deleteModel(this.model)},render:function(){var e=this;return this.$el.empty(),t.each(this.buttons,function(t){var i=[];t.type=t.type||"default",i.push("<a id='"+t.id+"' href='javascript:void(-1)' class='btn btn-xs button_cell btn-"+t.type+"'  data-toggle='tooltip' data-placement='top' title='' data-original-title='"+t.hint+"' >"),i.push("	<i class='fa "+t.icon+" fa-lg'></i>"),i.push("</a>"),e.$el.append(i.join(" ")),e.events["click #"+t.id]=function(){t.onClick.call(e.context,e.model)}}),this.delegateEvents(),this.$el.ready(function(){e.$el.find("a").tooltip()}),this}}));return i}),define("text!views/modulo/tpl/FormModuloTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- Modulo´s form -->\r\n<div class="main-content-inner">\r\n	<div class="page-content">\r\n		<div class="hpanel">\r\n			<div class="panel-heading hbuilt">\r\n				<div class="panel-tools"></div>\r\n				Cadastrar Módulo\r\n			</div>\r\n			<div class="panel-body">\r\n				<div class="main-principal">\r\n					<div class="row">\r\n						<div class="col-xs-12 col-sm-12">\r\n							<div id="messages_div"></div>\r\n						</div>\r\n					</div>\r\n					<div class="hr-24"></div>\r\n					<div class="panel panel-default plain">\r\n						<div class="">\r\n							<div class="col-xs-12 col-sm-12">\r\n								<form role="form" id="formModulo">\r\n									<br>\r\n									<input type="hidden" id="inputId" value="{{id}}">\r\n									<div id="groupInputNome" class="form-group">\r\n										<label class="control-label" for="inputNome">Nome do Módulo</label>\r\n										<input type="text" id="inputNome" placeholder="Nome do Módulo" value="{{nome}}" class="form-control  validate[required]">\r\n									</div>\r\n									<div id="groupInputPackageName" class="form-group">\r\n										<label class="control-label" for="inputPackageName">Nome do Pacote</label>\r\n										<input type="text" id="inputPackageName" placeholder="Nome do Pacote" value="{{packageName}}" class="form-control  validate[required]">\r\n									</div>\r\n								</form>\r\n							</div>\r\n						</div>\r\n						<div class="clearfix form-actions form-group mb15">\r\n							<div class="col-md-9"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="hpanel">\r\n					<div class="panel-heading hbuilt">\r\n						<div class="panel-tools"></div>\r\n						Classes\r\n						<button class="btn btn-default btn-xs open-page-help" type="button">\r\n							<i class="fa fa-wrench"></i>\r\n							Extrair YAML´s\r\n						</button>\r\n					</div>\r\n					<div class="items-container"></div>\r\n				</div>\r\n				<div class="clearfix form-actions form-group mb15">\r\n					<div class="col-md-9">\r\n						<a href="javascript:void(0)" id="save" class="save btn btn-success">\r\n							<i class="ace-icon save fa fa-check bigger-110"></i>\r\n							Salvar\r\n						</a>\r\n						<a href="javascript:void(0)" class=" generateModule  btn btn btn-outline btn-info " style="display: {{ id ? \'inline-block\' : \'none\' }} ">\r\n							<i class="ace-icon fa fa-check bigger-110"></i>\r\n							Gera modulo\r\n						</a>\r\n						<a href="#app/editor/{{id}}" class=" btn btn btn-outline  " style="display: {{ id ? \'inline-block\' : \'none\' }} ">\r\n							<i class="ace-icon fa fa-pencil bigger-110"></i>\r\n							Editar Classes\r\n						</a>\r\n					</div>\r\n				</div>\r\n				<div class="panel-footer"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class="page-help-generate-yaml"></div>\r\n'}),define("collections/ModuloCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/ModuloModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=e("models/ModuloModel"),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/modulos/all"});return n}),define("text!views/modulo/tpl/PageModuloTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- Modulo´s page -->\r\n<div class="main-content-inner">\r\n	<div class="page-content">\r\n		<div class="hpanel">\r\n			<div class="panel-heading hbuilt">\r\n				<div class="panel-tools"></div>\r\n				Módulos\r\n			</div>\r\n			<div class="panel-body">\r\n				<div class="main-principal">\r\n					<div class="row">\r\n						<div class="col-xs-12 col-sm-12">\r\n							<div id="messages_div"></div>\r\n						</div>\r\n					</div>\r\n					<div class="hr-24"></div>\r\n					<div class="panel panel-default plain">\r\n						<div class="">\r\n							<div class="col-xs-12 col-sm-12">\r\n								<form role="form" id="formModuloFilter">\r\n									<br>\r\n									<div id="groupInputNome" class="form-group">\r\n										<label class="control-label" for="inputNome">Nome do Módulo</label>\r\n										<input type="text" id="inputNome" placeholder="Pesquise pelo Nome do Módulo" class="form-control">\r\n									</div>\r\n								</form>\r\n							</div>\r\n						</div>\r\n						<div class="clearfix form-actions form-group mb15">\r\n							<div class="col-md-9">\r\n								<a href="javascript:void(0)" id="query" class="btn btn-primary">\r\n									<i class="fa fa-search"></i>\r\n									Pesquisar\r\n								</a>\r\n								&nbsp;\r\n								<a href="#app/newModulo" class="btn btn-info">\r\n									<i class="fa fa-plus "></i>\r\n									Novo\r\n								</a>\r\n								&nbsp;\r\n								<a href="javascript:void(0)" id="reset" class="btn btn-default">Limpar</a>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<hr>\r\n					<h3 class="header smaller lighter blue">Resultados</h3>\r\n					<div>\r\n						<div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">\r\n							<div id="messages_div"></div>\r\n							<div id="grid" class="table-responsive"></div>\r\n							<div class="">\r\n								<div id="counter" class=" pull-left"></div>\r\n								<div id="paginator" class=" pull-right"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</div>\r\n'
}),define("views/modulo/PageModulo",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/GeneralActionsCell","views/components/CustomNumberCell","text!views/modulo/tpl/FormModuloTemplate.html","models/ModuloModel","collections/ModuloCollection","collections/ModuloPageCollection","text!views/modulo/tpl/PageModuloTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter")),o=e("views/components/GeneralActionsCell"),s=(e("views/components/CustomNumberCell"),e("text!views/modulo/tpl/FormModuloTemplate.html"),e("models/ModuloModel")),l=(e("collections/ModuloCollection"),e("collections/ModuloPageCollection")),c=e("text!views/modulo/tpl/PageModuloTemplate.html"),d=i.LayoutView.extend({template:t.template(c),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryModulo","click 	#reset":"_resetModulo",keypress:"treatKeypress"},ui:{inputNome:"#inputNome",form:"#formModuloFilter"},treatKeypress:function(e){r.enterPressed(e)&&(e.preventDefault(),this._queryModulo())},salvaModulo:function(e){console.log(e)},initialize:function(){var e=this;this.modulos=new l,this.grid=new n.Grid({className:"table backgrid table-condensed ",columns:this._getColumns(),emptyText:"Sem registros",collection:this.modulos}),this.grid.listenTo(this.modulos,"change",function(e){e.save()}),this.counter=new a({collection:this.modulos}),this.paginator=new n.Extension.Paginator({columns:this._getColumns(),collection:this.modulos,className:"dataTables_paginate paging_simple_numbers",uiClassName:"pagination"}),this.modulos.getFirstPage({success:function(){console.info("Primeira pagina do grid modulo")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))}}),this.on("show",function(){e.gridRegion.show(e.grid),e.counterRegion.show(e.counter),e.paginatorRegion.show(e.paginator)})},_queryModulo:function(){this.modulos.filterQueryParams={nome:r.escapeById("inputNome")},this.modulos.fetch({success:function(){console.info("Consulta para o grid modulo")},error:function(e,t){console.error(t.responseText||t.getResponseHeader&&t.getResponseHeader("exception"))},complete:function(){}})},_resetModulo:function(){this.ui.form.get(0).reset(),this.modulos.reset()},_getColumns:function(){var e=this,t=[{name:"nome",editable:!0,sortable:!0,label:"Nome do Módulo",cell:"string"},{name:"packageName",editable:!0,sortable:!0,label:"Pacote",cell:"string"},{name:"acoes",label:"Ações(Editar, Excluir)",sortable:!1,cell:o.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"success",icon:"fa-file-code-o",hint:"Abrir Editor yaml",onClick:e.abrirVisual}),t.push({id:"printer_button",type:"danger",hint:"Remover módulo",icon:"fa-trash",onClick:e.deleteModel}),t},abrirVisual:function(e){r.goPage("app/editor/"+e.get("id"),!0)},deleteModel:function(e){var t=this,i=new s({id:e.id});r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",function(n){n&&i.destroy({success:function(){t.modulos.remove(e),r.showMessage("info","Gestão UTI - Dados Iniciais removido com sucesso!")},error:function(e,t){r.showMessage("error","Problema ao remover o registro",t)}})})}});return d}),define("text!views/item/tpl/FormItemTemplate.html",[],function(){return'<!-- generated: 30/08/2015 20:23:12 -->\r\n<!-- Item´s form -->\r\n<div class="main-content-inner">\r\n	<div class="breadcrumbs" id="breadcrumbs">\r\n		<ul class="breadcrumb">\r\n			<li>\r\n				<i class="ace-icon fa fa-home home-icon"></i>\r\n				<a href="#">Home</a>\r\n			</li>\r\n			<li class="active">Cadastrar Item</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="page-content">\r\n		<h1>Cadastrar Item</h1>\r\n		<div class="main-principal">\r\n			<div class="row">\r\n				<div class="col-xs-12 col-sm-12">\r\n				<div id="messages_div"></div>\r\n				</div>\r\n			</div>\r\n			<div class="hr-24"></div>\r\n			\r\n			<div class="panel panel-default plain">\r\n				<div class="">\r\n					<div class="col-xs-12 col-sm-12">\r\n			\r\n				<form role="form" id="formItem">\r\n				<br>\r\n				<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group">\r\n						<label class="control-label" for="inputName">Nome</label>\r\n						<input type="text" id="inputName" placeholder="Nome" value="{{name}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputDescription" class="form-group">\r\n						<label class="control-label" for="inputDescription">Descrição</label>\r\n						<input type="text" id="inputDescription" placeholder="Descrição" value="{{description}}" class="form-control  ">\r\n					</div>\r\n					\r\n					<div id="groupInputTypeContainer" class="form-group">\r\n						<label class="control-label" for="inputType">Tipo</label>\r\n						<div id="groupInputType" class="input-group">\r\n							<input id="inputTypeId" type="hidden" class="form-control append-left" value="{{type && type.id}}" />\r\n							<input id="inputTypeName"  placeholder="Escolha um Tipo" type="text" class="form-control append-left" value="{{type && type.name}}" />\r\n							<div class="input-group-addon append-right" id="searchTypeModal" data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n\r\n					<div class="permissions-container panel"></div>					\r\n				</form>\r\n				</div>\r\n			</div>\r\n			<div class="clearfix form-actions form-group mb15">\r\n				<div class="col-md-9">\r\n					<a href="javascript:void(0)" id="save"  class="save btn btn-primary">\r\n						<i class="ace-icon save fa fa-check bigger-110"></i>\r\n						Salvar\r\n					</a>\r\n					&nbsp;\r\n					<a href="javascript:void(0)" class=" saveAndContinue  btn btn-info" style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n						<i class="ace-icon fa fa-check bigger-110"></i>\r\n						Salvar e Continuar\r\n					</a>\r\n					&nbsp;\r\n\r\n					<a class="go-back-link btn btn-default" href="#app/items">\r\n						<i class="ace-icon fa fa-undo bigger-110"></i>\r\n						Voltar para a listagem\r\n					</a>\r\n				</div>\r\n			</div>\r\n    	  </div>\r\n		</div>\r\n	</div>\r\n</div>				\r\n<div id=\'typeModal\'></div>\r\n'}),define("text!views/itemModulo/tpl/FrameItemModuloTemplate.html",[],function(){return'<div class="panel-body">\r\n	<div id="messages_items_div"></div>\r\n	<div id="grid" class="table-responsive"></div>\r\n	<div class="">\r\n		<div id="counter" class=" pull-left"></div>\r\n		<div id="paginator" class=" pull-right"></div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal item-editor fade" id="itemEditor" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg" role="document">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">\r\n					Editor de arquivos YAML\r\n					<strong>\r\n						[[\r\n						<span class="yaml-name"> </span>\r\n						]]\r\n					</strong>\r\n				</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="hpanel">\r\n					<textarea id="modalCodeYaml" name="code"></textarea>\r\n				</div>\r\n\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-success salvar-modal">Salvar</button>\r\n				<button type="button" class="btn btn-danger cancelar-modal">Cancelar</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n\r\n\r\n'}),define("views/itemModulo/FrameItemModulo",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/components/CustomStringCell","views/components/Counter","views/components/ActionsCell","views/components/CustomNumberCell","text!views/item/tpl/FormItemTemplate.html","models/ItemModuloModel","collections/ItemModuloCollection","text!views/itemModulo/tpl/FrameItemModuloTemplate.html","views/components/GeneralActionsCell","codemirror"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("adapters/backgrid-adapter"),r=e("utilities/utils"),a=(e("views/components/Combobox"),e("views/components/CustomStringCell"),e("views/components/Counter"),e("views/components/ActionsCell"),e("views/components/CustomNumberCell"),e("text!views/item/tpl/FormItemTemplate.html"),e("models/ItemModuloModel"),e("collections/ItemModuloCollection")),o=e("text!views/itemModulo/tpl/FrameItemModuloTemplate.html"),s=e("views/components/GeneralActionsCell"),l=e("codemirror"),c=i.LayoutView.extend({template:t.template(o),regions:{gridRegion:"#grid",counterRegion:"#counter",paginatorRegion:"#paginator"},events:{"click 	#query":"_queryItem","click 	.salvar-modal":"salvaItemModal","click 	.cancelar-modal":"cancelaItemModal","click 	#reset":"_resetItem",keypress:"treatKeypress"},ui:{modalScreen:".item-editor",yamlName:".yaml-name",modalCodeYaml:"#modalCodeYaml"},initialize:function(e){var t=this;this.items=e&&e.collection||new a,this.grid=new n.Grid({className:"table backgrid table-condensed ",columns:this._getColumns(),emptyText:"Sem ítens",collection:this.items}),this.on("show",function(){t.gridRegion.show(t.grid),this.editor=l.fromTextArea(document.getElementById("modalCodeYaml"),{mode:"text/x-yaml",lineNumbers:!0,selectionPointer:!0})})},_resetItem:function(){this.ui.form.get(0).reset(),this.items.reset()},_getColumns:function(){var e=this,t=[{name:"name",editable:!0,sortable:!0,label:"Nome",cell:"string"},{name:"description",editable:!0,sortable:!0,label:"Descrição",cell:"string"},{name:"acoes",label:"Ações(Editar, Deletar)",sortable:!1,cell:s.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",hint:"Editar Item",onClick:e.editarItem}),t.push({id:"printer_button",type:"danger",hint:"Remove",icon:"fa-times",onClick:e.deleteModel}),t},clearModal:function(){},salvaItemModal:function(){this.editModel.set("name",this.ui.yamlName.text()),this.editModel.set("yamlContent",this.editor.getValue()),this.ui.modalScreen.modal("hide")},cancelaItemModal:function(){this.ui.modalScreen.modal("hide")},editarItem:function(e){this.clearModal(),this.editModel=e,this.editor.setValue(e.get("yamlContent")),this.ui.yamlName.text(e.get("name")),this.ui.modalScreen.modal({backdrop:"static"})},deleteModel:function(e){r.Bootbox.confirm("Tem certeza que deseja remover o registro [ "+e.get("id")+"] ?",function(t){t&&e.destroy({success:function(){r.showMessage("success","Registro removido com sucesso!")},error:function(){r.showMessage("error","Problemas ao remover registro!"),console.error(_resp.responseText||_resp.getResponseHeader&&_resp.getResponseHeader("exception"))}})})}});return c}),define("text!views/helpGenerateYaml/tpl/PageHelpGenerateYamlTemplate.html",[],function(){return'<div class="modal fade" id="dialogApplication" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Engenharia reversa de base de dados</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div id="messages_modal_div"></div>\r\n				<div class="hpanel" style="margin-bottom: 0px;">\r\n					<div class="panel-heading">Banco de dados</div>\r\n					<div class="panel-body">\r\n						<div class="row">\r\n							<div id="groupInputDatabaseType" class="form-group col-xs-2 col-sm-2">\r\n								<label class="control-label" for="inputModalName">Tipo</label>\r\n								<select id="inputDatabaseType" class="form-control validate[required]">\r\n									<option value="POSTGRES">Postgres</option>\r\n									<option selected value="ORACLE">Oracle</option>\r\n								</select>\r\n							</div>\r\n							<div id="groupInputDatabaseUrl" class="form-group col-xs-4 col-sm-4">\r\n								<label class="control-label" for="inputDatabaseUrl">url</label>\r\n								<input type="text" id="inputDatabaseUrl" placeholder="Url" class="form-control validate[required]" value="jdbc:oracle:thin:@192.168.0.55:1521:gshjava">\r\n							</div>\r\n							<div id="groupInputDatabaseUsername" class="form-group col-xs-2 col-sm-2">\r\n								<label class="control-label" for="inputModalName">Usuario</label>\r\n								<input type="text" id="inputDatabaseUsername" placeholder="usuário do banco de dados" class="form-control validate[required]" value="ROBSON">\r\n							</div>\r\n							<div id="groupInputDatabasePassword" class="form-group col-xs-2 col-sm-2">\r\n								<label class="control-label" for="inputDatabasePassword">Senha</label>\r\n								<input type="password" id="inputDatabasePassword" placeholder="Senha do banco de dados " class="form-control validate[required]" value="gsh">\r\n							</div>\r\n							<div id="spinApplication" class="form-group col-xs-2 col-sm-2" style="padding-top: 20px;">\r\n								<a href="javascript:void(0)" id="btnConnectionTest" class="btn btn-success btn btn-block  ">\r\n									<i class="fa fa-database" aria-hidden="true"></i>\r\n									Testar\r\n								</a>\r\n							</div>\r\n						</div>\r\n						<div class="row">\r\n							<div id="groupInputDatabaseTableNameExceptions" class="form-group col-xs-12 col-sm-12">\r\n								<label class="control-label" for="inputDatabaseTableNameExceptions">Nomes de tabelas </label>\r\n								<textarea type="text" id="inputDatabaseTableNameExceptions" rows="3" placeholder="Nomes de tabelas (regex*)" class="form-control"> GSH_GER_BAIRRO;GSH_GER_CIDADE </textarea>\r\n							</div>\r\n							<div id="groupInputDatabaseColumnNameExceptions" class="form-group col-xs-12 col-sm-12">\r\n								<div class="hpanel" style="margin-bottom: 0px;"></div>\r\n							</div>\r\n						</div>\r\n						<!-- 			<div class=" row"> -->\r\n						<!-- 				<div id="grid" class=" col-xs-6 col-sm-6"></div> -->\r\n						<!-- 			</div> -->\r\n						<div class="form-actions spinner" id="spinApplication">\r\n							<a href="javascript:void(0)" id="btnImportApplication" class="btn w-xs btn-success">\r\n								<i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i>\r\n								Importar\r\n							</a>\r\n							<a href="javascript:void(0)" class="btn w-xs btn-warning clos" data-dismiss="modal">\r\n								<i class="fa fa-times "></i>\r\n								Cancelar\r\n							</a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			</form>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/helpGenerateYaml/PageHelpGenerateYaml",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","views/components/GeneralActionsCell","marionette","adapters/backgrid-adapter","utilities/utils","collections/BaseCollection","codemirror","models/ApplicationModel","text!views/helpGenerateYaml/tpl/PageHelpGenerateYamlTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("views/components/GeneralActionsCell")),n=e("marionette"),r=(e("adapters/backgrid-adapter"),e("utilities/utils")),a=(e("collections/BaseCollection"),e("codemirror"),e("models/ApplicationModel")),o=e("text!views/helpGenerateYaml/tpl/PageHelpGenerateYamlTemplate.html"),s=n.LayoutView.extend({template:t.template(o),events:{"click #btnImportApplication":"importApplication","click #btnConnectionTest":"connectionTest"},regions:{},ui:{inputDatabaseType:"#inputDatabaseType",inputDatabaseUrl:"#inputDatabaseUrl",inputDatabaseUsername:"#inputDatabaseUsername",inputDatabasePassword:"#inputDatabasePassword",inputDatabaseTableNameExceptions:"#inputDatabaseTableNameExceptions",inputDatabaseColumnNameExceptions:"#inputDatabaseColumnNameExceptions",inputSupressPrefix:"#inputSupressPrefix",yamlName:".yaml-name",modalScreen:".modal",form:".formConfig"},initialize:function(e){this.onExtract=e.onExtract,this.context=e.context,this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},_getColumns:function(){var e=this,t=[{name:"name",editable:!0,sortable:!0,label:"Nome",cell:"string"},{name:"situacao",label:"Editar",sortable:!1,cell:i.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",hint:"Editar YAML",onClick:e.showYaml}),t},showYaml:function(e){this.ui.yamlName.text(e.get("name")),this.editor.setValue(e.get("yamlContent"))},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},connectionTest:function(e){var i=this;if(this._isValid()){var n=new a;n.url="rs/crud/applications/extraction/ping",n.fetch({success:function(n,a){a&&(r.showMessage("info","Sucesso na conexão!","messages_modal_div"),t.isFunction(e)&&e.call(i,n))},error:function(e,t){r.showMessage("error","Não foi possivel conectar a base de dados","messages_modal_div"),console.log("não pingou",t.responseJSON.errorMessage)},data:{databaseType:i.ui.inputDatabaseType.val(),url:i.ui.inputDatabaseUrl.val(),username:i.ui.inputDatabaseUsername.val(),password:i.ui.inputDatabasePassword.val(),tableRegex:i.ui.inputDatabaseTableNameExceptions.val(),columnRegex:i.ui.inputDatabaseColumnNameExceptions.val(),supressPrefix:i.ui.inputSupressPrefix.val()}})}else console.log("Verifique campos em destaque!"),r.showMessage("error","Verifique campos em destaque!","messages_modal_div")},_import:function(){var e=this,t=new a;t.url="rs/crud/applications/extraction/extractyaml",t.fetch({success:function(t,i){r.showMessage("info","Sucesso ao extrair [ "+i.length+" ] tabelas","messages_modal_div"),e.onExtract.call(e.context,i.result)},error:function(){r.showMessage("error","Não foi possivel extrair a base de dados")},data:{databaseType:e.ui.inputDatabaseType.val(),url:e.ui.inputDatabaseUrl.val(),username:e.ui.inputDatabaseUsername.val(),password:e.ui.inputDatabasePassword.val(),tableRegex:e.ui.inputDatabaseTableNameExceptions.val(),columnRegex:e.ui.inputDatabaseColumnNameExceptions.val(),supressPrefix:e.ui.inputSupressPrefix.val()}})},importApplication:function(){this.connectionTest(this._import)},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal({backdrop:"static"})},clearModal:function(){}});return s}),define("views/modulo/FormModulo",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/components/Combobox","views/itemModulo/FrameItemModulo","collections/ItemModuloCollection","views/helpGenerateYaml/PageHelpGenerateYaml","text!views/modulo/tpl/FormModuloTemplate.html","models/ModuloModel","download","collections/ModuloCollection"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=(e("views/components/Combobox"),e("views/itemModulo/FrameItemModulo")),a=e("collections/ItemModuloCollection"),o=e("views/helpGenerateYaml/PageHelpGenerateYaml"),s=e("text!views/modulo/tpl/FormModuloTemplate.html"),l=(e("models/ModuloModel"),e("download")),c=(e("collections/ModuloCollection"),i.LayoutView.extend({template:t.template(s),regions:{itemsRegion:".items-container",pageHelpGenerateYamlRegion:".page-help-generate-yaml"},events:{"click 	.save":"save","click 	.generateModule":"generateModulo","click 	.open-page-help":"openPageHelpGenerateYaml","click 	.saveAndContinue":"saveAndContinue"},ui:{inputId:"#inputId",inputNome:"#inputNome",inputPackageName:"#inputPackageName",form:"#formModulo"},initialize:function(){var e=this;this.itemCollection=new a(this.model&&this.model.get("items")),this.itemsView=new r({collection:this.itemCollection}),this.pageHelpGenerateYaml=new o({context:e,onExtract:e.loadResultTables}),this.on("show",function(){this.itemsRegion.show(this.itemsView),this.pageHelpGenerateYamlRegion.show(this.pageHelpGenerateYaml),this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})})},generateModulo:function(){var e=this,t=this.model.url;this.model.url="rs/crud/applications/moduleGenerator/"+this.ui.inputId.val(),this.model.fetch({success:function(i,r){e.model.url=t,n.showMessage("info",r.resp),console.log(l),l(r.resp)},error:function(i,r){n.showMessage("error",n.getJson(r.responseText).legalMessage||""),e.model.url=t}})},loadResultTables:function(e){this.itemCollection.reset(e)},openPageHelpGenerateYaml:function(){this.pageHelpGenerateYaml.showPage()},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t._getModel();this._isValid()?i.save({},{success:function(){n.showSuccessMessage("Modulo salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/modulos")},error:function(e,t){n.showErrorMessage("Problema ao salvar registro",t)}}):n.showMessage("error","Verifique campos em destaque!")},clearForm:function(){n.clear("inputId"),n.clear("inputNome")},possuiCamposInvalidos:function(){return n.hasInvalidFields(this.validateFields)},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},_getModel:function(){var e=this,t=e.model;return t.set({id:n.escapeById("inputId")||null,nome:n.escapeById("inputNome"),packageName:n.escapeById("inputPackageName"),items:e.itemCollection.toJSON()}),t}}));return c}),define("text!views/visual/tpl/PageVisualTemplate.html",[],function(){return'<div id="paper" style="left: 0; top: 0; height: 100%; w	idth: 100%; background-image: url(images/pattern.png); background-repeat: repeat; position: absolute;"></div>\r\n<div class="hpanel pull-left toolbar" style="z-index: 1">\r\n	<div class="panel-body no-padding">\r\n		<ul class="list-group">\r\n			<li class="list-group-item">\r\n				<h5 style="text-align: center">Tools</h5>\r\n			</li>\r\n			<li class="list-group-item">\r\n				<a href="javascript:void(-1)" id="addEntity" class="btn btn-default ">\r\n					<i class="pe-7s-browser fa-2x"></i>\r\n				</a>\r\n			</li>\r\n			<li class="list-group-item">\r\n				<a href="javascript:void(-1)" id="addRelation" class="btn btn-default ">\r\n					<i class="pe-7s-link	fa-2x"></i>\r\n				</a>\r\n			</li>\r\n			<!-- 			<li class="list-group-item"> -->\r\n			<!-- 				<a href="javascript:void(-1)" id="validateApp" class="btn btn-default "> -->\r\n			<!-- 					<i class="pe-7s-check fa-2x"></i> -->\r\n			<!-- 				</a> -->\r\n			<!-- 			</li> -->\r\n			<li class="list-group-item">\r\n				<a href="javascript:void(-1)" id="saveApp" class="btn btn-default ">\r\n					<i class="pe-7s-diskette fa-2x"></i>\r\n				</a>\r\n			</li>\r\n			<hr>\r\n			<li class="list-group-item">\r\n				<a href="javascript:void(-1)" id="openTools" class="btn btn-default ">\r\n					<i class="pe-7s-tools fa-2x"></i>\r\n				</a>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n<div class="diagramToolsModal" style="z-index: 1"></div>\r\n<div class="hpanel pull-right tools " style="z-index: 1"></div>\r\n<div class="hpanel pull-right inspetor " style="z-index: 1"></div>\r\n<div class="hpanel pull-right inspetor-relacionamentos " style="z-index: 1"></div>\r\n'}),define("text!views/visual/models/tpl/HtmlEntityTemplate.html",[],function(){return'<div class="html-element" style="width: 150px"> </div>'}),define("text!views/visual/componentes/tpl/DiagramEntityViewTemplate.html",[],function(){return'<div class="hpanel  ">\r\n	<div class="panel-heading  uml-class-name-rect" style="text-align: center; padding-top: 2px; padding-bottom: 2px;">\r\n		<div class="panel-tools uml-tools" style="margin-top: 3px">\r\n			<a class="showhide">\r\n				<i class="fa fa-chevron-up"></i>\r\n			</a>\r\n			<a class="closebox">\r\n				<i class="fa fa-times"></i>\r\n			</a>\r\n		</div>\r\n		<h5 class="nome_entidade uml-class-name-text ">\r\n			&nbsp;&nbsp;\r\n			<span class="entity-name">{{name}}</span>\r\n		</h5>\r\n	</div>\r\n	<div class="uml-class-text panel-body uml-class-attrs-rect " style="padding: 5px; padding-top: 8px;">\r\n		<div class="media social-profile clearfix entity-attributes"></div>\r\n	</div>\r\n	<div class="panel-footer uml-class-text uml-class-attrs-rect " style="padding: 4px 5px; min-height: 25px">\r\n		<div class="uml-class-text entity-relationships"></div>\r\n	</div>\r\n</div>\r\n'}),define("text!views/visual/componentes/tpl/DiagramAttributeItemViewTemplate.html",[],function(){return'<div>\r\n	<span class="">\r\n		<span class="simbolo "> </span>\r\n		<span class="name "> {{name}} </span>\r\n		<span class=" "> : </span>\r\n		<span class="className "> {{type && type.className}} </span>\r\n		<span class="required "> </span>\r\n		<span class="unique "> </span>\r\n	</span>\r\n	<br>\r\n</div>\r\n'}),define("views/visual/componentes/DiagramAttributeItemView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","utilities/C3pUtil","collections/BaseCollection","models/BaseModel","models/AttributeModel","text!views/visual/componentes/tpl/DiagramAttributeItemViewTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("utilities/utils"),e("utilities/C3pUtil"),e("collections/BaseCollection"),e("models/BaseModel"),e("models/AttributeModel"),e("text!views/visual/componentes/tpl/DiagramAttributeItemViewTemplate.html")),r=i.ItemView.extend({template:t.template(n),events:{},ui:{simbolo:".simbolo"},initialize:function(){this.on("show",function(){"id"==this.model.get("name")&&this.ui.simbolo.text("+")})}});return r}),define("text!views/visual/componentes/tpl/DiagramAttributeCollectionViewTemplate.html",[],function(){return'<div>\r\n	<div>\r\n		<span>\r\n			<span class="simbolo">+</span>\r\n			id: Integer\r\n		</span>\r\n		<br>\r\n	</div>\r\n</div>\r\n<div class="lista-atributos"></div>\r\n'}),define("views/visual/componentes/DiagramAttributesCollectionView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","views/visual/componentes/DiagramAttributeItemView","text!views/visual/componentes/tpl/DiagramAttributeCollectionViewTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("utilities/utils"),e("views/visual/componentes/DiagramAttributeItemView")),r=e("text!views/visual/componentes/tpl/DiagramAttributeCollectionViewTemplate.html"),a=i.CompositeView.extend({template:t.template(r),childViewContainer:".lista-atributos",childView:n,childViewOptions:function(){},initialize:function(){}});return a}),define("text!views/visual/componentes/tpl/DiagramRelationshipItemViewTemplate.html",[],function(){return'<div>\r\n	<span>\r\n		<span class="simbolo"> </span>\r\n		{{name}}: List < {{model}}>\r\n	</span>\r\n	<br>\r\n</div>'}),define("views/visual/componentes/DiagramRelationshipItemView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","utilities/C3pUtil","collections/BaseCollection","models/BaseModel","models/RelationshipModel","text!views/visual/componentes/tpl/DiagramRelationshipItemViewTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("utilities/utils"),e("utilities/C3pUtil"),e("collections/BaseCollection"),e("models/BaseModel"),e("models/RelationshipModel"),e("text!views/visual/componentes/tpl/DiagramRelationshipItemViewTemplate.html")),r=i.ItemView.extend({template:t.template(n),events:{},ui:{},initialize:function(){this.on("show",function(){})}});return r}),define("views/visual/componentes/DiagramRelationshipsCollectionView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","views/visual/componentes/DiagramRelationshipItemView"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),i=(e("utilities/utils"),e("views/visual/componentes/DiagramRelationshipItemView")),n=t.CollectionView.extend({childView:i,childViewOptions:function(){},initialize:function(){}});return n}),define("views/visual/componentes/DiagramEntityView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","collections/AttributeCollection","collections/RelationshipCollection","text!views/visual/componentes/tpl/DiagramEntityViewTemplate.html","views/visual/componentes/DiagramAttributesCollectionView","views/visual/componentes/DiagramRelationshipsCollectionView"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("utilities/utils"),e("collections/AttributeCollection")),r=(e("collections/RelationshipCollection"),e("text!views/visual/componentes/tpl/DiagramEntityViewTemplate.html")),a=e("views/visual/componentes/DiagramAttributesCollectionView"),o=(e("views/visual/componentes/DiagramRelationshipsCollectionView"),i.LayoutView.extend({template:t.template(r),className:"entity-container",regions:{attributesRegion:".entity-attributes",relationshipsRegion:".entity-relationships"},events:{"click  .closebox":"removeEntity"},removeEntity:function(){this.model.destroy()},ui:{entityName:".entity-name"},initialize:function(e){var t=this;this.container=e.container,this.attributesCollection=new n(this.model.get("attributes")),this.attributesCollectionView=new a({collection:this.attributesCollection}),this.on("show",function(){this.attributesRegion.show(this.attributesCollectionView),window.setTimeout(function(){t.container.resizeView({width:t.$el.width(),height:t.$el.height()})},10)})},refresh:function(e){var t=this,i=e||this.model;this.ui.entityName.text(i.get("name")),this.attributesCollection.reset(this.model.get("attributes")),window.setTimeout(function(){t.container.resizeView({width:t.$el.width(),height:t.$el.height()})},10)}}));return o}),define("views/visual/models/HtmlEntity",["require","joint","adapters/underscore-adapter","utilities/utils","models/AttributeModel","models/EntityModel","text!views/visual/models/tpl/HtmlEntityTemplate.html","views/visual/componentes/DiagramEntityView","adapters/col-adapter"],function(e){{var t=e("joint"),i=e("adapters/underscore-adapter"),n=e("utilities/utils"),r=(e("models/AttributeModel"),e("models/EntityModel"),e("text!views/visual/models/tpl/HtmlEntityTemplate.html")),a=e("views/visual/componentes/DiagramEntityView");
e("adapters/col-adapter")}return t.shapes.html=t.shapes.html||{},t.shapes.html.Element=t.shapes.basic.Rect.extend({nomeClasse:"HtmlEntity:Element",defaults:t.util.deepSupplement({type:"html.Element",attrs:{rect:{stroke:"none","fill-opacity":0}}},t.shapes.basic.Rect.prototype.defaults)}),t.shapes.html.ElementView=t.dia.ElementView.extend({nomeClasse:"HtmlEntity:ElementView",template:r,initialize:function(){i.bindAll(this,"updateBox"),t.dia.ElementView.prototype.initialize.apply(this,arguments),this.entity=this.model.get("entity"),this.diagramEntityView=new a({model:this.entity,container:this}),this.$box=$(i.template(this.template)()),this.model.on("change",this.updateBox,this),this.model.on("destroy",this.removeBox,this),this.model.set("size",{width:150,height:160}),this.updateBox(),this.entity.on("change",this._changeEntity,this)},resizeView:function(e){this.model.set("size",{width:e.width,height:e.height}),this.updateBox(),this.$box.css("height",e.height)},render:function(){return t.dia.ElementView.prototype.render.apply(this,arguments),n.appendView(this.$box,this.diagramEntityView),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox();this.$box.css({width:e.width,height:e.height,left:e.x,top:e.y,transform:"rotate("+(this.model.get("angle")||0)+"deg)"})},removeBox:function(){this.$el.remove()},_changeEntity:function(e){this.entity.set(e.attributes),this.diagramEntityView.refresh(this.entity)}}),t.shapes.html.Element}),define("views/visual/models/VisualRelationship",["require","joint","models/AttributeModel","models/RelationshipModel","models/EntityModel"],function(e){{var t=e("joint"),i=(e("models/AttributeModel"),e("models/RelationshipModel"));e("models/EntityModel")}return t.shapes.html=t.shapes.html||{},t.shapes.html.VisualRelationship=t.dia.Link.extend({_nomeClasse:"VisualRelationship",defaults:{type:"html.Relation",router:{name:"manhattan"},connector:{name:"rounded"},attrs:{".marker-source":{fill:"#4b4a67",stroke:"#4b4a67",d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{fill:"#4b4a67",stroke:"#4b4a67",d:"M 10 0 L 0 5 L 10 10 z"},".marker-arrowhead":{fill:"#aaaaaa",stroke:"#aaaaaa",d:"M 10 0 L 0 5 L 10 10 z"}},labels:[{position:25,attrs:{text:{"font-size":"10px",text:"..."}}},{position:-25,attrs:{text:{"font-size":"10px",text:"..."}}}],source:{x:10,y:280},target:{x:740,y:280},sourceRelationModel:null,targetRelationModel:null,sourceEntityModel:null,targetEntityModel:null,smooth:!1,toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="tool:remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z"/>',"<title>Remove link.</title>","</g>",'**<g event="link:options">**','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join("")},refresh:function(e,t){this.get("sourceRelationModel").set(e),this.get("targetRelationModel").set(t),this._updateLabels()},initialize:function(e){var n=this.get("applicationRelationshipModel").get("sourceEntityView"),r=this.get("applicationRelationshipModel").get("targetEntityView"),a=null,o=null,s=null,l=null;if(n&&r){var a=n.get("entity"),o=r.get("entity");this.set("source",n),this.set("target",r),s=new i({name:"_"+o.get("name"),type:"OneToMany",displayName:o.get("name")+"s",ownerName:"",model:o.get("name"),entity:a,uniDirecional:""}),l=new i({name:"_"+a.get("name"),type:"ManyToOne",displayName:a.get("name")+"s",ownerName:"",model:a.get("name"),entity:o,uniDirecional:""})}this.get("applicationRelationshipModel").get("source")&&(s=new i(this.get("applicationRelationshipModel").get("source"))),this.get("applicationRelationshipModel").get("target")&&(l=new i(this.get("applicationRelationshipModel").get("target"))),this.set("sourceRelationModel",s),this.set("targetRelationModel",l),e&&e.id||this.set("id",t.util.uuid(),{silent:!0}),this._transitionIds={};this.processPorts(),this.on("change:attrs",this.processPorts,this),this._updateLabels(),e.postConstructor&&e.postConstructor()},_updateLabels:function(){this.label(0,{position:-25,attrs:{text:{text:this.get("targetRelationModel").get("name")}}}),this.label(1,{position:25,attrs:{text:{text:this.get("sourceRelationModel").get("name")}}})}}),t.shapes.html.VisualRelationshipView=t.dia.LinkView.extend({_nomeClasse:"VisualRelationshipView",options:{shortLinkLength:100,doubleLinkTools:!0,longLinkLength:160,linkToolsOffset:40,doubleLinkToolsOffset:60,sampleInterval:50},initialize:function(){console.log(this.options),t.dia.LinkView.prototype.initialize.apply(this,arguments),this.nomeDaClasse="VisualRelationshipView"}}),t.shapes.html.VisualRelationship}),define("models/ApplicationRelationshipModel",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","models/BaseModel"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("models/BaseModel")),i=t.extend({_name:"ApplicationRelationshipModel",urlRoot:"rs/crud/applicationRelationships",defaults:{id:null,source:null,target:null}});return i}),define("text!views/visual/tpl/InspetorEntidadesViewTemplate.html",[],function(){return'<div class="panel-body no-padding" attrb-name="inspetorEntidadesViewTemplate">\r\n	<ul class="list-group">\r\n		<li class="list-group-item panel-heading hbuilt">\r\n			<h5 style="text-align: center; cursor: move;">Inspetor de Entidades</h5>\r\n			<div class="hpanel  entity_{{id}}" style="margin-bottom: 3px">\r\n				<div class="panel-heading hbuilt" style="padding: 2px">\r\n					<input id="inputId" type="hidden" value={{id}}>\r\n					<div class="panel-tools" style="margin-top: 10px;">\r\n						<input id="inputId" type="hidden" value={{id}}>\r\n						<a class="show-hide-ent" data-toggle="tooltip" data-placement="top" title="" data-original-title="mostrar/esconder atributos">\r\n							<i class="fa fa-15x fa-chevron-up"></i>\r\n						</a>\r\n						<a class="add-attribute" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Novo Atributo">\r\n							<i class="fa fa-15x fa-plus add-attr"></i>\r\n						</a>\r\n					</div>\r\n					<h4>\r\n						<a href="javascript:void(-1)" data-type="text" data-placement="right" data-title="Nome da Entidade" class="editable editable-click inputEntityName" data-original-title="" title="">{{name}}</a>\r\n					</h4>\r\n				</div>\r\n				<div class="panel-body " style="padding: 2px">\r\n					<div class="entity-content">\r\n						<span>\r\n							Mobile?:&nbsp;\r\n							<input style="margin: 0px" type="checkbox" class="inputHasMobile"{{hasMobile ? \'checked\' :\'\'}}>\r\n						</span>\r\n						<br>\r\n						<span>\r\n							Nome de exibição:&nbsp;\r\n							<a class="editable editable-click inputDisplayName" data-placement="right" data-title="Digite o nome a exibir">{{displayName}}</a>\r\n						</span>\r\n						<br>\r\n						<span>\r\n							Nome Tabela: &nbsp;\r\n							<a class="editable editable-click inputTableName " data-placement="right" data-title="Digite um nome para a tabela">{{tableName}} </a>\r\n						</span>\r\n						<br>\r\n						<div class="widget-entidade attributes"></div>\r\n					</div>\r\n				</div>\r\n				<div class="panel-footer entity-content">\r\n					Observações: &nbsp;\r\n					<p class="editable editable-click" data-title="Observações da entidade">{{notes}}</p>\r\n				</div>\r\n			</div>\r\n		</li>\r\n	</ul>\r\n</div>\r\n<div class="panel-footer message-entity-inspector" ></div>'}),define("views/visual/InspetorEntidadesView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","models/AttributeModel","models/ApplicationRelationshipModel","collections/AttributeCollection","text!views/visual/tpl/InspetorEntidadesViewTemplate.html","views/categoria/AttributesCollectionView"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=e("utilities/utils"),a=e("models/AttributeModel"),o=(e("models/ApplicationRelationshipModel"),e("collections/AttributeCollection")),s=e("text!views/visual/tpl/InspetorEntidadesViewTemplate.html"),l=e("views/categoria/AttributesCollectionView"),c=n.LayoutView.extend({template:t.template(s),className:" drag-item",regions:{attributesRegion:".attributes"},events:{"click .add-attribute":"addAttribute","click .rem-entity":"deleteEntidade","click .show-hide-ent":"hideShowEnt","click checkbox":"changeEntity"},ui:{inputId:"#inputId",inputEntityName:".inputEntityName",inputDisplayName:".inputDisplayName",inputTableName:".inputTableName",inputHasMobile:".inputHasMobile",widgetEntMain:".widget-entidade",showhide:".show-hide-ent",editableFields:".editable-click",addRelation:".add-relation",addAttribute:".add-attribute",remEntity:".rem-entity",showHideEntity:".show-hide-ent",panelBody:".entity-content"},deleteEntidade:function(){this.model.destroy(),this.$el.remove()},addAttribute:function(){this.ui.panelBody.show();var e=new a;this.attributesCollection.add(e)},initialize:function(){this.$el.draggable({handle:"h5",containment:".drag-entities",scroll:!1,stop:function(){}}),this.attributesCollection=new o(this.model.get("attributes")),this.attributesCollection.on("change",this.updateViewEntity,this),this.attributesCollection.on("destroy",this.updateViewEntity,this),this.attributesCollectionView=new l({collection:this.attributesCollection}),this.on("show",function(){var e=this;this.ui.inputEntityName.editable(),this.ui.inputDisplayName.editable(),this.ui.inputTableName.editable(),this.ui.inputEntityName.on("hidden",function(){r.refreshEditable(e.ui.inputDisplayName,r.toFrase(e.ui.inputEntityName.text())),r.refreshEditable(e.ui.inputTableName,r.toUnderscore(e.ui.inputEntityName.text(),!0))}),this.ui.editableFields.on("shown",function(e,t){var n=i(e.target).text();n!=t.options.emptytext&&t.input.$input.val(i(e.target).text()||i(e.target).val())}),this.ui.editableFields.on("hidden",function(){e.updateViewEntity()}),this.ui.addRelation.tooltip(),this.ui.addAttribute.tooltip(),this.ui.remEntity.tooltip(),this.ui.showHideEntity.tooltip(),this.attributesRegion.show(this.attributesCollectionView)})},updateViewEntity:function(){this.entity.set(this.getModel()),this.entity.set("attributes",this.attributesCollection.toJSON())},deleteAtribute:function(){this.model.destroy()},setVisualEntity:function(e){this.visualEntity=e,this.entity=e.get("entity"),this.visualEntity.on("change:position",function(e,t){var i=e.get("entity");i.set("posX",t.x),i.set("posY",t.y)}),this.attributesCollection.reset(this.entity.get("attributes")),this.ui.inputId.val(this.entity.get("id")),this.ui.inputEntityName.text(this.entity.get("name")),this.ui.inputDisplayName.text(this.entity.get("displayName")),this.ui.inputTableName.text(this.entity.get("tableName")),this.ui.inputHasMobile.prop("checked",this.entity.get("hasMobile")),r.refreshEditableVisual(this.ui.inputEntityName),r.refreshEditableVisual(this.ui.inputDisplayName),r.refreshEditableVisual(this.ui.inputTableName),r.refreshEditableVisual(this.ui.inputHasMobile)},getModel:function(){return{id:this.ui.inputId.val()||null,name:this.ui.inputEntityName.text(),displayName:this.ui.inputDisplayName.text(),tableName:this.ui.inputTableName.text(),hasMobile:this.ui.inputHasMobile.is(":checked")}},hideShowEnt:function(){this.ui.panelBody.toggle(),this.ui.panelBody.is(":visible")?this.ui.showhide.find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up"):this.ui.showhide.find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")}});return c}),define("text!views/visual/tpl/InspetorRelacionamentosViewTemplate.html",[],function(){return'<div class="panel-heading hbuilt">\r\n	<div class="panel-tools">\r\n		<a class="showhide">\r\n			<i class="fa fa-chevron-up"></i>\r\n		</a>\r\n	</div>\r\n	<h5 style="text-align: center; cursor: move;">Inspetor de Relacionamentos</h5>\r\n</div>\r\n<div class="row ">\r\n	<div class=" col-lg-6 border-right animated-panel zoomIn">\r\n		<span class="origem origem-header" style="display: none">\r\n			<span class="origem-class-name"> </span>\r\n			<span class="dono-container-origem" style="float: right;">\r\n				<span> Dono?</span>\r\n				<input type="checkbox" class="check-dono-origem">\r\n			</span>\r\n		</span>\r\n		<div class="source-container"></div>\r\n	</div>\r\n	<div class=" col-lg-6  animated-panel zoomIn">\r\n		<span class="destino">\r\n			<span class="target-class-name"> </span>\r\n			<span class="dono-container-destino" style="float: right;">\r\n				<span> Dono?</span>\r\n				<input type="checkbox" class="check-dono-destino">\r\n			</span>\r\n		</span>\r\n		<div class="target-container"></div>\r\n	</div>\r\n</div>\r\n<div class="panel-footer">\r\n	<span id="message-relation-inspector"></span>\r\n</div>\r\n'}),define("text!views/visual/componentes/tpl/RelationshipItemViewTemplate.html",[],function(){return'<div class="hpanel hviolet" style="padding: 1px; margin-bottom: 1px">\r\n	<input class="inputId" type="hidden" value={{id}}>\r\n	<input class="inputViewApproachId" type="hidden" value="{{viewApproach && viewApproach.id}}">\r\n	<div class="panel-heading hbuilt" style="padding: 2px;">\r\n		<h5>\r\n			<!-- 			<i class="fa fa-link"></i> -->\r\n			Nome:\r\n			<a href="javascript:void(-1)" data-type="text" data-placement="right" data-title="Digite o nome do atributo" class="editable editable-click inputRelationshipName " data-original-title="" title=""> {{name}} </a>\r\n		</h5>\r\n	</div>\r\n	<div class="panel-body" style="padding: 0px; border-bottom: 1px solid #e4e5e7;">\r\n		<div class="row widget-main-rel">\r\n			<div class="col-lg-12  animated-panel zoomIn" style="animation-delay: 0.3s;">\r\n				<input class="inputModel" type="hidden" value="{{model}}" />\r\n				<div class="">\r\n					<span>\r\n						Nome de exibição:&nbsp;\r\n						<a class="editable editable-click inputDisplayName" data-placement="right" data-title="Digite o nome a exibir">{{displayName}}</a>\r\n					</span>\r\n					<br>\r\n					<span>\r\n						Tipo de rel.:&nbsp;\r\n						<a class="editable editable-click inputType" data-placement="right" data-title="Tipo de elemento" data-type="select" data-pk="1" data-title="Selecione o tipo de  relacionamento">{{type}}</a>\r\n					</span>\r\n					<span style="display: none">\r\n						Dono:&nbsp;\r\n						<a class="editable editable-click inputOwnerName" data-placement="right" data-title="Tipo do atributo">{{ownerName}}</a>\r\n					</span>\r\n					<br>\r\n					<span>\r\n						Elemento visual:&nbsp;\r\n						<a class="editable  editable-click inputViewApproach" data-placement="right" data-title="Tipo de elemento" data-type="select" data-pk="1" data-title="Selecione o tipo de  componente">{{viewApproach && viewApproach.type}}</a>\r\n					</span>\r\n					<br>\r\n					<span class="combo-fields" style="display: none;">\r\n						<span style="display: none;">\r\n							Id no Combo?:&nbsp;\r\n							<!-- 							<a class="editable editable-click inputComboId" data-placement="right" data-title="Tipo do atributo">{{viewApproach && viewApproach.comboId}}</a> -->\r\n							<a class="editable editable-click inputComboId" data-placement="right" data-title="Tipo do atributo">id</a>\r\n						</span>\r\n						<span>\r\n							&nbsp;&nbsp;Info à exibir:&nbsp;\r\n							<a class="editable editable-click inputComboVal" data-placement="right" data-title="Tipo do atributo">{{viewApproach && viewApproach.comboVal}}</a>\r\n						</span>\r\n						<br>\r\n					</span>\r\n					<span class="modal-fields" style="display: none;">\r\n						<span style="display: none;">\r\n							Id no Modal?:&nbsp;\r\n							<!-- 							<a class="editable editable-click inputTextField" data-placement="right" data-title="Tipo do atributo">{{viewApproach && viewApproach.hiddenField }}</a> -->\r\n							<a class="editable editable-click inputHiddenField" data-placement="right" data-title="Tipo do atributo">id</a>\r\n						</span>\r\n						<span>\r\n							&nbsp;&nbsp;Info à exibir:&nbsp;\r\n							<a class="editable editable-click inputTextField" data-placement="right" data-title="Tipo do atributo">{{viewApproach && viewApproach.textField}}</a>\r\n						</span>\r\n						<br>\r\n					</span>\r\n					<!-- 					<span> -->\r\n					<!-- 						Unidirecional?:&nbsp; -->\r\n					<!-- 						<input style="margin: 0px" type="checkbox" class="inputUniDirecional"{{uniDirecional ? \'checked\' :\'\'}}> -->\r\n					<!-- 					</span> -->\r\n					<br>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/visual/componentes/RelationshipItemView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","utilities/C3pUtil","adapters/backbone-adapter","marionette","utilities/utils","models/RelationshipModel","collections/RelationshipCollection","text!views/visual/componentes/tpl/RelationshipItemViewTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("utilities/C3pUtil")),n=(e("adapters/backbone-adapter"),e("marionette")),r=e("utilities/utils"),a=(e("models/RelationshipModel"),e("collections/RelationshipCollection"),e("text!views/visual/componentes/tpl/RelationshipItemViewTemplate.html")),o=n.ItemView.extend({template:t.template(a),regions:{},events:{"click .showhide-rel":"hideShow","click .delete-relationship":"deleteRelationship"},ui:{inputId:".inputId",inputRelationshipName:".inputRelationshipName",inputDisplayName:".inputDisplayName",inputModel:".inputModel",inputType:".inputType",inputOwnerName:".inputOwnerName",inputUniDirecional:".inputUniDirecional",inputViewApproach:".inputViewApproach",inputViewApproachId:".inputViewApproachId",inputComboId:".inputComboId",inputComboVal:".inputComboVal",inputTextField:".inputTextField",inputHiddenField:".inputHiddenField",modalFields:".modal-fields",comboFields:".combo-fields",widgetMain:".widget-main-rel",showhide:".showhide-rel",editableFields:".editable-click"},changeRelationship:function(){if(this.onSave&&this.onSave(),this.validateRelation()){var e=this.getModel();e.name&&e.model&&this.model.set(e)}},validateRelation:function(){var e=[];return!this.ui.inputUniDirecional.is(":checked")&&e.length>0?(r.notificationError({title:"Erro",text:e.join(",")}),!1):!0},deleteRelationship:function(){this.model.destroy()},getModel:function(){return{id:this.ui.inputId.val(),name:i.notEmptyVal(this.ui.inputRelationshipName),type:i.notEmptyVal(this.ui.inputType),displayName:i.notEmptyVal(this.ui.inputDisplayName),model:i.notEmptyVal(this.ui.inputModel),ownerName:i.notEmptyVal(this.ui.inputOwnerName),uniDirecional:this.ui.inputUniDirecional.is(":checked"),viewApproach:{id:this.ui.inputViewApproachId.val(),comboId:"id",hiddenField:"id",type:i.notEmptyVal(this.ui.inputViewApproach),comboVal:i.notEmptyVal(this.ui.inputComboVal),textField:i.notEmptyVal(this.ui.inputTextField)}}},hideShow:function(){this.ui.widgetMain.toggle(),this.ui.widgetMain.is(":visible")?this.ui.showhide.find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up"):this.ui.showhide.find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")},initialize:function(e){var t=this;this.onSave=e.onSave,this.on("show",function(){this.ui.inputRelationshipName.editable(),this.ui.inputDisplayName.editable(),this.ui.inputModel.editable({value:"",source:t._getModels()}),this.ui.inputComboId.editable(),this.ui.inputComboVal.editable(),this.ui.inputTextField.editable(),this.ui.inputHiddenField.editable(),this.ui.inputOwnerName.editable(),this.ui.inputRelationshipName.on("hidden",function(){r.refreshEditable(t.ui.inputDisplayName,r.toFrase(t.ui.inputRelationshipName.text()))}),this.ui.inputModel.on("hidden",function(){}),this.ui.editableFields.on("hidden",function(){t.changeRelationship()}),this.ui.inputViewApproach.editable({value:"",source:[{value:"modal",text:"modal"},{value:"combo",text:"combo"},{value:"multiselect",text:"multiselect"}]}),this.ui.inputViewApproach.on("hidden",function(){t.treatViewApproach()}),this.ui.inputType.editable({value:"OneToMany",source:[{value:"OneToMany",text:"OneToMany"},{value:"ManyToOne",text:"ManyToOne"},{value:"OneToOne",text:"OneToOne"},{value:"ManyToMany",text:"ManyToMany"}]}),this.treatViewApproach()})},treatViewApproach:function(){var e=this.ui.inputViewApproach.text();"modal"==e?(this.ui.modalFields.show(),this.ui.comboFields.hide()):"combo"==e?(this.ui.comboFields.show(),this.ui.modalFields.hide()):"multiselect"==e&&(this.ui.modalFields.hide(),this.ui.comboFields.hide())},_getModels:function(){var e=[],i=r.getBEntities();return t.each(i,function(t){e.push({value:t.get("name"),text:t.get("name")})}),e}});return o}),define("views/visual/InspetorRelacionamentosView",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","utilities/utils","models/RelationshipModel","collections/RelationshipCollection","models/RelationshipModel","models/ApplicationRelationshipModel","collections/AttributeCollection","text!views/visual/tpl/InspetorRelacionamentosViewTemplate.html","views/visual/componentes/RelationshipItemView"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=e("utilities/utils"),a=e("models/RelationshipModel"),a=(e("collections/RelationshipCollection"),e("models/RelationshipModel")),o=(e("models/ApplicationRelationshipModel"),e("collections/AttributeCollection"),e("text!views/visual/tpl/InspetorRelacionamentosViewTemplate.html")),s=e("views/visual/componentes/RelationshipItemView"),l=n.LayoutView.extend({template:t.template(o),className:" drag-item hpanel",regions:{sourceRegion:".source-container",targetRegion:".target-container"},events:{"click .check-dono-origem":"changeOwner","click .showhide":"showHide","click .check-dono-destino":"changeOwner"},ui:{sourceClassName:".origem-class-name",targetClassName:".target-class-name",checkOwnerSource:".check-dono-origem",checkOwnerTarget:".check-dono-destino",origemHeader:".origem-header"},setOwner:function(e,t){this.ui.checkOwnerTarget.prop("checked",!1),this.ui.checkOwnerSource.prop("checked",!1),e.get("ownerName")?this.ui.checkOwnerSource.prop("checked",!0):t.get("ownerName")&&this.ui.checkOwnerTarget.prop("checked",!0)},changeOwner:function(e){var t=i(e.currentTarget);console.log(this.ui.checkOwnerSource.is(":checked")),console.log(this.ui.checkOwnerTarget.is(":checked")),this.ui.checkOwnerTarget.prop("checked",!1),this.ui.checkOwnerSource.prop("checked",!1),t.prop("checked",!0)},saveRelation:function(e){return function(){if(e.sourceView&&e.targetView){var t=e.sourceView.getModel(),i=e.targetView.getModel();e.validate(t),e.validate(i),e.ui.checkOwnerSource.is(":checked")?(t.ownerName=i.name,i.ownerName=""):e.ui.checkOwnerTarget.is(":checked")&&(i.ownerName=t.name,t.ownerName=""),e.visualRelationship.refresh(t,i)}}},validate:function(e){if(e.viewApproach&&"combo"==e.viewApproach.type){var t=(r.getBEntityByName(e.model),e.viewApproach.comboVal);t?r.BEntityContainsAttribute(e.model,t)||r.showMessage("warning","Deve escolher um atributo de "+e.model+' para exibir no combobox. "'+t+'" não é atributo de '+e.model,"message-relation-inspector"):r.showMessage("warning","Deve escolher um atributo de "+e.model+" para exibir no combobox","message-relation-inspector")}if(e.viewApproach&&"modal"==e.viewApproach.type){var t=(r.getBEntityByName(e.model),e.viewApproach.textField);t?r.BEntityContainsAttribute(e.model,t)||r.showMessage("warning","Deve escolher um atributo de "+e.model+' para exibir no modal. "'+t+'" não é atributo de '+e.model,"message-relation-inspector"):r.showMessage("warning","Deve escolher um atributo de "+e.model+" para exibir no modal","message-relation-inspector")}},setVisual:function(e){var t=this;this.visualRelationship=e,this.applicationRelationshipModel=e.get("applicationRelationshipModel"),this.sourceRelationModel=e.get("sourceRelationModel");var i=this.sourceRelationModel.get("entity").get&&this.sourceRelationModel.get("entity").get("name")||this.sourceRelationModel.get("entity").name;this.targetRelationModel=e.get("targetRelationModel");var n=this.targetRelationModel.get("entity").get&&this.targetRelationModel.get("entity").get("name")||this.targetRelationModel.get("entity").name;this.sourceView=new s({model:t.sourceRelationModel,onSave:t.saveRelation(t)}),this.targetView=new s({model:t.targetRelationModel,onSave:t.saveRelation(t)}),this.sourceRegion.show(this.sourceView),this.targetRegion.show(this.targetView),this.ui.sourceClassName.text(i),this.ui.targetClassName.text(n),this.ui.origemHeader.css("display","block"),this.setOwner(this.sourceRelationModel,this.targetRelationModel)},initialize:function(){this.$el.draggable({handle:"h5",containment:".drag-entities",scroll:!1,stop:function(){}}),this.sourceView=new s({model:new a}),this.targetView=new s({model:new a}),this.on("show",function(){this.sourceRegion.show(this.sourceView),this.targetRegion.show(this.targetView),this.showHide()})},showHide:function(){r.showHidePanel(this.$el)}});return l}),define("collections/ApplicationRelationshipCollection",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","collections/BaseCollection","models/RelationshipModel","models/ApplicationRelationshipModel","collections/BaseCollection"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("collections/BaseCollection")),i=(e("models/RelationshipModel"),e("models/ApplicationRelationshipModel")),t=e("collections/BaseCollection"),n=t.extend({model:i,url:"rs/crud/applicationRelationships/all"});return n}),define("text!views/visual/componentes/tpl/DiagramApplicationToolsTemplate.html",[],function(){return'<!-- Modal DiagramApplicationTools´s form -->\r\n<div class="modal fade" id="dialogApplication" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<span aria-hidden="true">&times;</span>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Engenharia reversa de base de dados</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form class="formConfig">\r\n					<div id="messages_div"></div>\r\n					<div class="hpanel" style="margin-bottom: 0px;">\r\n						<div class="panel-heading">Banco de dados</div>\r\n						<div class="panel-body">\r\n							<div class="row">\r\n								<div id="groupInputDatabaseType" class="form-group col-xs-2 col-sm-2">\r\n									<label class="control-label" for="inputModalName">Tipo</label>\r\n									<select id="inputDatabaseType" class="form-control validate[required]">\r\n										<option selected value="POSTGRES">Postgres</option>\r\n										<option value="ORACLE">Oracle</option>\r\n									</select>\r\n								</div>\r\n								<div id="groupInputDatabaseUrl" class="form-group col-xs-4 col-sm-4">\r\n									<label class="control-label" for="inputDatabaseUrl">url</label>\r\n									<input type="text" id="inputDatabaseUrl" placeholder="Url" class="form-control validate[required]" value="jdbc:postgresql://localhost:5432/db_folha">\r\n								</div>\r\n								<div id="groupInputDatabaseUsername" class="form-group col-xs-3 col-sm-3">\r\n									<label class="control-label" for="inputModalName">Usuario</label>\r\n									<input type="text" id="inputDatabaseUsername" placeholder="usuário do banco de dados" class="form-control validate[required]" value="postgres">\r\n								</div>\r\n								<div id="groupInputDatabasePassword" class="form-group col-xs-3 col-sm-3">\r\n									<label class="control-label" for="inputDatabasePassword">Senha</label>\r\n									<input type="password" id="inputDatabasePassword" placeholder="Senha do banco de dados " class="form-control validate[required]" value="sints">\r\n								</div>\r\n							</div>\r\n							<div class="form-actions spinner" id="spinApplication">\r\n								<a href="javascript:void(0)" id="btnConnectionTest" class="btn btn-primary btn-xs">\r\n									<i class="fa fa-database" aria-hidden="true"></i>\r\n									Testar Conexão\r\n								</a>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<div class="hpanel" style="margin-bottom: 0px;">\r\n						<div class="panel-heading">Exceções</div>\r\n						<div class="panel-body">\r\n							<div class="row">\r\n								<div id="groupInputDatabaseTableNameExceptions" class="form-group col-xs-12 col-sm-12">\r\n									<label class="control-label" for="inputDatabaseTableNameExceptions">Nomes de tabelas (regex*)</label>\r\n									<input type="text" id="inputDatabaseTableNameExceptions" placeholder="Nomes de tabelas (regex*)" class="form-control">\r\n								</div>\r\n							</div>\r\n							<div class="row">\r\n								<div id="groupInputDatabaseColumnNameExceptions" class="form-group col-xs-12 col-sm-12">\r\n									<label class="control-label" for="inputDatabaseColumnNameExceptions">Nomes de colunas (regex*)</label>\r\n									<input type="text" id="inputDatabaseColumnNameExceptions" placeholder="Nomes de column (regex*)" class="form-control">\r\n								</div>\r\n							</div>\r\n							<div class="row">\r\n								<div id="groupInputSupressPrefix" class="form-group col-xs-12 col-sm-12">\r\n									<label class="control-label" for="inputSupressPrefix">Prefixo suprimido</label>\r\n									<input type="text" id="inputSupressPrefix" placeholder="Profixo suprimido" class="form-control">\r\n								</div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<div class="form-actions spinner" id="spinApplication">\r\n						<a href="javascript:void(0)" id="btnImportApplication" class="btn w-xs btn-success">\r\n							<i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i>\r\n							Importar\r\n						</a>\r\n						<a href="javascript:void(0)" class="btn w-xs btn-warning clos" data-dismiss="modal">\r\n							<i class="fa fa-times "></i>\r\n							Cancelar\r\n						</a>\r\n					</div>\r\n				</form>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/visual/componentes/DiagramApplicationTools",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","models/ApplicationModel","text!views/visual/componentes/tpl/DiagramApplicationToolsTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=e("models/ApplicationModel"),a=e("text!views/visual/componentes/tpl/DiagramApplicationToolsTemplate.html"),o=i.LayoutView.extend({template:t.template(a),events:{"click #btnImportApplication":"importApplication","click #btnConnectionTest":"connectionTest"},regions:{},ui:{inputDatabaseType:"#inputDatabaseType",inputDatabaseUrl:"#inputDatabaseUrl",inputDatabaseUsername:"#inputDatabaseUsername",inputDatabasePassword:"#inputDatabasePassword",inputDatabaseTableNameExceptions:"#inputDatabaseTableNameExceptions",inputDatabaseColumnNameExceptions:"#inputDatabaseColumnNameExceptions",inputSupressPrefix:"#inputSupressPrefix",modalScreen:".modal",form:".formConfig"},initialize:function(e){this.context=e.context,this.onExtract=e.onExtract,this.on("show",function(){this.ui.form.validationEngine("attach",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})
})},_isValid:function(){return this.ui.form.validationEngine("validate",{promptPosition:"topLeft",isOverflown:!1,validationEventTrigger:"change"})},connectionTest:function(e){var i=this;if(this._isValid()){var a=new r;a.url="rs/crud/applications/extraction/ping",a.fetch({success:function(r,a){a&&(n.showMessage("info","Sucesso na conexão!"),t.isFunction(e)&&e.call(i,r))},error:function(e,t){n.showMessage("error","Não foi possivel conectar a base de dados"),console.log("não pingou",t.responseJSON.errorMessage)},data:{databaseType:i.ui.inputDatabaseType.val(),url:i.ui.inputDatabaseUrl.val(),username:i.ui.inputDatabaseUsername.val(),password:i.ui.inputDatabasePassword.val(),tableRegex:i.ui.inputDatabaseTableNameExceptions.val(),columnRegex:i.ui.inputDatabaseColumnNameExceptions.val(),supressPrefix:i.ui.inputSupressPrefix.val()}})}else console.log("Verifique campos em destaque!"),n.showMessage("error","Verifique campos em destaque!")},_import:function(){var e=this,t=new r;t.url="rs/crud/applications/extraction/extract",t.fetch({success:function(t){e.onExtract.call(e.context,t)},error:function(e,t){n.showMessage("error","Não foi possivel extrair a base de dados"),console.log("não extraiu",t.responseJSON.errorMessage)},data:{databaseType:e.ui.inputDatabaseType.val(),url:e.ui.inputDatabaseUrl.val(),username:e.ui.inputDatabaseUsername.val(),password:e.ui.inputDatabasePassword.val(),tableRegex:e.ui.inputDatabaseTableNameExceptions.val(),columnRegex:e.ui.inputDatabaseColumnNameExceptions.val(),supressPrefix:e.ui.inputSupressPrefix.val()}})},importApplication:function(){this.connectionTest(this._import)},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal({backdrop:"static"})},clearModal:function(){}});return o}),define("text!views/components/tpl/ModalErrorTemplate.html",[],function(){return'<div class="modal fade hmodal-danger in" id="modalError" tabindex="-1" role="dialog" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="color-line"></div>\r\n			<div class="modal-header text-center">\r\n				<h4 class="modal-title">Erro!</h4>\r\n				<small class="font-bold">Foram identificados os seguintes erros</small>\r\n			</div>\r\n			<div class="modal-body">\r\n			\r\n			\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/components/ModalError",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette","text!views/components/tpl/ModalErrorTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=e("text!views/components/tpl/ModalErrorTemplate.html"),r=i.ItemView.extend({template:t.template(n),ui:{body:".modal-body",modal:".modal"},initIn:function(e){e.$el.append(this.render().el),i.triggerMethod.call(this,"show")},showMessage:function(e){var i="";t.isArray(e)&&t.each(e,function(e){i+="<p>"+e+"</p>"}),this.ui.body.html(i||e),this.ui.modal.modal({backdrop:"static"})}});return r}),define("views/visual/PageVisual",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","joint","models/AttributeModel","models/EntityModel","models/ApplicationModel","text!views/visual/tpl/PageVisualTemplate.html","views/visual/models/HtmlEntity","views/visual/models/VisualRelationship","views/visual/InspetorEntidadesView","views/visual/InspetorRelacionamentosView","collections/EntityCollection","collections/AttributeCollection","collections/RelationshipCollection","collections/ApplicationRelationshipCollection","models/RelationshipModel","models/ApplicationRelationshipModel","views/visual/componentes/DiagramApplicationTools","views/components/ModalError"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=e("adapters/col-adapter"),r=(e("adapters/backbone-adapter"),e("marionette")),a=(e("adapters/backgrid-adapter"),e("utilities/utils")),o=e("joint"),s=(e("models/AttributeModel"),e("models/EntityModel")),l=e("models/ApplicationModel"),c=e("text!views/visual/tpl/PageVisualTemplate.html"),d=e("views/visual/models/HtmlEntity"),u=e("views/visual/models/VisualRelationship"),p=e("views/visual/InspetorEntidadesView"),h=e("views/visual/InspetorRelacionamentosView"),f=e("collections/EntityCollection"),m=(e("collections/AttributeCollection"),e("collections/RelationshipCollection"),e("collections/ApplicationRelationshipCollection")),g=(e("models/RelationshipModel"),e("models/ApplicationRelationshipModel")),v=e("views/visual/componentes/DiagramApplicationTools"),b=e("views/components/ModalError"),y=0,w=0,C=0,x=new n.Map,I=new n.Map;i("body").mousemove(function(e){MOUSE_X=e.pageX,MOUSE_Y=e.pageY}),window.globalVisualEntities=x,window.globalVisualRelations=I;var M=r.LayoutView.extend({template:t.template(c),regions:{diagramApplicationToolsRegion:".diagramToolsModal",inspetorRegion:".inspetor",inspetorRelacionamentosRegion:".inspetor-relacionamentos"},events:{"click #addEntity":"addEntity","click #addRelation":"addRelation","click #saveApp":"saveApplication","click #openTools":"openTools"},ui:{},initialize:function(){var e=this;x.clear(),I.clear(),this.diagramApplicationTools=new v({context:e,onExtract:e.loadApplication}),this.application=this.model,this.inspetorView=new p({model:new s({name:""})}),this.sourceTempRelation=null,this.targetTempRelation=null,this.inspetorRelacionamentosView=new h({model:new g}),this.modalError=new b({}),this.on("show",function(){this.modalError.initIn(this),this.inspetorRegion.show(this.inspetorView),this.diagramApplicationToolsRegion.show(this.diagramApplicationTools),this.inspetorRelacionamentosRegion.show(this.inspetorRelacionamentosView),this.graph=new o.dia.Graph,window.paper=new o.dia.Paper({el:i("#paper"),height:2*window.innerHeight,width:1.5*window.innerWidth,gridSize:1,model:e.graph,interactive:function(e){return e.model.isLink()?{vertexAdd:!1}:!0}}),window.paper.on("link:options",function(t,i){e.inspetorRelacionamentosView.setVisual(i.model)}),window.paper.on("tool:remove",function(e,t){console.log("Removing link"+t.model.id),a.Bootbox.confirm("Tem certeza que deseja remover o					 relacionamento ?",function(e){e?console.log("Removing link",t):console.log(" Leaving  alone link",t)})}),window.paper.on("cell:pointerdown",function(){}),window.paper.on("cell:pointerup",function(t){"html.Element"==t.model.get("type")&&e.inspetorView.setVisualEntity(t.model)}),window.paper.on("cell:pointerclick",function(t){if("html.Element"==t.model.get("type")&&1==e.activeAddRelation)if(null==e.sourceTempRelation)e.sourceTempRelation=t,e.sourceTempRelation.highlight();else{e.targetTempRelation=t,e.targetTempRelation.highlight();var n=new u({applicationRelationshipModel:new g({sourceEntityView:e.sourceTempRelation.model,targetEntityView:e.targetTempRelation.model})});setTimeout(function(){e.sourceTempRelation.unhighlight(),e.targetTempRelation.unhighlight(),e.sourceTempRelation=null,e.targetTempRelation=null},1e3),i("#paper").removeClass("cursor-relacao-1-n"),i("#paper").removeClass("cursor-tabela"),e.activeAddRelation=!1,e.graph.addCell(n),window.globalVisualRelations.put(n.id,n)}}),window.paper.on("blank:pointerclick",function(){if(1==e.activeAddEntity){e.addEntity();var t=new d({entity:e._getEntityModel({x:MOUSE_X,y:MOUSE_Y-62}),position:{x:MOUSE_X,y:MOUSE_Y-62},size:{width:120,height:100}});e.graph.addCell(t),x.put(t.id,t),e.inspetorView.setVisualEntity(t),e.activeAddEntity=!1,i("#paper").removeClass("cursor-tabela")}}),e.loadApplication(e.application)})},loadApplication:function(e,i){var n=this;i&&(x.clear(),I.clear()),n.quantidadeEntidades=e.get("entities").length,t.each(e.get("entities"),function(e){n.addVisualEntity(new s(e))}),t.each(e.get("applicationRelationships"),function(e){n.addVisualRelation(e)})},openTools:function(){this.diagramApplicationTools.showPage()},addVisualEntity:function(e){var t=this,i=this.quantidadeEntidades>9?11:5;y++%i==0&&(C=0,y=0,w++);var n=20+240*(y++%2-1)+240*w,r=120+120*(y-1);console.log(r,n);var a=new d({entity:e,position:{x:e.posX||e.get("posX")||r,y:e.posY||e.get("posY")||n},size:{width:120,height:100}});t.graph.addCell(a),x.put(a.id,a),t.inspetorView.setVisualEntity(a)},addVisualRelation:function(e){var t=this,i=t._getEntityView(e.target),n=t._getEntityView(e.source),r=new u({applicationRelationshipModel:new g({id:e.id,source:e.source,target:e.target,sourceEntityView:i,targetEntityView:n})});t.graph.addCell(r),window.globalVisualRelations.put(r.id,r)},validateApplication:function(){var e=this.model.url,t=this;this.model.url="rs/crud/applications/validate/"+this.model.get("id"),this.model.fetch({success:function(i,n){t.model.url=e,a.showMessage("info",n.resp),console.log(download),download(n.resp)},error:function(i,n){a.showMessage("error",a.getJson(n.responseText).legalMessage||""),t.model.url=e}})},validateApplication:function(){var e=this,t=new l;t.url="rs/crud/applications/validate/"+this.model.get("id"),t.fetch({success:function(t,i){console.log(i),e.modalError.showMessage(i)},error:function(e,t){a.showMessage("error",a.getJson(t.responseText).legalMessage||"")}})},saveApplication:function(){var e=this;this.application=this.model;var n=new f,r=new m;t.each(x.values(),function(e){n.add(e.get("entity"))}),t.each(I.values(),function(t){r.add(new g({source:t.get("sourceRelationModel"),target:t.get("targetRelationModel"),application:{id:e.application.get("id"),name:e.application.get("name")}}))}),this.application.set("entities",n.toJSON()),this.application.set("applicationRelationships",r.toJSON()),this.application.save({},{success:function(t){e.graph.clear(),i(".html-element").remove(),e.loadApplication(t,!0),e.validateApplication()},error:function(e){console.error("erro ao salvar: ",e.toJSON())}}),console.log(r.toJSON())},_getEntityView:function(e){var i=null;return t.each(x.values(),function(t){t.get("entity")&&t.get("entity").get("name")==e.model&&(i=t)}),i},addRelation:function(){this.activeAddEntity=!1,this.activeAddRelation=!0,i("#paper").addClass("cursor-relacao-1-n")},addEntity:function(){this.activeAddRelation=!1,this.activeAddEntity=!0,i("#paper").addClass("cursor-tabela")},_getEntityModel:function(e){return new s({name:"Entity"+(x.size()+1),posX:e&&e.x,posY:e&&e.y})}});return M}),define("text!views/editor/tpl/MenuItemClassesTemplate.html",[],function(){return'<div>\r\n	<div class="name-item">\r\n		<input type="checkbox" class="checkbox" value="" style="position: absolute; margin-top: 2px; padding-right: 20px; margin-right: 20px;" checked="checked">\r\n		<a href="javascript:void(-1)">\r\n			<span class="editable editable-click " data-placement="right" data-title="Digite o nome da classe">{{name}}</span>\r\n		</a>\r\n	</div>\r\n</div>\r\n<span class="pull-right remove-item">\r\n	<i class="fa fa-times-circle-o "></i>\r\n	<!-- 	<i class="fa fa fa-download"></i> -->\r\n</span>\r\n'}),define("views/editor/MenuClasses",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","text!views/editor/tpl/MenuItemClassesTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),n=(e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),r=(e("adapters/backgrid-adapter"),e("utilities/utils"),e("text!views/editor/tpl/MenuItemClassesTemplate.html")),a=n.ItemView.extend({template:t.template(r),tagName:"li",className:"menu-class-item",events:{"click .name-item":"selectItem","click .checkbox":"checkbox","click .remove-item":"removeItem"},ui:{editableFields:".editable-click",checkbox:".checkbox"},checkbox:function(){this.model.set("checked",this.ui.checkbox.is("checked"))},removeItem:function(){},selectItem:function(){this.onSelectItem&&this.onSelectItem(this.model)},initialize:function(e){var t=this;this.onSelectItem=e.onSelectItem,this.on("show",function(){this.ui.editableFields.editable(),this.ui.editableFields.on("hidden",function(e){t.model.set("name",i(e.currentTarget).text()),t.model.save({},{success:function(){console.log("salvando nome")},error:function(){}})})})}}),o=n.CollectionView.extend({tagName:"ul",className:"editor-list",childViewOptions:function(){return{onSelectItem:this.onSelectItem}},childView:a,events:{},ui:{},getExceptionToGenerate:function(){var e="";return this.collection.each(function(t){t.get("checked")||(e=e+t.get("name")+",")}),e},initialize:function(e){this.onSelectItem=e.onSelectItem;this.on("show",function(){})}});return o}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("Yaml",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jsyaml=e()}}(function(){return function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t){function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var n=e("./js-yaml/loader"),r=e("./js-yaml/dumper");t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=n.load,t.exports.loadAll=n.loadAll,t.exports.safeLoad=n.safeLoad,t.exports.safeLoadAll=n.safeLoadAll,t.exports.dump=r.dump,t.exports.safeDump=r.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=i("scan"),t.exports.parse=i("parse"),t.exports.compose=i("compose"),t.exports.addConstructor=i("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(e,t){function i(e){return"undefined"==typeof e||null===e}function n(e){return"object"==typeof e&&null!==e}function r(e){return Array.isArray(e)?e:i(e)?[]:[e]}function a(e,t){var i,n,r,a;if(t)for(a=Object.keys(t),i=0,n=a.length;n>i;i+=1)r=a[i],e[r]=t[r];return e}function o(e,t){var i,n="";for(i=0;t>i;i+=1)n+=e;return n}function s(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}t.exports.isNothing=i,t.exports.isObject=n,t.exports.toArray=r,t.exports.repeat=o,t.exports.isNegativeZero=s,t.exports.extend=a},{}],3:[function(e,t){function i(e,t){var i,n,r,a,o,s,l;if(null===t)return{};for(i={},n=Object.keys(t),r=0,a=n.length;a>r;r+=1)o=n[r],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap[o],l&&R.call(l.styleAliases,s)&&(s=l.styleAliases[s]),i[o]=s;return i}function n(e){var t,i,n;if(t=e.toString(16).toUpperCase(),255>=e)i="x",n=2;else if(65535>=e)i="u",n=4;else{if(!(4294967295>=e))throw new S("code point within a string may not be greater than 0xFFFFFFFF");i="U",n=8}return"\\"+i+_.repeat("0",n-t.length)+t}function r(e){this.schema=e.schema||D,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=_.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(e,t){for(var i,n=_.repeat(" ",t),r=0,a=-1,o="",s=e.length;s>r;)a=e.indexOf("\n",r),-1===a?(i=e.slice(r),r=s):(i=e.slice(r,a+1),r=a+1),i.length&&"\n"!==i&&(o+=n),o+=i;return o}function o(e,t){return"\n"+_.repeat(" ",e.indent*t)}function s(e,t){var i,n,r;for(i=0,n=e.implicitTypes.length;n>i;i+=1)if(r=e.implicitTypes[i],r.resolve(t))return!0;return!1}function l(e){return e===F||e===j}function c(e){return e>=32&&126>=e||e>=161&&55295>=e&&8232!==e&&8233!==e||e>=57344&&65533>=e&&65279!==e||e>=65536&&1114111>=e}function d(e){return c(e)&&65279!==e&&e!==q&&e!==J&&e!==K&&e!==et&&e!==it&&e!==Z&&e!==O}function u(e){return c(e)&&65279!==e&&!l(e)&&e!==U&&e!==X&&e!==Z&&e!==q&&e!==J&&e!==K&&e!==et&&e!==it&&e!==O&&e!==V&&e!==W&&e!==L&&e!==tt&&e!==Y&&e!==H&&e!==B&&e!==G&&e!==$&&e!==Q}function p(e,t,i,n,r){var a,o,s=!1,p=!1,h=-1!==n,f=-1,m=u(e.charCodeAt(0))&&!l(e.charCodeAt(e.length-1));if(t)for(a=0;a<e.length;a++){if(o=e.charCodeAt(a),!c(o))return ct;m=m&&d(o)}else{for(a=0;a<e.length;a++){if(o=e.charCodeAt(a),o===z)s=!0,h&&(p=p||a-f-1>n&&" "!==e[f+1],f=a);else if(!c(o))return ct;m=m&&d(o)}p=p||h&&a-f-1>n&&" "!==e[f+1]}return s||p?" "===e[0]&&i>9?ct:p?lt:st:m&&!r(e)?at:ot}function h(e,t,i,n){e.dump=function(){function r(t){return s(e,t)}if(0===t.length)return"''";if(!e.noCompatMode&&-1!==rt.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,i),l=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),c=n||e.flowLevel>-1&&i>=e.flowLevel;switch(p(t,c,e.indent,l,r)){case at:return t;case ot:return"'"+t.replace(/'/g,"''")+"'";case st:return"|"+f(t,e.indent)+m(a(t,o));case lt:return">"+f(t,e.indent)+m(a(g(t,l),o));case ct:return'"'+b(t,l)+'"';default:throw new S("impossible error: invalid scalar style")}}()}function f(e,t){var i=" "===e[0]?String(t):"",n="\n"===e[e.length-1],r=n&&("\n"===e[e.length-2]||"\n"===e),a=r?"+":n?"":"-";return i+a+"\n"}function m(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function g(e,t){for(var i,n,r=/(\n+)([^\n]*)/g,a=function(){var i=e.indexOf("\n");return i=-1!==i?i:e.length,r.lastIndex=i,v(e.slice(0,i),t)}(),o="\n"===e[0]||" "===e[0];n=r.exec(e);){var s=n[1],l=n[2];i=" "===l[0],a+=s+(o||i||""===l?"":"\n")+v(l,t),o=i}return a}function v(e,t){if(""===e||" "===e[0])return e;for(var i,n,r=/ [^ ]/g,a=0,o=0,s=0,l="";i=r.exec(e);)s=i.index,s-a>t&&(n=o>a?o:s,l+="\n"+e.slice(a,n),a=n+1),o=s;return l+="\n",l+=e.length-a>t&&o>a?e.slice(a,o)+"\n"+e.slice(o+1):e.slice(a),l.slice(1)}function b(e){for(var t,i,r="",a=0;a<e.length;a++)t=e.charCodeAt(a),i=nt[t],r+=!i&&c(t)?e[a]:i||n(t);return r}function y(e,t,i){var n,r,a="",o=e.tag;for(n=0,r=i.length;r>n;n+=1)M(e,t,i[n],!1,!1)&&(0!==n&&(a+=", "),a+=e.dump);e.tag=o,e.dump="["+a+"]"}function w(e,t,i,n){var r,a,s="",l=e.tag;for(r=0,a=i.length;a>r;r+=1)M(e,t+1,i[r],!0,!0)&&(n&&0===r||(s+=o(e,t)),s+="- "+e.dump);e.tag=l,e.dump=s||"[]"}function C(e,t,i){var n,r,a,o,s,l="",c=e.tag,d=Object.keys(i);for(n=0,r=d.length;r>n;n+=1)s="",0!==n&&(s+=", "),a=d[n],o=i[a],M(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+": ",M(e,t,o,!1,!1)&&(s+=e.dump,l+=s));e.tag=c,e.dump="{"+l+"}"}function x(e,t,i,n){var r,a,s,l,c,d,u="",p=e.tag,h=Object.keys(i);if(e.sortKeys===!0)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new S("sortKeys must be a boolean or a function");for(r=0,a=h.length;a>r;r+=1)d="",n&&0===r||(d+=o(e,t)),s=h[r],l=i[s],M(e,t+1,s,!0,!0,!0)&&(c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,c&&(d+=e.dump&&z===e.dump.charCodeAt(0)?"?":"? "),d+=e.dump,c&&(d+=o(e,t)),M(e,t+1,l,!0,c)&&(d+=e.dump&&z===e.dump.charCodeAt(0)?":":": ",d+=e.dump,u+=d));e.tag=p,e.dump=u||"{}"}function I(e,t,i){var n,r,a,o,s,l;for(r=i?e.explicitTypes:e.implicitTypes,a=0,o=r.length;o>a;a+=1)if(s=r[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=i?s.tag:"?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===P.call(s.represent))n=s.represent(t,l);else{if(!R.call(s.represent,l))throw new S("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');n=s.represent[l](t,l)}e.dump=n}return!0}return!1}function M(e,t,i,n,r,a){e.tag=null,e.dump=i,I(e,i,!1)||I(e,i,!0);var o=P.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var s,l,c="[object Object]"===o||"[object Array]"===o;if(c&&(s=e.duplicates.indexOf(i),l=-1!==s),(null!==e.tag&&"?"!==e.tag||l||2!==e.indent&&t>0)&&(r=!1),l&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(c&&l&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===o)n&&0!==Object.keys(e.dump).length?(x(e,t,e.dump,r),l&&(e.dump="&ref_"+s+e.dump)):(C(e,t,e.dump),l&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===o)n&&0!==e.dump.length?(w(e,t,e.dump,r),l&&(e.dump="&ref_"+s+e.dump)):(y(e,t,e.dump),l&&(e.dump="&ref_"+s+" "+e.dump));else{if("[object String]"!==o){if(e.skipInvalid)return!1;throw new S("unacceptable kind of an object to dump "+o)}"?"!==e.tag&&h(e,e.dump,t,a)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function A(e,t){var i,n,r=[],a=[];for(k(e,r,a),i=0,n=a.length;n>i;i+=1)t.duplicates.push(r[a[i]]);t.usedDuplicates=new Array(n)}function k(e,t,i){var n,r,a;if(null!==e&&"object"==typeof e)if(r=t.indexOf(e),-1!==r)-1===i.indexOf(r)&&i.push(r);else if(t.push(e),Array.isArray(e))for(r=0,a=e.length;a>r;r+=1)k(e[r],t,i);else for(n=Object.keys(e),r=0,a=n.length;a>r;r+=1)k(e[n[r]],t,i)}function N(e,t){t=t||{};var i=new r(t);return i.noRefs||A(e,i),M(i,0,e,!0,!0)?i.dump+"\n":""}function T(e,t){return N(e,_.extend({schema:E},t))}var _=e("./common"),S=e("./exception"),D=e("./schema/default_full"),E=e("./schema/default_safe"),P=Object.prototype.toString,R=Object.prototype.hasOwnProperty,j=9,z=10,F=32,L=33,B=34,O=35,G=37,V=38,H=39,W=42,q=44,U=45,Z=58,Y=62,X=63,$=64,J=91,K=93,Q=96,et=123,tt=124,it=125,nt={};nt[0]="\\0",nt[7]="\\a",nt[8]="\\b",nt[9]="\\t",nt[10]="\\n",nt[11]="\\v",nt[12]="\\f",nt[13]="\\r",nt[27]="\\e",nt[34]='\\"',nt[92]="\\\\",nt[133]="\\N",nt[160]="\\_",nt[8232]="\\L",nt[8233]="\\P";var rt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],at=1,ot=2,st=3,lt=4,ct=5;t.exports.dump=N,t.exports.safeDump=T},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(e,t){function i(e,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=i},{}],5:[function(e,t){function i(e){return 10===e||13===e}function n(e){return 9===e||32===e}function r(e){return 9===e||32===e||10===e||13===e}function a(e){return 44===e||91===e||93===e||123===e||125===e}function o(e){var t;return e>=48&&57>=e?e-48:(t=32|e,t>=97&&102>=t?t-97+10:-1)}function s(e){return 120===e?2:117===e?4:85===e?8:0}function l(e){return e>=48&&57>=e?e-48:-1}function c(e){return 48===e?"\x00":97===e?"":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function d(e){return 65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function u(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||H,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function p(e,t){return new O(t,new G(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function h(e,t){throw p(e,t)}function f(e,t){e.onWarning&&e.onWarning.call(null,p(e,t))}function m(e,t,i,n){var r,a,o,s;if(i>t){if(s=e.input.slice(t,i),n)for(r=0,a=s.length;a>r;r+=1)o=s.charCodeAt(r),9===o||o>=32&&1114111>=o||h(e,"expected valid JSON character");else K.test(s)&&h(e,"the stream contains non-printable characters");e.result+=s}}function g(e,t,i,n){var r,a,o,s;for(B.isObject(i)||h(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(i),o=0,s=r.length;s>o;o+=1)a=r[o],W.call(t,a)||(t[a]=i[a],n[a]=!0)}function v(e,t,i,n,r,a){var o,s;if(r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(a))for(o=0,s=a.length;s>o;o+=1)g(e,t,a[o],i);else g(e,t,a,i);else e.json||W.call(i,r)||!W.call(t,r)||h(e,"duplicated mapping key"),t[r]=a,delete i[r];return t}function b(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):h(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function y(e,t,r){for(var a=0,o=e.input.charCodeAt(e.position);0!==o;){for(;n(o);)o=e.input.charCodeAt(++e.position);if(t&&35===o)do o=e.input.charCodeAt(++e.position);while(10!==o&&13!==o&&0!==o);if(!i(o))break;for(b(e),o=e.input.charCodeAt(e.position),a++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==r&&0!==a&&e.lineIndent<r&&f(e,"deficient indentation"),a}function w(e){var t,i=e.position;return t=e.input.charCodeAt(i),45!==t&&46!==t||t!==e.input.charCodeAt(i+1)||t!==e.input.charCodeAt(i+2)||(i+=3,t=e.input.charCodeAt(i),0!==t&&!r(t))?!1:!0}function C(e,t){1===t?e.result+=" ":t>1&&(e.result+=B.repeat("\n",t-1))}function x(e,t,o){var s,l,c,d,u,p,h,f,g,v=e.kind,b=e.result;if(g=e.input.charCodeAt(e.position),r(g)||a(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g)return!1;if((63===g||45===g)&&(l=e.input.charCodeAt(e.position+1),r(l)||o&&a(l)))return!1;for(e.kind="scalar",e.result="",c=d=e.position,u=!1;0!==g;){if(58===g){if(l=e.input.charCodeAt(e.position+1),r(l)||o&&a(l))break}else if(35===g){if(s=e.input.charCodeAt(e.position-1),r(s))break}else{if(e.position===e.lineStart&&w(e)||o&&a(g))break;if(i(g)){if(p=e.line,h=e.lineStart,f=e.lineIndent,y(e,!1,-1),e.lineIndent>=t){u=!0,g=e.input.charCodeAt(e.position);continue}e.position=d,e.line=p,e.lineStart=h,e.lineIndent=f;break}}u&&(m(e,c,d,!1),C(e,e.line-p),c=d=e.position,u=!1),n(g)||(d=e.position+1),g=e.input.charCodeAt(++e.position)}return m(e,c,d,!1),e.result?!0:(e.kind=v,e.result=b,!1)}function I(e,t){var n,r,a;if(n=e.input.charCodeAt(e.position),39!==n)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(m(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),39!==n)return!0;r=a=e.position,e.position++}else i(n)?(m(e,r,a,!0),C(e,y(e,!1,t)),r=a=e.position):e.position===e.lineStart&&w(e)?h(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);h(e,"unexpected end of the stream within a single quoted scalar")}function M(e,t){var n,r,a,l,c,u;if(u=e.input.charCodeAt(e.position),34!==u)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(u=e.input.charCodeAt(e.position));){if(34===u)return m(e,n,e.position,!0),e.position++,!0;if(92===u){if(m(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),i(u))y(e,!1,t);else if(256>u&&nt[u])e.result+=rt[u],e.position++;else if((c=s(u))>0){for(a=c,l=0;a>0;a--)u=e.input.charCodeAt(++e.position),(c=o(u))>=0?l=(l<<4)+c:h(e,"expected hexadecimal character");e.result+=d(l),e.position++}else h(e,"unknown escape sequence");n=r=e.position}else i(u)?(m(e,n,r,!0),C(e,y(e,!1,t)),n=r=e.position):e.position===e.lineStart&&w(e)?h(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}h(e,"unexpected end of the stream within a double quoted scalar")}function A(e,t){var i,n,a,o,s,l,c,d,u,p,f,m=!0,g=e.tag,b=e.anchor,w={};if(f=e.input.charCodeAt(e.position),91===f)o=93,c=!1,n=[];else{if(123!==f)return!1;o=125,c=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),f=e.input.charCodeAt(++e.position);0!==f;){if(y(e,!0,t),f=e.input.charCodeAt(e.position),f===o)return e.position++,e.tag=g,e.anchor=b,e.kind=c?"mapping":"sequence",e.result=n,!0;m||h(e,"missed comma between flow collection entries"),u=d=p=null,s=l=!1,63===f&&(a=e.input.charCodeAt(e.position+1),r(a)&&(s=l=!0,e.position++,y(e,!0,t))),i=e.line,E(e,t,q,!1,!0),u=e.tag,d=e.result,y(e,!0,t),f=e.input.charCodeAt(e.position),!l&&e.line!==i||58!==f||(s=!0,f=e.input.charCodeAt(++e.position),y(e,!0,t),E(e,t,q,!1,!0),p=e.result),c?v(e,n,w,u,d,p):n.push(s?v(e,null,w,u,d,p):d),y(e,!0,t),f=e.input.charCodeAt(e.position),44===f?(m=!0,f=e.input.charCodeAt(++e.position)):m=!1}h(e,"unexpected end of the stream within a flow collection")}function k(e,t){var r,a,o,s,c=X,d=!1,u=!1,p=t,f=0,g=!1;if(s=e.input.charCodeAt(e.position),124===s)a=!1;else{if(62!==s)return!1;a=!0}for(e.kind="scalar",e.result="";0!==s;)if(s=e.input.charCodeAt(++e.position),43===s||45===s)X===c?c=43===s?J:$:h(e,"repeat of a chomping mode identifier");else{if(!((o=l(s))>=0))break;0===o?h(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?h(e,"repeat of an indentation width identifier"):(p=t+o-1,u=!0)}if(n(s)){do s=e.input.charCodeAt(++e.position);while(n(s));if(35===s)do s=e.input.charCodeAt(++e.position);while(!i(s)&&0!==s)}for(;0!==s;){for(b(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!u||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>p&&(p=e.lineIndent),i(s))f++;else{if(e.lineIndent<p){c===J?e.result+=B.repeat("\n",d?1+f:f):c===X&&d&&(e.result+="\n");break}for(a?n(s)?(g=!0,e.result+=B.repeat("\n",d?1+f:f)):g?(g=!1,e.result+=B.repeat("\n",f+1)):0===f?d&&(e.result+=" "):e.result+=B.repeat("\n",f):e.result+=B.repeat("\n",d?1+f:f),d=!0,u=!0,f=0,r=e.position;!i(s)&&0!==s;)s=e.input.charCodeAt(++e.position);m(e,r,e.position,!1)}}return!0}function N(e,t){var i,n,a,o=e.tag,s=e.anchor,l=[],c=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),a=e.input.charCodeAt(e.position);0!==a&&45===a&&(n=e.input.charCodeAt(e.position+1),r(n));)if(c=!0,e.position++,y(e,!0,-1)&&e.lineIndent<=t)l.push(null),a=e.input.charCodeAt(e.position);else if(i=e.line,E(e,t,Z,!1,!0),l.push(e.result),y(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&0!==a)h(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return c?(e.tag=o,e.anchor=s,e.kind="sequence",e.result=l,!0):!1}function T(e,t,i){var a,o,s,l,c=e.tag,d=e.anchor,u={},p={},f=null,m=null,g=null,b=!1,w=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=u),l=e.input.charCodeAt(e.position);0!==l;){if(a=e.input.charCodeAt(e.position+1),s=e.line,63!==l&&58!==l||!r(a)){if(!E(e,i,U,!1,!0))break;if(e.line===s){for(l=e.input.charCodeAt(e.position);n(l);)l=e.input.charCodeAt(++e.position);if(58===l)l=e.input.charCodeAt(++e.position),r(l)||h(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(v(e,u,p,f,m,null),f=m=g=null),w=!0,b=!1,o=!1,f=e.tag,m=e.result;else{if(!w)return e.tag=c,e.anchor=d,!0;h(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!w)return e.tag=c,e.anchor=d,!0;h(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(b&&(v(e,u,p,f,m,null),f=m=g=null),w=!0,b=!0,o=!0):b?(b=!1,o=!0):h(e,"incomplete explicit mapping pair; a key node is missed"),e.position+=1,l=a;
if((e.line===s||e.lineIndent>t)&&(E(e,t,Y,!0,o)&&(b?m=e.result:g=e.result),b||(v(e,u,p,f,m,g),f=m=g=null),y(e,!0,-1),l=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==l)h(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&v(e,u,p,f,m,null),w&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=u),w}function _(e){var t,i,n,a,o=!1,s=!1;if(a=e.input.charCodeAt(e.position),33!==a)return!1;if(null!==e.tag&&h(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),60===a?(o=!0,a=e.input.charCodeAt(++e.position)):33===a?(s=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,o){do a=e.input.charCodeAt(++e.position);while(0!==a&&62!==a);e.position<e.length?(n=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):h(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!r(a);)33===a&&(s?h(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),tt.test(i)||h(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),et.test(n)&&h(e,"tag suffix cannot contain flow indicator characters")}return n&&!it.test(n)&&h(e,"tag name cannot contain such characters: "+n),o?e.tag=n:W.call(e.tagMap,i)?e.tag=e.tagMap[i]+n:"!"===i?e.tag="!"+n:"!!"===i?e.tag="tag:yaml.org,2002:"+n:h(e,'undeclared tag handle "'+i+'"'),!0}function S(e){var t,i;if(i=e.input.charCodeAt(e.position),38!==i)return!1;for(null!==e.anchor&&h(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!r(i)&&!a(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function D(e){var t,i,n;if(n=e.input.charCodeAt(e.position),42!==n)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!r(n)&&!a(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(i)||h(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],y(e,!0,-1),!0}function E(e,t,i,n,r){var a,o,s,l,c,d,u,p,f=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=Y===i||Z===i,n&&y(e,!0,-1)&&(m=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;_(e)||S(e);)y(e,!0,-1)?(m=!0,s=a,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):s=!1;if(s&&(s=m||r),(1===f||Y===i)&&(u=q===i||U===i?t:t+1,p=e.position-e.lineStart,1===f?s&&(N(e,p)||T(e,p,u))||A(e,u)?g=!0:(o&&k(e,u)||I(e,u)||M(e,u)?g=!0:D(e)?(g=!0,(null!==e.tag||null!==e.anchor)&&h(e,"alias node should not have any properties")):x(e,u,q===i)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(g=s&&N(e,p))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(l=0,c=e.implicitTypes.length;c>l;l+=1)if(d=e.implicitTypes[l],d.resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else W.call(e.typeMap,e.tag)?(d=e.typeMap[e.tag],null!==e.result&&d.kind!==e.kind&&h(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result)?(e.result=d.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):h(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function P(e){var t,a,o,s,l=e.position,c=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(y(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(c=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!r(s);)s=e.input.charCodeAt(++e.position);for(a=e.input.slice(t,e.position),o=[],a.length<1&&h(e,"directive name must not be less than one character in length");0!==s;){for(;n(s);)s=e.input.charCodeAt(++e.position);if(35===s){do s=e.input.charCodeAt(++e.position);while(0!==s&&!i(s));break}if(i(s))break;for(t=e.position;0!==s&&!r(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(t,e.position))}0!==s&&b(e),W.call(ot,a)?ot[a](e,a,o):f(e,'unknown document directive "'+a+'"')}return y(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,y(e,!0,-1)):c&&h(e,"directives end mark is expected"),E(e,e.lineIndent-1,Y,!1,!0),y(e,!0,-1),e.checkLineBreaks&&Q.test(e.input.slice(l,e.position))&&f(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&w(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,y(e,!0,-1))):void(e.position<e.length-1&&h(e,"end of the stream or a document separator is expected"))}function R(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var i=new u(e,t);for(i.input+="\x00";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)P(i);return i.documents}function j(e,t,i){var n,r,a=R(e,i);for(n=0,r=a.length;r>n;n+=1)t(a[n])}function z(e,t){var i=R(e,t);if(0===i.length)return void 0;if(1===i.length)return i[0];throw new O("expected a single document in the stream, but found more")}function F(e,t,i){j(e,t,B.extend({schema:V},i))}function L(e,t){return z(e,B.extend({schema:V},t))}for(var B=e("./common"),O=e("./exception"),G=e("./mark"),V=e("./schema/default_safe"),H=e("./schema/default_full"),W=Object.prototype.hasOwnProperty,q=1,U=2,Z=3,Y=4,X=1,$=2,J=3,K=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Q=/[\x85\u2028\u2029]/,et=/[,\[\]\{\}]/,tt=/^(?:!|!!|![a-z\-]+!)$/i,it=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,nt=new Array(256),rt=new Array(256),at=0;256>at;at++)nt[at]=c(at)?1:0,rt[at]=c(at);var ot={YAML:function(e,t,i){var n,r,a;null!==e.version&&h(e,"duplication of %YAML directive"),1!==i.length&&h(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),null===n&&h(e,"ill-formed argument of the YAML directive"),r=parseInt(n[1],10),a=parseInt(n[2],10),1!==r&&h(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=2>a,1!==a&&2!==a&&f(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var n,r;2!==i.length&&h(e,"TAG directive accepts exactly two arguments"),n=i[0],r=i[1],tt.test(n)||h(e,"ill-formed tag handle (first argument) of the TAG directive"),W.call(e.tagMap,n)&&h(e,'there is a previously declared suffix for "'+n+'" tag handle'),it.test(r)||h(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[n]=r}};t.exports.loadAll=j,t.exports.load=z,t.exports.safeLoadAll=F,t.exports.safeLoad=L},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(e,t){function i(e,t,i,n,r){this.name=e,this.buffer=t,this.position=i,this.line=n,this.column=r}var n=e("./common");i.prototype.getSnippet=function(e,t){var i,r,a,o,s;if(!this.buffer)return null;for(e=e||4,t=t||75,i="",r=this.position;r>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){i=" ... ",r+=5;break}for(a="",o=this.position;o<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if(o+=1,o-this.position>t/2-1){a=" ... ",o-=5;break}return s=this.buffer.slice(r,o),n.repeat(" ",e)+i+s+a+"\n"+n.repeat(" ",e+this.position-r+i.length)+"^"},i.prototype.toString=function(e){var t,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(i+=":\n"+t)),i},t.exports=i},{"./common":2}],7:[function(e,t){function i(e,t,n){var r=[];return e.include.forEach(function(e){n=i(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,i){t.tag===e.tag&&r.push(i)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function n(){function e(e){n[e.tag]=e}var t,i,n={};for(t=0,i=arguments.length;i>t;t+=1)arguments[t].forEach(e);return n}function r(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=n(this.compiledImplicit,this.compiledExplicit)}var a=e("./common"),o=e("./exception"),s=e("./type");r.DEFAULT=null,r.create=function(){var e,t;switch(arguments.length){case 1:e=r.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(e=a.toArray(e),t=a.toArray(t),!e.every(function(e){return e instanceof r}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new r({include:e,explicit:t})},t.exports=r},{"./common":2,"./exception":4,"./type":13}],8:[function(e,t){var i=e("../schema");t.exports=new i({include:[e("./json")]})},{"../schema":7,"./json":12}],9:[function(e,t){var i=e("../schema");t.exports=i.DEFAULT=new i({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(e,t){var i=e("../schema");t.exports=new i({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(e,t){var i=e("../schema");t.exports=new i({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(e,t){var i=e("../schema");t.exports=new i({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(e,t){function i(e){var t={};return null!==e&&Object.keys(e).forEach(function(i){e[i].forEach(function(e){t[String(e)]=i})}),t}function n(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===a.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=i(t.styleAliases||null),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var r=e("./exception"),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=n},{"./exception":4}],14:[function(e,t){function i(e){if(null===e)return!1;var t,i,n=0,r=e.length,a=d;for(i=0;r>i;i++)if(t=a.indexOf(e.charAt(i)),!(t>64)){if(0>t)return!1;n+=6}return n%8===0}function n(e){var t,i,n=e.replace(/[\r\n=]/g,""),r=n.length,a=d,s=0,l=[];for(t=0;r>t;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(255&s)),s=s<<6|a.indexOf(n.charAt(t));return i=r%4*6,0===i?(l.push(s>>16&255),l.push(s>>8&255),l.push(255&s)):18===i?(l.push(s>>10&255),l.push(s>>2&255)):12===i&&l.push(s>>4&255),o?new o(l):l}function r(e){var t,i,n="",r=0,a=e.length,o=d;for(t=0;a>t;t++)t%3===0&&t&&(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]),r=(r<<8)+e[t];return i=a%3,0===i?(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]):2===i?(n+=o[r>>10&63],n+=o[r>>4&63],n+=o[r<<2&63],n+=o[64]):1===i&&(n+=o[r>>2&63],n+=o[r<<4&63],n+=o[64],n+=o[64]),n}function a(e){return o&&o.isBuffer(e)}var o;try{var s=e;o=s("buffer").Buffer}catch(l){}var c=e("../type"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new c("tag:yaml.org,2002:binary",{kind:"scalar",resolve:i,construct:n,predicate:a,represent:r})},{"../type":13}],15:[function(e,t){function i(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function n(e){return"true"===e||"True"===e||"TRUE"===e}function r(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var a=e("../type");t.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:n,predicate:r,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(e,t){function i(e){return null===e?!1:l.test(e)?!0:!1}function n(e){var t,i,n,r;return t=e.replace(/_/g,"").toLowerCase(),i="-"===t[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?0/0:t.indexOf(":")>=0?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,n=1,r.forEach(function(e){t+=e*n,n*=60}),i*t):i*parseFloat(t,10)}function r(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(e))return"-0.0";return i=e.toString(10),c.test(i)?i.replace("e",".e"):i}function a(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||o.isNegativeZero(e))}var o=e("../common"),s=e("../type"),l=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;t.exports=new s("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:n,predicate:a,represent:r,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(e,t){function i(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function n(e){return e>=48&&55>=e}function r(e){return e>=48&&57>=e}function a(e){if(null===e)return!1;var t,a=e.length,o=0,s=!1;if(!a)return!1;if(t=e[o],("-"===t||"+"===t)&&(t=e[++o]),"0"===t){if(o+1===a)return!0;if(t=e[++o],"b"===t){for(o++;a>o;o++)if(t=e[o],"_"!==t){if("0"!==t&&"1"!==t)return!1;s=!0}return s}if("x"===t){for(o++;a>o;o++)if(t=e[o],"_"!==t){if(!i(e.charCodeAt(o)))return!1;s=!0}return s}for(;a>o;o++)if(t=e[o],"_"!==t){if(!n(e.charCodeAt(o)))return!1;s=!0}return s}for(;a>o;o++)if(t=e[o],"_"!==t){if(":"===t)break;if(!r(e.charCodeAt(o)))return!1;s=!0}return s?":"!==t?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(o)):!1}function o(e){var t,i,n=e,r=1,a=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),t=n[0],("-"===t||"+"===t)&&("-"===t&&(r=-1),n=n.slice(1),t=n[0]),"0"===n?0:"0"===t?"b"===n[1]?r*parseInt(n.slice(2),2):"x"===n[1]?r*parseInt(n,16):r*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach(function(e){a.unshift(parseInt(e,10))}),n=0,i=1,a.forEach(function(e){n+=e*i,i*=60}),r*n):r*parseInt(n,10)}function s(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!l.isNegativeZero(e)}var l=e("../common"),c=e("../type");t.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:o,predicate:s,represent:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(e,t){function i(e){if(null===e)return!1;try{var t="("+e+")",i=o.parse(t,{range:!0});return"Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"FunctionExpression"!==i.body[0].expression.type?!1:!0}catch(n){return!1}}function n(e){var t,i="("+e+")",n=o.parse(i,{range:!0}),r=[];if("Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type)throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=n.body[0].expression.body.range,new Function(r,i.slice(t[0]+1,t[1]-1))}function r(e){return e.toString()}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var o;try{var s=e;o=s("esprima")}catch(l){"undefined"!=typeof window&&(o=window.esprima)}var c=e("../../type");t.exports=new c("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:n,predicate:a,represent:r})},{"../../type":13}],19:[function(e,t){function i(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,i=/\/([gim]*)$/.exec(e),n="";if("/"===t[0]){if(i&&(n=i[1]),n.length>3)return!1;if("/"!==t[t.length-n.length-1])return!1}return!0}function n(e){var t=e,i=/\/([gim]*)$/.exec(e),n="";return"/"===t[0]&&(i&&(n=i[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)}function r(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function a(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:i,construct:n,predicate:a,represent:r})},{"../../type":13}],20:[function(e,t){function i(){return!0}function n(){return void 0}function r(){return""}function a(e){return"undefined"==typeof e}var o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:i,construct:n,predicate:a,represent:r})},{"../../type":13}],21:[function(e,t){var i=e("../type");t.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":13}],22:[function(e,t){function i(e){return"<<"===e||null===e}var n=e("../type");t.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})},{"../type":13}],23:[function(e,t){function i(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function n(){return null}function r(e){return null===e}var a=e("../type");t.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:n,predicate:r,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(e,t){function i(e){if(null===e)return!0;var t,i,n,r,s,l=[],c=e;for(t=0,i=c.length;i>t;t+=1){if(n=c[t],s=!1,"[object Object]"!==o.call(n))return!1;for(r in n)if(a.call(n,r)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==l.indexOf(r))return!1;l.push(r)}return!0}function n(e){return null!==e?e:[]}var r=e("../type"),a=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:n})},{"../type":13}],25:[function(e,t){function i(e){if(null===e)return!0;var t,i,n,r,o,s=e;for(o=new Array(s.length),t=0,i=s.length;i>t;t+=1){if(n=s[t],"[object Object]"!==a.call(n))return!1;if(r=Object.keys(n),1!==r.length)return!1;o[t]=[r[0],n[r[0]]]}return!0}function n(e){if(null===e)return[];var t,i,n,r,a,o=e;for(a=new Array(o.length),t=0,i=o.length;i>t;t+=1)n=o[t],r=Object.keys(n),a[t]=[r[0],n[r[0]]];return a}var r=e("../type"),a=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:i,construct:n})},{"../type":13}],26:[function(e,t){var i=e("../type");t.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":13}],27:[function(e,t){function i(e){if(null===e)return!0;var t,i=e;for(t in i)if(a.call(i,t)&&null!==i[t])return!1;return!0}function n(e){return null!==e?e:{}}var r=e("../type"),a=Object.prototype.hasOwnProperty;t.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:i,construct:n})},{"../type":13}],28:[function(e,t){var i=e("../type");t.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":13}],29:[function(e,t){function i(e){return null===e?!1:null!==o.exec(e)?!0:null!==s.exec(e)?!0:!1}function n(e){var t,i,n,r,a,l,c,d,u,p,h=0,f=null;if(t=o.exec(e),null===t&&(t=s.exec(e)),null===t)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,n,r));if(a=+t[4],l=+t[5],c=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(d=+t[10],u=+(t[11]||0),f=6e4*(60*d+u),"-"===t[9]&&(f=-f)),p=new Date(Date.UTC(i,n,r,a,l,c,h)),f&&p.setTime(p.getTime()-f),p}function r(e){return e.toISOString()}var a=e("../type"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:n,instanceOf:Date,represent:r})},{"../type":13}],"/":[function(e,t){var i=e("./lib/js-yaml.js");t.exports=i},{"./lib/js-yaml.js":1}]},{},[])("/")}),define("text!views/editor/tpl/EditorTemplate.html",[],function(){return'<!-- generated: 05/08/2016 15:59:17 -->\r\n<!-- Modulo´s form -->\r\n<div class="main-content-inner">\r\n	<div class="page-content">\r\n		<div class="hpanel">\r\n			<div class="row">\r\n				<div class="col-md-2">\r\n					<div class="hpanel">\r\n						<div class="panel-heading hbuilt"></div>\r\n						<div class="panel-body" style="height: 90%;">\r\n							<div style="text-align: center;">\r\n								<a class="btn btn-info save-modulo tip" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Salva módulo">\r\n									<i class="fa fa-floppy-o"></i>\r\n								</a>\r\n								<a class="btn btn-success add-item-modulo tip" data-toggle="tooltip" data-placement="top" title="" data-original-title="Cria nova classe">\r\n									<i class="fa fa-plus"></i>\r\n								</a>\r\n								<a class="btn btn-primary generate-modulo tip" data-toggle="tooltip" data-placement="right" title="" data-original-title="Gera e baixa módulo">\r\n									<i class="fa fa-download"></i>\r\n								</a>\r\n							</div>\r\n							<hr>\r\n							<div class="classes-list"></div>\r\n							<ul class="editor-list" style="position: fixed; bottom: 60px; padding-top: 0px;">\r\n								<hr>\r\n								<li>\r\n									<a href="javascript:void(-1)">\r\n										<i class="fa fa-gears"></i>\r\n										Configurações\r\n									</a>\r\n								</li>\r\n								<li>\r\n									<a href="javascript:void(-1)">\r\n										<i class="fa fa-question-circle"></i>\r\n										Ajuda\r\n									</a>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="col-md-10">\r\n					<div class="hpanel no-padding">\r\n						<div class="panel-heading hbuilt " id="codeEditorName"></div>\r\n						<div class="panel-body no-padding" style="height: 90%; border-top-width: 0px;">\r\n							<div class="summernote">\r\n								<textarea id="codeEditor" name="code"></textarea>\r\n								<div class="consoleError" style="color: red"></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("views/editor/Editor",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/col-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","views/editor/MenuClasses","collections/ItemModuloCollection","models/ItemModuloModel","models/ModuloModel","Yaml","text!views/editor/tpl/EditorTemplate.html","download","codemirror","views/components/ModalError"],function(e){var t=e("adapters/underscore-adapter"),i=(e("adapters/jquery-adapter"),e("adapters/col-adapter"),e("adapters/backbone-adapter"),e("marionette")),n=(e("adapters/backgrid-adapter"),e("utilities/utils")),r=e("views/editor/MenuClasses"),a=e("collections/ItemModuloCollection"),o=e("models/ItemModuloModel"),s=e("models/ModuloModel"),l=e("Yaml"),c=e("text!views/editor/tpl/EditorTemplate.html"),d=e("download"),u=e("codemirror"),p=e("views/components/ModalError"),h=i.LayoutView.extend({template:t.template(c),regions:{menuRegion:".classes-list"},events:{"click .save-modulo":"saveModulo","click .generate-modulo":"generateModulo","click .add-item-modulo":"addItemModulo"},ui:{consoleError:".consoleError",tooltips:".tip",modalError:"#modalError",codeEditorName:"#codeEditorName"},initialize:function(){var e=this;e.currentModelItem=null,this.itemsModelo=new a(e.model.get("items")),this.menuClasses=new r({collection:e.itemsModelo,modulo:e.model,onSelectItem:function(t){e.currentModelItem=t,e.ui.codeEditorName.text(t.get("name")),e.editor.setValue(t.get("yamlContent"))}}),this.modalError=new p({}),this.on("show",function(){this.modalError.initIn(this),this.ui.tooltips.tooltip(),this.menuRegion.show(this.menuClasses),this.editor=u.fromTextArea(document.getElementById("codeEditor"),{mode:"text/x-yaml",lineNumbers:!0,selectionPointer:!0}),this.editor.on("change",function(t){try{e.ui.consoleError.text(""),e.currentModelItem.set("yamlContent",t.getValue());{l.load(t.getValue())}}catch(i){e.ui.consoleError.text(i)}})})},addItemModulo:function(){this.itemsModelo.add(new o({name:"novaClasse",yamlContent:"- name: novaClasse"}))},generateModulo:function(){var e=this,t=new s;t.url="rs/crud/applications/moduleGenerator/"+this.model.get("id"),t.fetch({success:function(e,t){d(t.resp)},error:function(t,i){e.modalError.showMessage(i.responseJSON.returnObjectError.messages),n.showMessage("error",n.getJson(i.responseText).legalMessage||"")},data:{exceptions:e.menuClasses.getExceptionToGenerate()}})},saveModulo:function(){console.info("Salvando modulo"),this.model.set("items",this.itemsModelo.toJSON()),this.model.save({},{success:function(e){console.info("Módulo Salvo!",e)},error:function(e){console.error(e)}})}});return h}),define("Router",["require","adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter","marionette","utilities/utils","views/categoria/PageCategoria","views/application/PageApplication","views/application/FormApplication","models/ApplicationModel","views/attribute/PageAttribute","views/attribute/FormAttribute","models/AttributeModel","views/attributeType/PageAttributeType","views/attributeType/FormAttributeType","models/AttributeTypeModel","views/entity/PageEntity","views/entity/FormEntity","models/EntityModel","views/relationship/PageRelationship","views/relationship/FormRelationship","models/RelationshipModel","views/viewApproach/PageViewApproach","views/viewApproach/FormViewApproach","models/ViewApproachModel","views/bairro/PageBairro","views/bairro/FormBairro","models/BairroModel","views/cep/PageCep","views/cep/FormCep","models/CepModel","views/cidade/PageCidade","views/cidade/FormCidade","models/CidadeModel","views/endereco/PageEndereco","views/endereco/FormEndereco","models/EnderecoModel","views/estado/PageEstado","views/estado/FormEstado","models/EstadoModel","views/pais/PagePais","views/pais/FormPais","models/PaisModel","views/client/PageClient","views/client/FormClient","models/ClientModel","views/cliente/PageCliente","views/cliente/FormCliente","models/ClienteModel","views/itemType/PageItemType","views/itemType/FormItemType","models/ItemTypeModel","views/operation/PageOperation","views/operation/FormOperation","models/OperationModel","views/permission/PagePermission","views/permission/FormPermission","models/PermissionModel","views/role/PageRole","views/role/FormRole","models/RoleModel","views/session/PageSession","views/session/FormSession","models/SessionModel","views/user/PageUser","views/user/FormUser","models/UserModel","views/itemModulo/PageItemModulo","views/itemModulo/FormItemModulo","models/ItemModuloModel","views/modulo/PageModulo","views/modulo/FormModulo","models/ModuloModel","views/user/PageUser","views/user/FormUser","models/UserModel","views/visual/PageVisual","views/editor/Editor","views/helpGenerateYaml/PageHelpGenerateYaml"],function(e){var t=e("adapters/jquery-adapter"),i=(e("adapters/underscore-adapter"),e("adapters/backbone-adapter")),n=e("marionette"),r=e("utilities/utils"),a=e("views/categoria/PageCategoria"),o=e("views/application/PageApplication"),s=e("views/application/FormApplication"),l=e("models/ApplicationModel"),c=e("views/attribute/PageAttribute"),d=e("views/attribute/FormAttribute"),u=e("models/AttributeModel"),p=e("views/attributeType/PageAttributeType"),h=e("views/attributeType/FormAttributeType"),f=e("models/AttributeTypeModel"),m=e("views/entity/PageEntity"),g=e("views/entity/FormEntity"),v=e("models/EntityModel"),b=e("views/relationship/PageRelationship"),y=e("views/relationship/FormRelationship"),w=e("models/RelationshipModel"),C=e("views/viewApproach/PageViewApproach"),x=e("views/viewApproach/FormViewApproach"),I=e("models/ViewApproachModel"),M=e("views/bairro/PageBairro"),A=e("views/bairro/FormBairro"),k=e("models/BairroModel"),N=e("views/cep/PageCep"),T=e("views/cep/FormCep"),_=e("models/CepModel"),S=e("views/cidade/PageCidade"),D=e("views/cidade/FormCidade"),E=e("models/CidadeModel"),P=e("views/endereco/PageEndereco"),R=e("views/endereco/FormEndereco"),j=e("models/EnderecoModel"),z=e("views/estado/PageEstado"),F=e("views/estado/FormEstado"),L=e("models/EstadoModel"),B=e("views/pais/PagePais"),O=e("views/pais/FormPais"),G=e("models/PaisModel"),V=e("views/client/PageClient"),H=e("views/client/FormClient"),W=e("models/ClientModel"),q=e("views/cliente/PageCliente"),U=e("views/cliente/FormCliente"),Z=e("models/ClienteModel"),Y=e("views/itemType/PageItemType"),X=e("views/itemType/FormItemType"),$=e("models/ItemTypeModel"),J=e("views/operation/PageOperation"),K=e("views/operation/FormOperation"),Q=e("models/OperationModel"),et=e("views/permission/PagePermission"),tt=e("views/permission/FormPermission"),it=e("models/PermissionModel"),nt=e("views/role/PageRole"),rt=e("views/role/FormRole"),at=e("models/RoleModel"),ot=e("views/session/PageSession"),st=e("views/session/FormSession"),lt=e("models/SessionModel"),ct=e("views/user/PageUser"),dt=e("views/user/FormUser"),ut=e("models/UserModel"),pt=e("views/itemModulo/PageItemModulo"),ht=e("views/itemModulo/FormItemModulo"),ft=e("models/ItemModuloModel"),mt=e("views/modulo/PageModulo"),gt=e("views/modulo/FormModulo"),vt=e("models/ModuloModel"),ct=e("views/user/PageUser"),dt=e("views/user/FormUser"),ut=e("models/UserModel"),bt=e("views/visual/PageVisual"),yt=e("views/editor/Editor"),wt=e("views/helpGenerateYaml/PageHelpGenerateYaml");r.NProgress.setBlockerPanel("block_panel"),t("#wrapper").height(t(window).height()-62),t(window).resize(function(){t("#wrapper").height(t(window).height()-62)});var Ct=n.Region.extend({el:".main-content",attachHtml:function(e){this.$el.hide(),this.$el.html(e.el),r.scrollTop(),this.$el.fadeIn(300),e.listenTo(e,"show",function(){setTimeout(function(){r.NProgress.done(!1,!0)},100)})}}),xt=i.Router.extend({routes:{"app/visual/:id":"visual","":"applications","app/applications":"applications","app/application/:idApp/entities":"entitiesByApplication","app/categoria":"categoria","app/newApplication":"newApplication","app/editApplication/:id":"editApplication","app/attributes":"attributes","app/newAttribute":"newAttribute","app/editAttribute/:id":"editAttribute","app/attributeTypes":"attributeTypes","app/newAttributeType":"newAttributeType","app/editAttributeType/:id":"editAttributeType","app/entitys":"entitys","app/newEntity":"newEntity","app/editEntity/:id":"editEntity","app/relationships":"relationships","app/newRelationship":"newRelationship","app/editRelationship/:id":"editRelationship","app/viewApproachs":"viewApproachs","app/newViewApproach":"newViewApproach","app/editViewApproach/:id":"editViewApproach","app/bairros":"bairros","app/newBairro":"newBairro","app/editBairro/:id":"editBairro","app/ceps":"ceps","app/newCep":"newCep","app/editCep/:id":"editCep","app/cidades":"cidades","app/newCidade":"newCidade","app/editCidade/:id":"editCidade","app/enderecos":"enderecos","app/newEndereco":"newEndereco","app/editEndereco/:id":"editEndereco","app/estados":"estados","app/newEstado":"newEstado","app/editEstado/:id":"editEstado","app/paiss":"paiss","app/newPais":"newPais","app/editPais/:id":"editPais","app/clients":"clients","app/newClient":"newClient","app/editClient/:id":"editClient","app/clientes":"clientes","app/newCliente":"newCliente","app/editCliente/:id":"editCliente","app/items":"items","app/newItem":"newItem","app/editItem/:id":"editItem","app/itemTypes":"itemTypes","app/newItemType":"newItemType","app/editItemType/:id":"editItemType","app/operations":"operations","app/newOperation":"newOperation","app/editOperation/:id":"editOperation","app/permissions":"permissions","app/newPermission":"newPermission","app/editPermission/:id":"editPermission","app/roles":"roles","app/newRole":"newRole","app/editRole/:id":"editRole","app/sessions":"sessions","app/newSession":"newSession","app/editSession/:id":"editSession","app/users":"users","app/newUser":"newUser","app/editUser/:id":"editUser","app/itemModulos":"itemModulos","app/newItemModulo":"newItemModulo","app/editItemModulo/:id":"editItemModulo","app/modulos":"modulos","app/newModulo":"newModulo","app/editModulo/:id":"editModulo","app/users":"users","app/newUser":"newUser","app/editUser/:id":"editUser","app/helpGenerateYaml/:appId":"helpGenerateYaml","app/editor/:id":"editor"},initialize:function(){this.App=new n.Application,this.App.addRegions({mainRegion:Ct}),this.on("route",function(){r.NProgress.start(!0)
})},index:function(){r.markActiveItem("dashboard"),setTimeout(function(){r.NProgress.done(!1,!0)},500)},applications:function(){r.markActiveItem("applications"),this.pageApplication=new o,this.App.mainRegion.show(this.pageApplication),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Application",itemSubFolderName:"Grid",url:"app/applications"})},editor:function(e){var t=this,i=new vt({id:e});i.fetch({success:function(e){t.editor=new yt({model:e}),t.App.mainRegion.show(t.editor)},error:function(e,t,i){console.error(e,t,i)}})},visual:function(e){var t=this;r.markActiveItem("visual");var i=new l({id:e});i.fetch({success:function(e){t.pageVisual=new bt({model:e}),t.App.mainRegion.show(t.pageVisual)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Application",itemSubFolderName:"Grid",url:"app/visual"})},entitiesByApplication:function(e){var t=this,i=new l({id:e});i.fetch({success:function(){t.pageCategoria=new a({application:i}),t.App.mainRegion.show(t.pageCategoria)},error:function(e,t,i){console.error(e,t,i)}})},categoria:function(){this.pageCategoria=new a({}),this.App.mainRegion.show(this.pageCategoria)},newApplication:function(){r.markActiveItem("applications");var e=new s({model:new l});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Application",itemSubFolderName:"Formulário de cadastro",url:"app/applications"})},editApplication:function(e){var t=this;r.markActiveItem("applications");var i=null;if(this.pageApplication)i=new s({model:this.pageApplication.applications.get(e)}),t.App.mainRegion.show(i);else{var n=new l({id:e});n.fetch({success:function(e){i=new s({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Applicationos",itemSubFolderName:"Formulário de atualização",url:"app/applications"})}},attributes:function(){r.markActiveItem("attributes"),this.pageAttribute=new c,this.App.mainRegion.show(this.pageAttribute),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Attribute",itemSubFolderName:"Grid",url:"app/attributes"})},newAttribute:function(){r.markActiveItem("attributes");var e=new d({model:new u});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Attribute",itemSubFolderName:"Formulário de cadastro",url:"app/attributes"})},editAttribute:function(e){var t=this;r.markActiveItem("attributes");var i=null;if(this.pageAttribute)i=new d({model:this.pageAttribute.attributes.get(e)}),t.App.mainRegion.show(i);else{var n=new u({id:e});n.fetch({success:function(e){i=new d({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Attributeos",itemSubFolderName:"Formulário de atualização",url:"app/attributes"})}},attributeTypes:function(){r.markActiveItem("attributeTypes"),this.pageAttributeType=new p,this.App.mainRegion.show(this.pageAttributeType),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"AttributeType",itemSubFolderName:"Grid",url:"app/attributeTypes"})},newAttributeType:function(){r.markActiveItem("attributeTypes");var e=new h({model:new f});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"AttributeType",itemSubFolderName:"Formulário de cadastro",url:"app/attributeTypes"})},editAttributeType:function(e){var t=this;r.markActiveItem("attributeTypes");var i=null;if(this.pageAttributeType)i=new h({model:this.pageAttributeType.attributeTypes.get(e)}),t.App.mainRegion.show(i);else{var n=new f({id:e});n.fetch({success:function(e){i=new h({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"AttributeTypeos",itemSubFolderName:"Formulário de atualização",url:"app/attributeTypes"})}},entitys:function(){r.markActiveItem("entitys"),this.pageEntity=new m,this.App.mainRegion.show(this.pageEntity),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Entity",itemSubFolderName:"Grid",url:"app/entitys"})},newEntity:function(){r.markActiveItem("entitys");var e=new g({model:new v});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Entity",itemSubFolderName:"Formulário de cadastro",url:"app/entitys"})},editEntity:function(e){var t=this;r.markActiveItem("entitys");var i=null;if(this.pageEntity)i=new g({model:this.pageEntity.entitys.get(e)}),t.App.mainRegion.show(i);else{var n=new v({id:e});n.fetch({success:function(e){i=new g({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Entityos",itemSubFolderName:"Formulário de atualização",url:"app/entitys"})}},relationships:function(){r.markActiveItem("relationships"),this.pageRelationship=new b,this.App.mainRegion.show(this.pageRelationship),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Relationship",itemSubFolderName:"Grid",url:"app/relationships"})},newRelationship:function(){r.markActiveItem("relationships");var e=new y({model:new w});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Relationship",itemSubFolderName:"Formulário de cadastro",url:"app/relationships"})},editRelationship:function(e){var t=this;r.markActiveItem("relationships");var i=null;if(this.pageRelationship)i=new y({model:this.pageRelationship.relationships.get(e)}),t.App.mainRegion.show(i);else{var n=new w({id:e});n.fetch({success:function(e){i=new y({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Relationshipos",itemSubFolderName:"Formulário de atualização",url:"app/relationships"})}},viewApproachs:function(){r.markActiveItem("viewApproachs"),this.pageViewApproach=new C,this.App.mainRegion.show(this.pageViewApproach),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"ViewApproach",itemSubFolderName:"Grid",url:"app/viewApproachs"})},newViewApproach:function(){r.markActiveItem("viewApproachs");var e=new x({model:new I});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"ViewApproach",itemSubFolderName:"Formulário de cadastro",url:"app/viewApproachs"})},editViewApproach:function(e){var t=this;r.markActiveItem("viewApproachs");var i=null;if(this.pageViewApproach)i=new x({model:this.pageViewApproach.viewApproachs.get(e)}),t.App.mainRegion.show(i);else{var n=new I({id:e});n.fetch({success:function(e){i=new x({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"ViewApproachos",itemSubFolderName:"Formulário de atualização",url:"app/viewApproachs"})}},bairros:function(){r.markActiveItem("bairros"),this.pageBairro=new M,this.App.mainRegion.show(this.pageBairro),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Bairro",itemSubFolderName:"Grid",url:"app/bairros"})},newBairro:function(){r.markActiveItem("bairros");var e=new A({model:new k});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Bairro",itemSubFolderName:"Formulário de cadastro",url:"app/bairros"})},editBairro:function(e){var t=this;r.markActiveItem("bairros");var i=null;if(this.pageBairro)i=new A({model:this.pageBairro.bairros.get(e)}),t.App.mainRegion.show(i);else{var n=new k({id:e});n.fetch({success:function(e){i=new A({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Bairroos",itemSubFolderName:"Formulário de atualização",url:"app/bairros"})}},ceps:function(){r.markActiveItem("ceps"),this.pageCep=new N,this.App.mainRegion.show(this.pageCep),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cep",itemSubFolderName:"Grid",url:"app/ceps"})},newCep:function(){r.markActiveItem("ceps");var e=new T({model:new _});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cep",itemSubFolderName:"Formulário de cadastro",url:"app/ceps"})},editCep:function(e){var t=this;r.markActiveItem("ceps");var i=null;if(this.pageCep)i=new T({model:this.pageCep.ceps.get(e)}),t.App.mainRegion.show(i);else{var n=new _({id:e});n.fetch({success:function(e){i=new T({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Cepos",itemSubFolderName:"Formulário de atualização",url:"app/ceps"})}},cidades:function(){r.markActiveItem("cidades"),this.pageCidade=new S,this.App.mainRegion.show(this.pageCidade),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cidade",itemSubFolderName:"Grid",url:"app/cidades"})},newCidade:function(){r.markActiveItem("cidades");var e=new D({model:new E});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cidade",itemSubFolderName:"Formulário de cadastro",url:"app/cidades"})},editCidade:function(e){var t=this;r.markActiveItem("cidades");var i=null;if(this.pageCidade)i=new D({model:this.pageCidade.cidades.get(e)}),t.App.mainRegion.show(i);else{var n=new E({id:e});n.fetch({success:function(e){i=new D({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Cidadeos",itemSubFolderName:"Formulário de atualização",url:"app/cidades"})}},enderecos:function(){r.markActiveItem("enderecos"),this.pageEndereco=new P,this.App.mainRegion.show(this.pageEndereco),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Endereco",itemSubFolderName:"Grid",url:"app/enderecos"})},newEndereco:function(){r.markActiveItem("enderecos");var e=new R({model:new j});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Endereco",itemSubFolderName:"Formulário de cadastro",url:"app/enderecos"})},editEndereco:function(e){var t=this;r.markActiveItem("enderecos");var i=null;if(this.pageEndereco)i=new R({model:this.pageEndereco.enderecos.get(e)}),t.App.mainRegion.show(i);else{var n=new j({id:e});n.fetch({success:function(e){i=new R({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Enderecoos",itemSubFolderName:"Formulário de atualização",url:"app/enderecos"})}},estados:function(){r.markActiveItem("estados"),this.pageEstado=new z,this.App.mainRegion.show(this.pageEstado),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Estado",itemSubFolderName:"Grid",url:"app/estados"})},newEstado:function(){r.markActiveItem("estados");var e=new F({model:new L});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Estado",itemSubFolderName:"Formulário de cadastro",url:"app/estados"})},editEstado:function(e){var t=this;r.markActiveItem("estados");var i=null;if(this.pageEstado)i=new F({model:this.pageEstado.estados.get(e)}),t.App.mainRegion.show(i);else{var n=new L({id:e});n.fetch({success:function(e){i=new F({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Estadoos",itemSubFolderName:"Formulário de atualização",url:"app/estados"})}},paiss:function(){r.markActiveItem("paiss"),this.pagePais=new B,this.App.mainRegion.show(this.pagePais),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Pais",itemSubFolderName:"Grid",url:"app/paiss"})},newPais:function(){r.markActiveItem("paiss");var e=new O({model:new G});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Pais",itemSubFolderName:"Formulário de cadastro",url:"app/paiss"})},editPais:function(e){var t=this;r.markActiveItem("paiss");var i=null;if(this.pagePais)i=new O({model:this.pagePais.paiss.get(e)}),t.App.mainRegion.show(i);else{var n=new G({id:e});n.fetch({success:function(e){i=new O({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Paisos",itemSubFolderName:"Formulário de atualização",url:"app/paiss"})}},clients:function(){r.markActiveItem("clients"),this.pageClient=new V,this.App.mainRegion.show(this.pageClient),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cliente",itemSubFolderName:"Grid",url:"app/clients"})},newClient:function(){r.markActiveItem("clients");var e=new H({model:new W});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cliente",itemSubFolderName:"Formulário de cadastro",url:"app/clients"})},editClient:function(e){var t=this;r.markActiveItem("clients");var i=null;if(this.pageClient)i=new H({model:this.pageClient.clients.get(e)}),t.App.mainRegion.show(i);else{var n=new W({id:e});n.fetch({success:function(e){i=new H({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Clientos",itemSubFolderName:"Formulário de atualização",url:"app/clients"})}},clientes:function(){r.markActiveItem("clientes"),this.pageCliente=new q,this.App.mainRegion.show(this.pageCliente),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cliente",itemSubFolderName:"Grid",url:"app/clientes"})},newCliente:function(){r.markActiveItem("clientes");var e=new U({model:new Z});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Cliente",itemSubFolderName:"Formulário de cadastro",url:"app/clientes"})},editCliente:function(e){var t=this;r.markActiveItem("clientes");var i=null;if(this.pageCliente)i=new U({model:this.pageCliente.clientes.get(e)}),t.App.mainRegion.show(i);else{var n=new Z({id:e});n.fetch({success:function(e){i=new U({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Clienteos",itemSubFolderName:"Formulário de atualização",url:"app/clientes"})}},itemTypes:function(){r.markActiveItem("itemTypes"),this.pageItemType=new Y,this.App.mainRegion.show(this.pageItemType),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Tipo de Item",itemSubFolderName:"Grid",url:"app/itemTypes"})},newItemType:function(){r.markActiveItem("itemTypes");var e=new X({model:new $});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Tipo de Item",itemSubFolderName:"Formulário de cadastro",url:"app/itemTypes"})},editItemType:function(e){var t=this;r.markActiveItem("itemTypes");var i=null;if(this.pageItemType)i=new X({model:this.pageItemType.itemTypes.get(e)}),t.App.mainRegion.show(i);else{var n=new $({id:e});n.fetch({success:function(e){i=new X({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"ItemTypeos",itemSubFolderName:"Formulário de atualização",url:"app/itemTypes"})}},operations:function(){r.markActiveItem("operations"),this.pageOperation=new J,this.App.mainRegion.show(this.pageOperation),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Operação",itemSubFolderName:"Grid",url:"app/operations"})},newOperation:function(){r.markActiveItem("operations");var e=new K({model:new Q});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Operação",itemSubFolderName:"Formulário de cadastro",url:"app/operations"})},editOperation:function(e){var t=this;r.markActiveItem("operations");var i=null;if(this.pageOperation)i=new K({model:this.pageOperation.operations.get(e)}),t.App.mainRegion.show(i);else{var n=new Q({id:e});n.fetch({success:function(e){i=new K({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Operationos",itemSubFolderName:"Formulário de atualização",url:"app/operations"})}},permissions:function(){r.markActiveItem("permissions"),this.pagePermission=new et,this.App.mainRegion.show(this.pagePermission),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Permissão",itemSubFolderName:"Grid",url:"app/permissions"})},newPermission:function(){r.markActiveItem("permissions");var e=new tt({model:new it});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Permissão",itemSubFolderName:"Formulário de cadastro",url:"app/permissions"})},editPermission:function(e){var t=this;r.markActiveItem("permissions");var i=null;if(this.pagePermission)i=new tt({model:this.pagePermission.permissions.get(e)}),t.App.mainRegion.show(i);else{var n=new it({id:e});n.fetch({success:function(e){i=new tt({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Permissionos",itemSubFolderName:"Formulário de atualização",url:"app/permissions"})}},roles:function(){r.markActiveItem("roles"),this.pageRole=new nt,this.App.mainRegion.show(this.pageRole),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Papel",itemSubFolderName:"Grid",url:"app/roles"})},newRole:function(){r.markActiveItem("roles");var e=new rt({model:new at});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Papel",itemSubFolderName:"Formulário de cadastro",url:"app/roles"})},editRole:function(e){var t=this;r.markActiveItem("roles");var i=null;if(this.pageRole)i=new rt({model:this.pageRole.roles.get(e)}),t.App.mainRegion.show(i);else{var n=new at({id:e});n.fetch({success:function(e){i=new rt({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Roleos",itemSubFolderName:"Formulário de atualização",url:"app/roles"})}},sessions:function(){r.markActiveItem("sessions"),this.pageSession=new ot,this.App.mainRegion.show(this.pageSession),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Sessão",itemSubFolderName:"Grid",url:"app/sessions"})},newSession:function(){r.markActiveItem("sessions");var e=new st({model:new lt});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Sessão",itemSubFolderName:"Formulário de cadastro",url:"app/sessions"})},editSession:function(e){var t=this;r.markActiveItem("sessions");var i=null;if(this.pageSession)i=new st({model:this.pageSession.sessions.get(e)}),t.App.mainRegion.show(i);else{var n=new lt({id:e});n.fetch({success:function(e){i=new st({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Sessionos",itemSubFolderName:"Formulário de atualização",url:"app/sessions"})}},itemModulos:function(){r.markActiveItem("itemModulos"),this.pageItemModulo=new pt,this.App.mainRegion.show(this.pageItemModulo),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Item do Módulo",itemSubFolderName:"Grid",url:"app/itemModulos"})},newItemModulo:function(){r.markActiveItem("itemModulos");var e=new ht({model:new ft});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Item do Módulo",itemSubFolderName:"Formulário de cadastro",url:"app/itemModulos"})},editItemModulo:function(e){var t=this;r.markActiveItem("itemModulos");var i=null;if(this.pageItemModulo)i=new ht({model:this.pageItemModulo.itemModulos.get(e)}),t.App.mainRegion.show(i);else{var n=new ft({id:e});n.fetch({success:function(e){i=new ht({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"ItemModuloos",itemSubFolderName:"Formulário de atualização",url:"app/itemModulos"})}},modulos:function(){r.markActiveItem("modulos"),this.pageModulo=new mt,this.App.mainRegion.show(this.pageModulo),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Módulo",itemSubFolderName:"Grid",url:"app/modulos"})},newModulo:function(){r.markActiveItem("modulos");var e=new gt({model:new vt});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Módulo",itemSubFolderName:"Formulário de cadastro",url:"app/modulos"})},editModulo:function(e){var t=this;r.markActiveItem("modulos");var i=null;if(this.pageModulo)i=new gt({model:this.pageModulo.modulos.get(e)}),t.App.mainRegion.show(i);else{var n=new vt({id:e});n.fetch({success:function(e){i=new gt({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Moduloos",itemSubFolderName:"Formulário de atualização",url:"app/modulos"})}},users:function(){r.markActiveItem("users"),this.pageUser=new ct,this.App.mainRegion.show(this.pageUser),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Usuário",itemSubFolderName:"Grid",url:"app/users"})},newUser:function(){r.markActiveItem("users");var e=new dt({model:new ut});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Usuário",itemSubFolderName:"Formulário de cadastro",url:"app/users"})},helpGenerateYaml:function(e){this.pageHelpGenerateYaml=new wt({appId:e}),this.App.mainRegion.show(this.pageHelpGenerateYaml)},editUser:function(e){var t=this;r.markActiveItem("users");var i=null;if(this.pageUser)i=new dt({model:this.pageUser.users.get(e)}),t.App.mainRegion.show(i);else{var n=new ut({id:e});n.fetch({success:function(e){i=new dt({model:e}),t.App.mainRegion.show(i)},error:function(e,t,i){console.error(e,t,i)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Useros",itemSubFolderName:"Formulário de atualização",url:"app/users"})}},start:function(){i.history.start()}});return xt}),define("AppScripts",["adapters/jquery-adapter"],function(e){var t=function(){function t(){var t=62,i=e("#navigation").height(),n=e(".content").height();i>n&&e("#wrapper").css("min-height",i+"px"),i>n&&i<e(window).height()&&e("#wrapper").css("min-height",e(window).height()-t+"px"),n>i&&n<e(window).height()&&e("#wrapper").css("min-height",e(window).height()-t+"px")}function i(){e(this).width()<769?e("body").addClass("page-small"):(e("body").removeClass("page-small"),e("body").removeClass("show-sidebar"))}i(),e(".hide-menu").click(function(t){t.preventDefault(),e("body").toggleClass(e(window).width()<769?"show-sidebar":"hide-sidebar")}),e("#side-menu").metisMenu(),e(".showhide").click(function(t){t.preventDefault();var i=e(this).closest("div.hpanel"),n=e(this).find("i:first"),r=i.find("div.panel-body"),a=i.find("div.panel-footer");r.slideToggle(300),a.slideToggle(200),n.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),i.toggleClass("").toggleClass("panel-collapse"),setTimeout(function(){i.resize(),i.find("[id^=map-]").resize()},50)}),e(".closebox").click(function(t){t.preventDefault();var i=e(this).closest("div.hpanel");i.remove()}),e(".small-header-action").click(function(t){t.preventDefault();var i=e(this).find("i:first"),n=e(this).parent().find("#hbreadcrumb");e(this).parent().parent().parent().toggleClass("small-header"),n.toggleClass("m-t-lg"),i.toggleClass("fa-arrow-up").toggleClass("fa-arrow-down")}),t(),e(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]"}),e("[data-toggle=popover]").popover(),e(".modal").appendTo("body"),e(window).bind("load",function(){e(".splash").css("display","none")}),e(window).bind("resize click",function(){i(),setTimeout(function(){t()},300)}),e.fn.animatePanel=function(){var t=e(this),i=e(this).data("effect"),n=e(this).data("delay"),r=e(this).data("child");i||(i="zoomIn"),n?n/=10:n=.06,r=r?"."+r:".row > div";var a=0,o=Math.abs(n)+a,s=t.find(r);s.addClass("opacity-0"),s=t.find(r),s.addClass("animated-panel").addClass(i),s.each(function(t,i){o+=n;var r=Math.round(10*o)/10;e(i).css("animation-delay",r+"s"),e(i).removeClass("opacity-0")})},setTimeout(function(){var t=e("#loadInitialPanel");t.on("transitionend",function(){}),t.remove(),t.addClass("fadedOut")},200),e(window).scroll(function(){e(this).scrollTop()?e("#toTop").fadeIn(1e3):e("#toTop").fadeOut(1e3)}),e("#toTop").click(function(){e("html, body").animate({scrollTop:0},500)})};return{initialize:t}}),define("CorsApp",["adapters/jquery-adapter"],function(){var e=function(e,t){var i=window.btoa,n=function(e){return i(unescape(encodeURIComponent([e.username,e.password].join(":"))))};t.BasicAuth={getHeader:function(e){return{Authorization:"Basic "+n(e)}}};var r=t.sync;t.sync=function(i,n,a){a=a||{},a.crossDomain||(a.crossDomain=!0),a.xhrFields||(a.xhrFields={withCredentials:!0});var o,s;return n.credentials&&(o=e.result(n,"credentials")),null==o&&(remoteURL=a.url||e.result(n,"url"),s=remoteURL.match(/\/\/(.*):(.*)@/),s&&3===s.length&&(o={username:s[1],password:s[2]})),null!=o&&(a.headers=a.headers||{},e.extend(a.headers,t.BasicAuth.getHeader(o))),r.call(n,i,n,a)}};return{initCorsSuportWithCredentials:e}}),define("utilities/AuthUtil",["require","adapters/jquery-adapter","adapters/underscore-adapter"],function(e){e("adapters/jquery-adapter"),e("adapters/underscore-adapter");return{accessDenied:function(){var e=location.href.replace();location.hash?(e=location.href.replace(location.hash,"403.html"),window.location.href=e):this._endsWith(location.href,"#")?(e=location.href.replace("/#","/403.html"),window.location.href=e):this._endsWith(location.href,"/")?(e=location.href+"403.html",window.location.href=e):(e=location.href+"/403.html",window.location.href=e)},userCanRead:function(e){return console.log(e),!1},userCanNotRead:function(e){return console.log(e),!1},load:function(e){e()},_endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}}}),define("App",["require","adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter","Router","AppScripts","CorsApp","utilities/AuthUtil"],function(e){var t=(e("adapters/jquery-adapter"),e("adapters/underscore-adapter")),i=e("adapters/backbone-adapter"),n=e("Router"),r=e("AppScripts"),a=e("CorsApp"),o=e("utilities/AuthUtil"),s=function(){var e=new n;a.initCorsSuportWithCredentials(t,i),r.initialize(),o.load(function(){console.log("inicializando Router..."),e.start()})};return{initialize:s}}),require.config({paths:{jquery:"../vendor/jquery/jquery-1.10.2",jqueryUI:"../vendor/jquery.ui/jquery-ui-1.10.4.custom.min",jqueryMaskInput:"../vendor/jquery.maskedinput/jquery.maskedinput-1.3.1",jqueryScrollTo:"../vendor/jquery.scrollTo/jquery.scrollTo",jqueryValidatorEngine:"../vendor/jquery.validationEngine/jquery.validationEngine-2.6.2",jqueryValidatorEnginePtBr:"../vendor/jquery.validationEngine/jquery.validationEngine-pt_BR",jqueryNumeric:"../vendor/jquery.numeric/jquery.numeric-1.3.1",slimscroll:"../vendor/slimscroll/jquery.slimscroll.min",slimscrollHorizontal:"../vendor/slimscroll/jquery.slimscroll.horizontal.min",nprogress:"../vendor/nprogressbar/nprogress",spin:"../vendor/spin/spin",morris:"../vendor/morris/morris",raphael:"../vendor/raphael/raphael",underscore:"../vendor/underscore/underscore-1.5.1",backbone:"../vendor/backbone/backbone-1.1.2",backboneLocalstorage:"../vendor/backbone.localStorage/backbone.localStorage",backgrid:"../vendor/backgrid/backgrid-0.3.5",backgridMomentCell:"../vendor/backgrid/extensions/backgrid-moment-cell",backboneSelectAll:"../vendor/backgrid/extensions/backgrid-select-all",backboneWebSocket:"../vendor/backbone.websocket/backbone.websocket",backbonePageable:"../vendor/backgrid/extensions/backbone-pageable1.4.8",backbonePaginator:"../vendor/backgrid/extensions/backgrid-paginator",marionette:"../vendor/backbone.marionette/backbone.marionette-2.2.0",multiselect:"../vendor/bootstrap.multiselect/bootstrap-multiselect",bootstrap:"../vendor/bootstrap/js/bootstrap",bootbox:"../vendor/bootbox/bootbox",datetimepicker:"../vendor/bootstrap.datetimepicker/bootstrap-datetimepicker",datetimepicker_lang_pt_BR:"../vendor/bootstrap.datetimepicker/bootstrap-datetimepicker.pt-BR",text:"../vendor/require/text-2.0.3",async:"../vendor/require/async-0.1.1",moment:"../vendor/moment/moment-2.7",list:"../vendor/jscf/list",map:"../vendor/jscf/map",set:"../vendor/jscf/set",jqueryGritter:"../vendor/jquery.gritter-1.7.4/js/jquery.gritter",metisMenu:"../vendor/metisMenu/dist/metisMenu",editable:"../vendor/bootstrap3-editable/js/bootstrap-editable",joint:"../vendor/joint/joint",shapesUml:"../vendor/joint/joint.shapes.uml",lodash:"../vendor/lodash/lodash",download:"../vendor/download/download",codemirror:"../vendor/CodeMirror-4_beta2/lib/codemirror",codemirrorYaml:"../vendor/CodeMirror-4_beta2/mode/yaml/yaml",Yaml:"../vendor/js-yaml-3.6.1/dist/js-yaml"},shim:{underscore:{exports:"_"},jquery:{exports:"$"},backgrid:{deps:["backbone"],exports:"Backgrid"},codemirrorYaml:{deps:["codemirror"]},moment:{exports:"moment"},raphael:{exports:"raphael"},backboneWebSocket:{deps:["backbone","underscore"],exports:"WebSocket"},backboneLocalstorage:{deps:["backbone"],exports:"Store"},backbonePageable:{deps:["backbone"],exports:"PageableCollection"},backboneSelectAll:{deps:["backgrid"]},morris:{deps:["raphael","jquery"],exports:"Morris"},backbonePaginator:{deps:["backbone","backgrid","backbonePageable"]},bootstrap:["jquery"],bootbox:["jquery"],jqueryMaskInput:["jquery"],jqueryScrollTo:["jquery"],nprogres:{deps:["jquery"],exports:"Nprogress"},marionette:{deps:["jquery","underscore","backbone"],exports:"Marionette"},jqueryUI:["jquery"],datetimepicker:["jquery"],datetimepicker_lang_pt_BR:{deps:["jquery","moment"],exports:"datetimepicker_lang_pt_BR"},joint:{deps:["jquery","backbone","underscore"],exports:"joint"},jqueryNumeric:["jquery"],shapesUml:["joint"],multiselect:["jquery"],list:{exports:"List"},map:{exports:"Map"},set:{exports:"Set"},jqueryValidatorEngine:["jquery"],jqueryValidatorEnginePtBr:["jquery"],slimscroll:["jquery"],slimscrollHorizontal:["jquery"],jqueryGritter:["jquery"],metisMenu:["jquery"],editable:["jquery","bootstrap"]},wrapShim:!0}),requirejs.onResourceLoad=function(){},require(["App"],function(e){e.initialize()}),define("main",function(){});